<!DOCTYPE html>
<html lang="en" data-root="https://acm.im/bristlecone/">
<head>
    <meta charset="UTF-8">
    <meta content="IE=edge" http-equiv="X-UA-Compatible">
    <meta content="width=device-width, initial-scale=1.0" name="viewport">
    <meta content="Andrew Martin" name="author">
    <!-- Opengraph properties (https://ogp.me/) -->
    <meta property="og:site_name" content="bristlecone">
    <meta property="og:title" content="Shrub response to a single limiting resource" />
    <meta property="og:url" content="https://acm.im/bristlecone/examples/shrub-resource.html">
    <meta property="og:type" content="website" />
    <!-- Twitter cards (https://developer.twitter.com/en/docs/twitter-for-websites/cards/overview/summary-card-with-large-image) -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:site" content="https://acm.im/bristlecone/">
    <meta name="twitter:title" content="Shrub response to a single limiting resource">
    
    <title>Shrub response to a single limiting resource | bristlecone</title>
    <link href="https://fonts.googleapis.com" rel="preconnect">
    <link crossorigin href="https://fonts.gstatic.com" rel="preconnect">
    <link href="https://fonts.googleapis.com/css2?family=Fira+Code&display=swap" rel="stylesheet">
    <script src="https://code.iconify.design/iconify-icon/1.0.7/iconify-icon.min.js"></script>
    <link href="https://acm.im/bristlecone/img/favicon.ico" rel="icon" sizes="32x32" type="image/png"/>
    <script type="application/javascript" src="https://acm.im/bristlecone/content/fsdocs-theme-set-dark.js"></script>
    <link href="https://acm.im/bristlecone/content/fsdocs-default.css" rel="stylesheet" type="text/css"/>
    <link href="https://acm.im/bristlecone/content/fsdocs-theme.css" rel="stylesheet" type="text/css"/>
    <script src="https://cdn.plot.ly/plotly-2.21.0.min.js"></script>
    
</head>
<body class="content">
<header>
    <div class="start">
        <div id="menu-toggle">
            <iconify-icon class="icon closed" height="22" icon="eva:menu-fill" width="22"></iconify-icon>
            <iconify-icon class="icon open" height="22" icon="mi:close" width="22"></iconify-icon>
            <input type="checkbox" name="mobile-menu" />
            <ul class="menu">
                <li class="nav-header">Links</li>
                <li class="nav-item"><a class="nav-link" href="https://github.com/AndrewIOM/bristlecone/blob/master/LICENSE">License</a>
                </li>
                <li class="nav-item"><a class="nav-link"
                                        href="https://github.com/AndrewIOM/bristlecone/blob/master/RELEASE_NOTES.MD">Release
                    Notes</a></li>
                <li class="nav-item"><a class="nav-link" href="https://github.com/AndrewIOM/bristlecone/">Source
                    Repository</a></li>
                <li class="nav-header ">
  The Bristlecone Language
</li>             
<li class="nav-item ">
  <a class="nav-link" href="https://acm.im/bristlecone/language.html">
    Writing Models
  </a>
</li>             
<li class="nav-item ">
  <a class="nav-link" href="https://acm.im/bristlecone/model.html">
    Defining a Hypothesis (or Model System)
  </a>
</li>             
<li class="nav-item ">
  <a class="nav-link" href="https://acm.im/bristlecone/estimation-engine.html">
    Defining a Model-Fitting Method (Estimation Engine)
  </a>
</li>             
<li class="nav-item ">
  <a class="nav-link" href="https://acm.im/bristlecone/composing-models.html">
    Composing models into many hypotheses
  </a>
</li>             
<li class="nav-header ">
  Techniques
</li>             
<li class="nav-item ">
  <a class="nav-link" href="https://acm.im/bristlecone/model-fitting.html">
    Model Fitting
  </a>
</li>             
<li class="nav-item ">
  <a class="nav-link" href="https://acm.im/bristlecone/model-selection.html">
    Model Selection
  </a>
</li>             
<li class="nav-item ">
  <a class="nav-link" href="https://acm.im/bristlecone/workflow.html">
    Ensembles and Parallel Processing
  </a>
</li>             
<li class="nav-item ">
  <a class="nav-link" href="https://acm.im/bristlecone/confidence-intervals.html">
    Calculating Confidence Intervals
  </a>
</li>             
<li class="nav-item ">
  <a class="nav-link" href="https://acm.im/bristlecone/diagnostics.html">
    Diagnostics
  </a>
</li>             
<li class="nav-item ">
  <a class="nav-link" href="https://acm.im/bristlecone/data.html">
    Loading and Saving Data
  </a>
</li>             
<li class="nav-header ">
  Bristlecone.Dendro
</li>             
<li class="nav-item ">
  <a class="nav-link" href="https://acm.im/bristlecone/dendro.html">
    Dendroecology
  </a>
</li>             
<li class="nav-header active">
  Examples
</li>             
<li class="nav-item ">
  <a class="nav-link" href="https://acm.im/bristlecone/examples/predator-prey.html">
    Predator-Prey Dynamics
  </a>
</li>             
<li class="nav-item active">
  <a class="nav-link" href="https://acm.im/bristlecone/examples/shrub-resource.html">
    Shrub response to a single limiting resource
  </a>
</li>             
<li class="nav-header ">
  Components
</li>             
<li class="nav-item ">
  <a class="nav-link" href="https://acm.im/bristlecone/optimisation.html">
    Optimisation
  </a>
</li>             
<li class="nav-item ">
  <a class="nav-link" href="https://acm.im/bristlecone/integration.html">
    Integration
  </a>
</li>
                <li class="nav-header">
  API Reference
</li>             
<li class="nav-item">
  <a class="nav-link" href="https://acm.im/bristlecone/reference/index.html">
    All Namespaces
  </a>
</li>
            </ul>
        </div>
        <a href="https://acm.im/bristlecone/">
            <img alt="Header menu logo" src="https://acm.im/bristlecone//img/logo.png">
            <strong>bristlecone</strong>
        </a>
    </div>
    <div class="end">
        <a href="https://github.com/AndrewIOM/bristlecone/" target="_blank">
            <iconify-icon icon="uil:github" width="26" height="26"></iconify-icon>
        </a>
        <iconify-icon id="search-btn" icon="carbon:search" class="search" width="24" height="24"></iconify-icon>
        <fsdocs-theme-toggle></fsdocs-theme-toggle>
    </div>
</header>
<aside id="fsdocs-main-menu">
    <ul class="menu">
        <li class="nav-header">Links</li>
        <li class="nav-item"><a class="nav-link" href="https://github.com/AndrewIOM/bristlecone/blob/master/LICENSE">License</a>
        </li>
        <li class="nav-item"><a class="nav-link"
                                href="https://github.com/AndrewIOM/bristlecone/blob/master/RELEASE_NOTES.MD">Release
            Notes</a></li>
        <li class="nav-item"><a class="nav-link" href="https://github.com/AndrewIOM/bristlecone/">Source
            Repository</a></li>
        <li class="nav-header ">
  The Bristlecone Language
</li>             
<li class="nav-item ">
  <a class="nav-link" href="https://acm.im/bristlecone/language.html">
    Writing Models
  </a>
</li>             
<li class="nav-item ">
  <a class="nav-link" href="https://acm.im/bristlecone/model.html">
    Defining a Hypothesis (or Model System)
  </a>
</li>             
<li class="nav-item ">
  <a class="nav-link" href="https://acm.im/bristlecone/estimation-engine.html">
    Defining a Model-Fitting Method (Estimation Engine)
  </a>
</li>             
<li class="nav-item ">
  <a class="nav-link" href="https://acm.im/bristlecone/composing-models.html">
    Composing models into many hypotheses
  </a>
</li>             
<li class="nav-header ">
  Techniques
</li>             
<li class="nav-item ">
  <a class="nav-link" href="https://acm.im/bristlecone/model-fitting.html">
    Model Fitting
  </a>
</li>             
<li class="nav-item ">
  <a class="nav-link" href="https://acm.im/bristlecone/model-selection.html">
    Model Selection
  </a>
</li>             
<li class="nav-item ">
  <a class="nav-link" href="https://acm.im/bristlecone/workflow.html">
    Ensembles and Parallel Processing
  </a>
</li>             
<li class="nav-item ">
  <a class="nav-link" href="https://acm.im/bristlecone/confidence-intervals.html">
    Calculating Confidence Intervals
  </a>
</li>             
<li class="nav-item ">
  <a class="nav-link" href="https://acm.im/bristlecone/diagnostics.html">
    Diagnostics
  </a>
</li>             
<li class="nav-item ">
  <a class="nav-link" href="https://acm.im/bristlecone/data.html">
    Loading and Saving Data
  </a>
</li>             
<li class="nav-header ">
  Bristlecone.Dendro
</li>             
<li class="nav-item ">
  <a class="nav-link" href="https://acm.im/bristlecone/dendro.html">
    Dendroecology
  </a>
</li>             
<li class="nav-header active">
  Examples
</li>             
<li class="nav-item ">
  <a class="nav-link" href="https://acm.im/bristlecone/examples/predator-prey.html">
    Predator-Prey Dynamics
  </a>
</li>             
<li class="nav-item active">
  <a class="nav-link" href="https://acm.im/bristlecone/examples/shrub-resource.html">
    Shrub response to a single limiting resource
  </a>
</li>             
<li class="nav-header ">
  Components
</li>             
<li class="nav-item ">
  <a class="nav-link" href="https://acm.im/bristlecone/optimisation.html">
    Optimisation
  </a>
</li>             
<li class="nav-item ">
  <a class="nav-link" href="https://acm.im/bristlecone/integration.html">
    Integration
  </a>
</li>
        <li class="nav-header">
  API Reference
</li>             
<li class="nav-item">
  <a class="nav-link" href="https://acm.im/bristlecone/reference/index.html">
    All Namespaces
  </a>
</li>
    </ul>
</aside>
<main>
    <div id="content">
        
<h2><a name="A-fully-worked-example-soil-nutrients-and-plant-growth" class="anchor" href="#A-fully-worked-example-soil-nutrients-and-plant-growth">A fully-worked example: soil nutrients and plant growth</a></h2>
<p>The following code demonstrates the key functionality of
Bristlecone, using a real-world example. Specifically, it
demonstrates model-fitting and model-selection for the
mechanisms controlling nutrient limitation to shrub individuals
in the Arctic tundra.</p>
<p>The hypotheses are tested on a per-shrub basis. For each shrub,
there are four components that may vary in the model, which
when multiplied together results in 12 possible combinations
of mechanisms for each shrub.</p>
<p>First, we must load Bristlecone.</p>
<pre class="fssnip highlighted"><code lang="fsharp"><span class="k">open</span> <span onmouseout="hideTip(event, 'fs72', 358)" onmouseover="showTip(event, 'fs72', 358)" class="id">Bristlecone</span> <span class="c">// Opens Bristlecone core library and estimation engine</span>
<span class="k">open</span> <span onmouseout="hideTip(event, 'fs2', 359)" onmouseover="showTip(event, 'fs2', 359)" class="m">Bristlecone</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs73', 360)" onmouseover="showTip(event, 'fs73', 360)" class="m">Language</span> <span class="c">// Open the language for writing Bristlecone models</span>
<span class="k">open</span> <span onmouseout="hideTip(event, 'fs2', 361)" onmouseover="showTip(event, 'fs2', 361)" class="m">Bristlecone</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs74', 362)" onmouseover="showTip(event, 'fs74', 362)" class="m">Time</span>
</code></pre>
<h3><a name="Defining-a-base-model" class="anchor" href="#Defining-a-base-model">Defining a 'base model'</a></h3>
<p>Then, we define a <code>base model</code> system, into which we can nest
the components that vary (which represent different hypotheses).</p>
<p>Our base model consists of the following parts:</p>
<ul>
<li>
<strong>An empirical transform.</strong> As this model uses long-term ecological data, 
there is a function that translates from an ecological proxy (stable nitrogen isotope)
into the desired variable - soil nitrogen availability.
</li>
<li>
<strong>Two ordinary differential equations (ODEs).</strong> These represent the soil N availability
and plant biomass through time.
</li>
<li>
<strong>A <em>measurement</em> variable.</strong> Bristlecone 'measurements' are effectively
derived time-series that are calulated from the integrated ODE output. Here,
we use a measurement variable to transform biomass into wood ring production,
where rings are only produced where plant biomass has increased during the year.
</li>
</ul>
<p>The code for the parts of the base model is shown below.</p>
<pre class="fssnip highlighted"><code lang="fsharp"><span class="c">// Empirical transform from δ15N to N availability.</span>
<span class="k">let</span> <span class="id">``δ15N -&gt; N availability``</span> <span class="o">=</span>
    <span class="pn">(</span><span onmouseout="hideTip(event, 'fs75', 363)" onmouseover="showTip(event, 'fs75', 363)" class="uc">Constant</span> <span class="n">100.</span> <span class="o">*</span> <span onmouseout="hideTip(event, 'fs76', 364)" onmouseover="showTip(event, 'fs76', 364)" class="uc">Environment</span> <span class="s">&quot;N&quot;</span> <span class="o">+</span> <span onmouseout="hideTip(event, 'fs75', 365)" onmouseover="showTip(event, 'fs75', 365)" class="uc">Constant</span> <span class="n">309.</span><span class="pn">)</span> <span class="o">/</span> <span onmouseout="hideTip(event, 'fs75', 366)" onmouseover="showTip(event, 'fs75', 366)" class="uc">Constant</span> <span class="n">359.</span>

<span class="c">// ODE1. Cumulative stem biomass</span>
<span class="k">let</span> <span class="fn">``db/dt``</span> <span onmouseout="hideTip(event, 'fs77', 367)" onmouseover="showTip(event, 'fs77', 367)" class="fn">geom</span> <span onmouseout="hideTip(event, 'fs78', 368)" onmouseover="showTip(event, 'fs78', 368)" class="fn">nLimitation</span> <span class="o">=</span>
    <span onmouseout="hideTip(event, 'fs79', 369)" onmouseover="showTip(event, 'fs79', 369)" class="uc">Parameter</span> <span class="s">&quot;r&quot;</span> <span class="o">*</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs77', 370)" onmouseover="showTip(event, 'fs77', 370)" class="fn">geom</span> <span onmouseout="hideTip(event, 'fs80', 371)" onmouseover="showTip(event, 'fs80', 371)" class="uc">This</span><span class="pn">)</span> <span class="o">*</span> <span onmouseout="hideTip(event, 'fs80', 372)" onmouseover="showTip(event, 'fs80', 372)" class="uc">This</span> <span class="o">*</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs78', 373)" onmouseover="showTip(event, 'fs78', 373)" class="fn">nLimitation</span> <span class="id">``δ15N -&gt; N availability``</span><span class="pn">)</span>
    <span class="o">-</span> <span onmouseout="hideTip(event, 'fs79', 374)" onmouseover="showTip(event, 'fs79', 374)" class="uc">Parameter</span> <span class="s">&quot;γ[b]&quot;</span> <span class="o">*</span> <span onmouseout="hideTip(event, 'fs80', 375)" onmouseover="showTip(event, 'fs80', 375)" class="uc">This</span>

<span class="c">// ODE2. Soil nitrogen availability</span>
<span class="k">let</span> <span class="fn">``dN/dt``</span> <span onmouseout="hideTip(event, 'fs77', 376)" onmouseover="showTip(event, 'fs77', 376)" class="fn">geom</span> <span onmouseout="hideTip(event, 'fs81', 377)" onmouseover="showTip(event, 'fs81', 377)" class="fn">feedback</span> <span onmouseout="hideTip(event, 'fs82', 378)" onmouseover="showTip(event, 'fs82', 378)" class="fn">limitationName</span> <span onmouseout="hideTip(event, 'fs78', 379)" onmouseover="showTip(event, 'fs78', 379)" class="fn">nLimitation</span> <span class="o">=</span>
    <span class="k">if</span> <span onmouseout="hideTip(event, 'fs82', 380)" onmouseover="showTip(event, 'fs82', 380)" class="fn">limitationName</span> <span class="o">=</span> <span class="s">&quot;None&quot;</span> <span class="k">then</span>
        <span onmouseout="hideTip(event, 'fs79', 381)" onmouseover="showTip(event, 'fs79', 381)" class="uc">Parameter</span> <span class="s">&quot;λ&quot;</span> <span class="o">-</span> <span onmouseout="hideTip(event, 'fs79', 382)" onmouseover="showTip(event, 'fs79', 382)" class="uc">Parameter</span> <span class="s">&quot;γ[N]&quot;</span> <span class="o">*</span> <span class="id">``δ15N -&gt; N availability``</span> <span class="o">+</span> <span onmouseout="hideTip(event, 'fs81', 383)" onmouseover="showTip(event, 'fs81', 383)" class="fn">feedback</span> <span onmouseout="hideTip(event, 'fs80', 384)" onmouseover="showTip(event, 'fs80', 384)" class="uc">This</span>
    <span class="k">else</span>
        <span onmouseout="hideTip(event, 'fs79', 385)" onmouseover="showTip(event, 'fs79', 385)" class="uc">Parameter</span> <span class="s">&quot;λ&quot;</span> <span class="o">-</span> <span onmouseout="hideTip(event, 'fs79', 386)" onmouseover="showTip(event, 'fs79', 386)" class="uc">Parameter</span> <span class="s">&quot;γ[N]&quot;</span> <span class="o">*</span> <span class="id">``δ15N -&gt; N availability``</span> <span class="o">+</span> <span onmouseout="hideTip(event, 'fs81', 387)" onmouseover="showTip(event, 'fs81', 387)" class="fn">feedback</span> <span onmouseout="hideTip(event, 'fs80', 388)" onmouseover="showTip(event, 'fs80', 388)" class="uc">This</span>
        <span class="o">-</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs77', 389)" onmouseover="showTip(event, 'fs77', 389)" class="fn">geom</span> <span onmouseout="hideTip(event, 'fs80', 390)" onmouseover="showTip(event, 'fs80', 390)" class="uc">This</span><span class="pn">)</span> <span class="o">*</span> <span onmouseout="hideTip(event, 'fs80', 391)" onmouseover="showTip(event, 'fs80', 391)" class="uc">This</span> <span class="o">*</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs78', 392)" onmouseover="showTip(event, 'fs78', 392)" class="fn">nLimitation</span> <span class="id">``δ15N -&gt; N availability``</span><span class="pn">)</span>

<span class="c">// Measurement variable: stem radius</span>
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs83', 393)" onmouseover="showTip(event, 'fs83', 393)" class="fn">stemRadius</span> <span onmouseout="hideTip(event, 'fs84', 394)" onmouseover="showTip(event, 'fs84', 394)" class="fn">lastRadius</span> <span onmouseout="hideTip(event, 'fs85', 395)" onmouseover="showTip(event, 'fs85', 395)" class="fn">lastEnv</span> <span onmouseout="hideTip(event, 'fs86', 396)" onmouseover="showTip(event, 'fs86', 396)" class="fn">env</span> <span class="o">=</span>
    <span class="k">let</span> <span onmouseout="hideTip(event, 'fs87', 397)" onmouseover="showTip(event, 'fs87', 397)" class="fn">oldCumulativeMass</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs85', 398)" onmouseover="showTip(event, 'fs85', 398)" class="fn">lastEnv</span> <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs88', 399)" onmouseover="showTip(event, 'fs88', 399)" class="fn">lookup</span> <span class="s">&quot;bs&quot;</span>
    <span class="k">let</span> <span onmouseout="hideTip(event, 'fs89', 400)" onmouseover="showTip(event, 'fs89', 400)" class="fn">newCumulativeMass</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs86', 401)" onmouseover="showTip(event, 'fs86', 401)" class="fn">env</span> <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs88', 402)" onmouseover="showTip(event, 'fs88', 402)" class="fn">lookup</span> <span class="s">&quot;bs&quot;</span>

    <span class="k">if</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs89', 403)" onmouseover="showTip(event, 'fs89', 403)" class="fn">newCumulativeMass</span> <span class="o">-</span> <span onmouseout="hideTip(event, 'fs87', 404)" onmouseover="showTip(event, 'fs87', 404)" class="fn">oldCumulativeMass</span><span class="pn">)</span> <span class="o">&gt;</span> <span class="n">0.</span> <span class="k">then</span>
        <span onmouseout="hideTip(event, 'fs89', 405)" onmouseover="showTip(event, 'fs89', 405)" class="fn">newCumulativeMass</span> <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs1', 406)" onmouseover="showTip(event, 'fs1', 406)" class="m">Allometric</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs90', 407)" onmouseover="showTip(event, 'fs90', 407)" class="m">Proxies</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs64', 408)" onmouseover="showTip(event, 'fs64', 408)" class="id">toRadiusMM</span> <span class="c">// NB Allometrics is given in full in the downloadable script.</span>
    <span class="k">else</span>
        <span onmouseout="hideTip(event, 'fs84', 409)" onmouseover="showTip(event, 'fs84', 409)" class="fn">lastRadius</span>
</code></pre>
<p>Once we have defined the components, we can scaffold them into a model system.
We can plug in the nestable hypotheses (defined further below) by defining
the base model as a function that takes parameters representing the
alternative hypotheses.</p>
<pre class="fssnip highlighted"><code lang="fsharp"><span class="k">let</span> <span class="fn">``base model``</span> <span onmouseout="hideTip(event, 'fs91', 410)" onmouseover="showTip(event, 'fs91', 410)" class="fn">geometricConstraint</span> <span onmouseout="hideTip(event, 'fs92', 411)" onmouseover="showTip(event, 'fs92', 411)" class="fn">plantSoilFeedback</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs93', 412)" onmouseover="showTip(event, 'fs93', 412)" class="fn">nLimitMode</span><span class="pn">,</span> <span onmouseout="hideTip(event, 'fs78', 413)" onmouseover="showTip(event, 'fs78', 413)" class="fn">nLimitation</span><span class="pn">)</span> <span class="o">=</span>
    <span onmouseout="hideTip(event, 'fs94', 414)" onmouseover="showTip(event, 'fs94', 414)" class="m">Model</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs95', 415)" onmouseover="showTip(event, 'fs95', 415)" class="id">empty</span>
    <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs94', 416)" onmouseover="showTip(event, 'fs94', 416)" class="m">Model</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs96', 417)" onmouseover="showTip(event, 'fs96', 417)" class="id">addEquation</span> <span class="s">&quot;bs&quot;</span> <span class="pn">(</span><span class="fn">``db/dt``</span> <span onmouseout="hideTip(event, 'fs91', 418)" onmouseover="showTip(event, 'fs91', 418)" class="fn">geometricConstraint</span> <span onmouseout="hideTip(event, 'fs78', 419)" onmouseover="showTip(event, 'fs78', 419)" class="fn">nLimitation</span><span class="pn">)</span>
    <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs94', 420)" onmouseover="showTip(event, 'fs94', 420)" class="m">Model</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs96', 421)" onmouseover="showTip(event, 'fs96', 421)" class="id">addEquation</span> <span class="s">&quot;N&quot;</span> <span class="pn">(</span><span class="fn">``dN/dt``</span> <span onmouseout="hideTip(event, 'fs91', 422)" onmouseover="showTip(event, 'fs91', 422)" class="fn">geometricConstraint</span> <span onmouseout="hideTip(event, 'fs92', 423)" onmouseover="showTip(event, 'fs92', 423)" class="fn">plantSoilFeedback</span> <span onmouseout="hideTip(event, 'fs93', 424)" onmouseover="showTip(event, 'fs93', 424)" class="fn">nLimitMode</span> <span onmouseout="hideTip(event, 'fs78', 425)" onmouseover="showTip(event, 'fs78', 425)" class="fn">nLimitation</span><span class="pn">)</span>
    <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs94', 426)" onmouseover="showTip(event, 'fs94', 426)" class="m">Model</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs97', 427)" onmouseover="showTip(event, 'fs97', 427)" class="id">includeMeasure</span> <span class="s">&quot;x&quot;</span> <span onmouseout="hideTip(event, 'fs83', 428)" onmouseover="showTip(event, 'fs83', 428)" class="fn">stemRadius</span>
    <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs94', 429)" onmouseover="showTip(event, 'fs94', 429)" class="m">Model</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs98', 430)" onmouseover="showTip(event, 'fs98', 430)" class="id">estimateParameter</span> <span class="s">&quot;λ&quot;</span> <span onmouseout="hideTip(event, 'fs99', 431)" onmouseover="showTip(event, 'fs99', 431)" class="id">notNegative</span> <span class="n">0.001</span> <span class="n">0.500</span>
    <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs94', 432)" onmouseover="showTip(event, 'fs94', 432)" class="m">Model</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs98', 433)" onmouseover="showTip(event, 'fs98', 433)" class="id">estimateParameter</span> <span class="s">&quot;γ[N]&quot;</span> <span onmouseout="hideTip(event, 'fs99', 434)" onmouseover="showTip(event, 'fs99', 434)" class="id">notNegative</span> <span class="n">0.001</span> <span class="n">0.200</span>
    <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs94', 435)" onmouseover="showTip(event, 'fs94', 435)" class="m">Model</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs98', 436)" onmouseover="showTip(event, 'fs98', 436)" class="id">estimateParameter</span> <span class="s">&quot;γ[b]&quot;</span> <span onmouseout="hideTip(event, 'fs99', 437)" onmouseover="showTip(event, 'fs99', 437)" class="id">notNegative</span> <span class="n">0.001</span> <span class="n">0.200</span>
    <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs94', 438)" onmouseover="showTip(event, 'fs94', 438)" class="m">Model</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs100', 439)" onmouseover="showTip(event, 'fs100', 439)" class="id">useLikelihoodFunction</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs101', 440)" onmouseover="showTip(event, 'fs101', 440)" class="id">ModelLibrary</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs102', 441)" onmouseover="showTip(event, 'fs102', 441)" class="m">Likelihood</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs103', 442)" onmouseover="showTip(event, 'fs103', 442)" class="id">bivariateGaussian</span> <span class="s">&quot;x&quot;</span> <span class="s">&quot;N&quot;</span><span class="pn">)</span>
    <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs94', 443)" onmouseover="showTip(event, 'fs94', 443)" class="m">Model</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs98', 444)" onmouseover="showTip(event, 'fs98', 444)" class="id">estimateParameter</span> <span class="s">&quot;ρ&quot;</span> <span onmouseout="hideTip(event, 'fs104', 445)" onmouseover="showTip(event, 'fs104', 445)" class="id">noConstraints</span> <span class="o">-</span><span class="n">0.500</span> <span class="n">0.500</span>
    <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs94', 446)" onmouseover="showTip(event, 'fs94', 446)" class="m">Model</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs98', 447)" onmouseover="showTip(event, 'fs98', 447)" class="id">estimateParameter</span> <span class="s">&quot;σ[x]&quot;</span> <span onmouseout="hideTip(event, 'fs99', 448)" onmouseover="showTip(event, 'fs99', 448)" class="id">notNegative</span> <span class="n">0.001</span> <span class="n">0.100</span>
    <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs94', 449)" onmouseover="showTip(event, 'fs94', 449)" class="m">Model</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs98', 450)" onmouseover="showTip(event, 'fs98', 450)" class="id">estimateParameter</span> <span class="s">&quot;σ[y]&quot;</span> <span onmouseout="hideTip(event, 'fs99', 451)" onmouseover="showTip(event, 'fs99', 451)" class="id">notNegative</span> <span class="n">0.001</span> <span class="n">0.100</span>
</code></pre>
<h3><a name="Defining-the-competing-hypotheses" class="anchor" href="#Defining-the-competing-hypotheses">Defining the competing hypotheses</a></h3>
<p>Here, we define 12 alternative hypotheses by defining three interchangeable
components:</p>
<ul>
<li>Asymptotic plant size (2 types);</li>
<li>Plant-soil feedback presence / absence (2 types); and</li>
<li>Nitrogen limitation form (3 types).</li>
</ul>
<p>Once we have defined each of the three components, we can take the
product of them with the base model which forms 12
alternative hypotheses, each represented as a <code>ModelSystem</code>.</p>
<h4><a name="Geometric-constraint" class="anchor" href="#Geometric-constraint">Geometric constraint</a></h4>
<p>Plants do not grow indefinitely, but eventually reach an asymptotic mass
owing either to geometric or resource constraints. Here, we define two
competing hypotheses: that a shrub does not show evidence of nearing its
asymptote, or that it does (based on a Chapman-Richards growth function).</p>
<p>In Bristlecone, we use <code>modelComponent</code> to construct a pluggable component
into a model system. We pass <code>modelComponent</code> a list of <code>subComponent</code>s, which
each have a name and an equation. In its equation, a model component can
take one or many parameters, but these must match the signiture required
by the hole in the base model. For example, the geometric constraint here
takes the current <code>mass</code> only.</p>
<p>In addition, a <code>subComponent</code> may require additional estimatable parameters
over the base model. In this case, the Chapman-Richards model requires an
extra parameter <em>K</em>, which represents the asymptotic biomass. These may be
added to a <code>subComponent</code> by using <code>|&gt; estimateParameter</code> afterwards, as below.</p>
<pre class="fssnip highlighted"><code lang="fsharp"><span class="k">let</span> <span class="id">``geometric constraint``</span> <span class="o">=</span>
    <span onmouseout="hideTip(event, 'fs105', 452)" onmouseover="showTip(event, 'fs105', 452)" class="fn">modelComponent</span>
        <span class="s">&quot;Geometric constraint&quot;</span>
        <span class="pn">[</span> <span onmouseout="hideTip(event, 'fs106', 453)" onmouseover="showTip(event, 'fs106', 453)" class="fn">subComponent</span> <span class="s">&quot;None&quot;</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs75', 454)" onmouseover="showTip(event, 'fs75', 454)" class="uc">Constant</span> <span class="n">1.</span> <span class="o">|&gt;</span> <span class="o">(*)</span><span class="pn">)</span>
          <span onmouseout="hideTip(event, 'fs106', 455)" onmouseover="showTip(event, 'fs106', 455)" class="fn">subComponent</span> <span class="s">&quot;Chapman-Richards&quot;</span> <span class="pn">(</span><span class="k">fun</span> <span onmouseout="hideTip(event, 'fs107', 456)" onmouseover="showTip(event, 'fs107', 456)" class="fn">mass</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs75', 457)" onmouseover="showTip(event, 'fs75', 457)" class="uc">Constant</span> <span class="n">1.</span> <span class="o">-</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs107', 458)" onmouseover="showTip(event, 'fs107', 458)" class="fn">mass</span> <span class="o">/</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs79', 459)" onmouseover="showTip(event, 'fs79', 459)" class="uc">Parameter</span> <span class="s">&quot;k&quot;</span> <span class="o">*</span> <span onmouseout="hideTip(event, 'fs75', 460)" onmouseover="showTip(event, 'fs75', 460)" class="uc">Constant</span> <span class="n">1000.</span><span class="pn">)</span><span class="pn">)</span><span class="pn">)</span>
          <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs108', 461)" onmouseover="showTip(event, 'fs108', 461)" class="fn">estimateParameter</span> <span class="s">&quot;k&quot;</span> <span onmouseout="hideTip(event, 'fs99', 462)" onmouseover="showTip(event, 'fs99', 462)" class="id">notNegative</span> <span class="n">3.00</span> <span class="n">5.00</span> <span class="pn">]</span> <span class="c">// Asymptotic biomass (in kilograms)</span>
</code></pre>
<h4><a name="Plant-soil-feedback" class="anchor" href="#Plant-soil-feedback">Plant-soil feedback</a></h4>
<p>The plant-soil feedback is the flow of nutrients from plant biomass into the
soil available nitrogen pool. Here, we effectively turn on or off N input into
the soil pool on biomass loss. In the base model, density-dependent biomass
loss occurs. Turning on the feedback here creates an N input into soil based
on the biomass lost multiplied by a conversion factor <code>ɑ</code>.</p>
<pre class="fssnip highlighted"><code lang="fsharp"><span class="k">let</span> <span class="id">``plant-soil feedback``</span> <span class="o">=</span>

    <span class="k">let</span> <span onmouseout="hideTip(event, 'fs109', 463)" onmouseover="showTip(event, 'fs109', 463)" class="fn">biomassLoss</span> <span onmouseout="hideTip(event, 'fs110', 464)" onmouseover="showTip(event, 'fs110', 464)" class="fn">biomass</span> <span class="o">=</span>
        <span class="pn">(</span><span onmouseout="hideTip(event, 'fs79', 465)" onmouseover="showTip(event, 'fs79', 465)" class="uc">Parameter</span> <span class="s">&quot;ɑ&quot;</span> <span class="o">/</span> <span onmouseout="hideTip(event, 'fs75', 466)" onmouseover="showTip(event, 'fs75', 466)" class="uc">Constant</span> <span class="n">100.</span><span class="pn">)</span> <span class="o">*</span> <span onmouseout="hideTip(event, 'fs110', 467)" onmouseover="showTip(event, 'fs110', 467)" class="fn">biomass</span> <span class="o">*</span> <span onmouseout="hideTip(event, 'fs79', 468)" onmouseover="showTip(event, 'fs79', 468)" class="uc">Parameter</span> <span class="s">&quot;γ[b]&quot;</span>

    <span onmouseout="hideTip(event, 'fs105', 469)" onmouseover="showTip(event, 'fs105', 469)" class="fn">modelComponent</span>
        <span class="s">&quot;Plant-Soil Feedback&quot;</span>
        <span class="pn">[</span> <span onmouseout="hideTip(event, 'fs106', 470)" onmouseover="showTip(event, 'fs106', 470)" class="fn">subComponent</span> <span class="s">&quot;None&quot;</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs75', 471)" onmouseover="showTip(event, 'fs75', 471)" class="uc">Constant</span> <span class="n">1.</span> <span class="o">|&gt;</span> <span class="o">(*)</span><span class="pn">)</span>
          <span onmouseout="hideTip(event, 'fs106', 472)" onmouseover="showTip(event, 'fs106', 472)" class="fn">subComponent</span> <span class="s">&quot;Biomass Loss&quot;</span> <span onmouseout="hideTip(event, 'fs109', 473)" onmouseover="showTip(event, 'fs109', 473)" class="fn">biomassLoss</span>
          <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs108', 474)" onmouseover="showTip(event, 'fs108', 474)" class="fn">estimateParameter</span> <span class="s">&quot;ɑ&quot;</span> <span onmouseout="hideTip(event, 'fs99', 475)" onmouseover="showTip(event, 'fs99', 475)" class="id">notNegative</span> <span class="n">0.01</span> <span class="n">1.00</span> <span class="pn">]</span> <span class="c">// N-recycling efficiency</span>
</code></pre>
<h4><a name="Nitrogen-limitation" class="anchor" href="#Nitrogen-limitation">Nitrogen limitation</a></h4>
<p>We specify three plausable mechanisms for nutrient limitation to shrub
growth: (1) that growth is independent on soil N availability; (2) that
growth is dependent on soil N availability in a linear way; or (3) that
a mechanistic model of root-foraging (saturating) best represents
N-limitation of shrub growth.</p>
<p>A new concept here is the <code>Conditional</code> element in an equation. This
term exposes a <code>ModelExpression -&gt; float</code> (compute), allowing a calculation
to be conditional on the state of parameters or values. In this example,
we use it to restrict the models such that the N-limiting effect cannot
be zero.</p>
<pre class="fssnip highlighted"><code lang="fsharp"><span class="k">let</span> <span class="id">``N-limitation to growth``</span> <span class="o">=</span>

    <span class="k">let</span> <span onmouseout="hideTip(event, 'fs111', 476)" onmouseover="showTip(event, 'fs111', 476)" class="fn">saturating</span> <span onmouseout="hideTip(event, 'fs112', 477)" onmouseover="showTip(event, 'fs112', 477)" class="fn">minimumNutrient</span> <span onmouseout="hideTip(event, 'fs113', 478)" onmouseover="showTip(event, 'fs113', 478)" class="fn">nutrient</span> <span class="o">=</span>
        <span class="k">let</span> <span onmouseout="hideTip(event, 'fs114', 479)" onmouseover="showTip(event, 'fs114', 479)" class="fn">hollingModel</span> <span onmouseout="hideTip(event, 'fs115', 480)" onmouseover="showTip(event, 'fs115', 480)" class="fn">n</span> <span class="o">=</span>
            <span class="pn">(</span><span onmouseout="hideTip(event, 'fs79', 481)" onmouseover="showTip(event, 'fs79', 481)" class="uc">Parameter</span> <span class="s">&quot;a&quot;</span> <span class="o">*</span> <span onmouseout="hideTip(event, 'fs115', 482)" onmouseover="showTip(event, 'fs115', 482)" class="fn">n</span><span class="pn">)</span>
            <span class="o">/</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs75', 483)" onmouseover="showTip(event, 'fs75', 483)" class="uc">Constant</span> <span class="n">1.</span> <span class="o">+</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs79', 484)" onmouseover="showTip(event, 'fs79', 484)" class="uc">Parameter</span> <span class="s">&quot;a&quot;</span> <span class="c">(** Parameter &quot;b&quot;*)</span> <span class="o">*</span> <span onmouseout="hideTip(event, 'fs79', 485)" onmouseover="showTip(event, 'fs79', 485)" class="uc">Parameter</span> <span class="s">&quot;h&quot;</span> <span class="o">*</span> <span onmouseout="hideTip(event, 'fs115', 486)" onmouseover="showTip(event, 'fs115', 486)" class="fn">n</span><span class="pn">)</span><span class="pn">)</span>

        <span onmouseout="hideTip(event, 'fs116', 487)" onmouseover="showTip(event, 'fs116', 487)" class="uc">Conditional</span>
        <span class="o">&lt;|</span> <span class="k">fun</span> <span onmouseout="hideTip(event, 'fs117', 488)" onmouseover="showTip(event, 'fs117', 488)" class="fn">compute</span> <span class="k">-&gt;</span>
            <span class="k">if</span> <span onmouseout="hideTip(event, 'fs117', 489)" onmouseover="showTip(event, 'fs117', 489)" class="fn">compute</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs114', 490)" onmouseover="showTip(event, 'fs114', 490)" class="fn">hollingModel</span> <span onmouseout="hideTip(event, 'fs112', 491)" onmouseover="showTip(event, 'fs112', 491)" class="fn">minimumNutrient</span><span class="pn">)</span> <span class="o">&lt;</span> <span class="n">1e-12</span> <span class="k">then</span>
                <span onmouseout="hideTip(event, 'fs118', 492)" onmouseover="showTip(event, 'fs118', 492)" class="uc">Invalid</span>
            <span class="k">else</span>
                <span onmouseout="hideTip(event, 'fs114', 493)" onmouseover="showTip(event, 'fs114', 493)" class="fn">hollingModel</span> <span onmouseout="hideTip(event, 'fs113', 494)" onmouseover="showTip(event, 'fs113', 494)" class="fn">nutrient</span>

    <span class="k">let</span> <span onmouseout="hideTip(event, 'fs119', 495)" onmouseover="showTip(event, 'fs119', 495)" class="fn">linear</span> <span onmouseout="hideTip(event, 'fs120', 496)" onmouseover="showTip(event, 'fs120', 496)" class="fn">min</span> <span onmouseout="hideTip(event, 'fs121', 497)" onmouseover="showTip(event, 'fs121', 497)" class="fn">resource</span> <span class="o">=</span>
        <span onmouseout="hideTip(event, 'fs116', 498)" onmouseover="showTip(event, 'fs116', 498)" class="uc">Conditional</span>
        <span class="o">&lt;|</span> <span class="k">fun</span> <span onmouseout="hideTip(event, 'fs117', 499)" onmouseover="showTip(event, 'fs117', 499)" class="fn">compute</span> <span class="k">-&gt;</span>
            <span class="k">if</span> <span onmouseout="hideTip(event, 'fs117', 500)" onmouseover="showTip(event, 'fs117', 500)" class="fn">compute</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs79', 501)" onmouseover="showTip(event, 'fs79', 501)" class="uc">Parameter</span> <span class="s">&quot;a&quot;</span> <span class="o">*</span> <span onmouseout="hideTip(event, 'fs120', 502)" onmouseover="showTip(event, 'fs120', 502)" class="fn">min</span><span class="pn">)</span> <span class="o">&lt;</span> <span class="n">1e-12</span> <span class="k">then</span>
                <span onmouseout="hideTip(event, 'fs118', 503)" onmouseover="showTip(event, 'fs118', 503)" class="uc">Invalid</span>
            <span class="k">else</span>
                <span onmouseout="hideTip(event, 'fs79', 504)" onmouseover="showTip(event, 'fs79', 504)" class="uc">Parameter</span> <span class="s">&quot;a&quot;</span> <span class="o">*</span> <span onmouseout="hideTip(event, 'fs121', 505)" onmouseover="showTip(event, 'fs121', 505)" class="fn">resource</span>

    <span onmouseout="hideTip(event, 'fs105', 506)" onmouseover="showTip(event, 'fs105', 506)" class="fn">modelComponent</span>
        <span class="s">&quot;N-limitation&quot;</span>
        <span class="pn">[</span> <span onmouseout="hideTip(event, 'fs106', 507)" onmouseover="showTip(event, 'fs106', 507)" class="fn">subComponent</span> <span class="s">&quot;Saturating&quot;</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs111', 508)" onmouseover="showTip(event, 'fs111', 508)" class="fn">saturating</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs75', 509)" onmouseover="showTip(event, 'fs75', 509)" class="uc">Constant</span> <span class="n">5.</span><span class="pn">)</span><span class="pn">)</span>
          <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs108', 510)" onmouseover="showTip(event, 'fs108', 510)" class="fn">estimateParameter</span> <span class="s">&quot;a&quot;</span> <span onmouseout="hideTip(event, 'fs99', 511)" onmouseover="showTip(event, 'fs99', 511)" class="id">notNegative</span> <span class="n">0.100</span> <span class="n">0.400</span>
          <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs108', 512)" onmouseover="showTip(event, 'fs108', 512)" class="fn">estimateParameter</span> <span class="s">&quot;h&quot;</span> <span onmouseout="hideTip(event, 'fs99', 513)" onmouseover="showTip(event, 'fs99', 513)" class="id">notNegative</span> <span class="n">0.100</span> <span class="n">0.400</span>
          <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs108', 514)" onmouseover="showTip(event, 'fs108', 514)" class="fn">estimateParameter</span> <span class="s">&quot;r&quot;</span> <span onmouseout="hideTip(event, 'fs99', 515)" onmouseover="showTip(event, 'fs99', 515)" class="id">notNegative</span> <span class="n">0.500</span> <span class="n">1.000</span>
          <span onmouseout="hideTip(event, 'fs106', 516)" onmouseover="showTip(event, 'fs106', 516)" class="fn">subComponent</span> <span class="s">&quot;Linear&quot;</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs119', 517)" onmouseover="showTip(event, 'fs119', 517)" class="fn">linear</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs75', 518)" onmouseover="showTip(event, 'fs75', 518)" class="uc">Constant</span> <span class="n">5.</span><span class="pn">)</span><span class="pn">)</span>
          <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs108', 519)" onmouseover="showTip(event, 'fs108', 519)" class="fn">estimateParameter</span> <span class="s">&quot;a&quot;</span> <span onmouseout="hideTip(event, 'fs99', 520)" onmouseover="showTip(event, 'fs99', 520)" class="id">notNegative</span> <span class="n">0.100</span> <span class="n">0.400</span>
          <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs108', 521)" onmouseover="showTip(event, 'fs108', 521)" class="fn">estimateParameter</span> <span class="s">&quot;r&quot;</span> <span onmouseout="hideTip(event, 'fs99', 522)" onmouseover="showTip(event, 'fs99', 522)" class="id">notNegative</span> <span class="n">0.500</span> <span class="n">1.000</span>
          <span onmouseout="hideTip(event, 'fs106', 523)" onmouseover="showTip(event, 'fs106', 523)" class="fn">subComponent</span> <span class="s">&quot;None&quot;</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs75', 524)" onmouseover="showTip(event, 'fs75', 524)" class="uc">Constant</span> <span class="n">1.</span> <span class="o">|&gt;</span> <span class="o">(*)</span><span class="pn">)</span>
          <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs108', 525)" onmouseover="showTip(event, 'fs108', 525)" class="fn">estimateParameter</span> <span class="s">&quot;r&quot;</span> <span onmouseout="hideTip(event, 'fs99', 526)" onmouseover="showTip(event, 'fs99', 526)" class="id">notNegative</span> <span class="n">0.500</span> <span class="n">1.000</span> <span class="pn">]</span>
</code></pre>
<h4><a name="Putting-the-hypotheses-together" class="anchor" href="#Putting-the-hypotheses-together">Putting the hypotheses together</a></h4>
<pre class="fssnip highlighted"><code lang="fsharp"><span class="k">let</span> <span onmouseout="hideTip(event, 'fs122', 527)" onmouseover="showTip(event, 'fs122', 527)" class="id">hypotheses</span> <span class="o">=</span>
    <span class="fn">``base model``</span>
    <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs123', 528)" onmouseover="showTip(event, 'fs123', 528)" class="m">Hypotheses</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs124', 529)" onmouseover="showTip(event, 'fs124', 529)" class="id">createFromComponent</span> <span class="id">``geometric constraint``</span>
    <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs123', 530)" onmouseover="showTip(event, 'fs123', 530)" class="m">Hypotheses</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs125', 531)" onmouseover="showTip(event, 'fs125', 531)" class="id">useAnother</span> <span class="id">``plant-soil feedback``</span>
    <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs123', 532)" onmouseover="showTip(event, 'fs123', 532)" class="m">Hypotheses</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs126', 533)" onmouseover="showTip(event, 'fs126', 533)" class="id">useAnotherWithName</span> <span class="id">``N-limitation to growth``</span>
    <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs123', 534)" onmouseover="showTip(event, 'fs123', 534)" class="m">Hypotheses</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs127', 535)" onmouseover="showTip(event, 'fs127', 535)" class="id">compile</span>
</code></pre>
<p>The resultant hypotheses (each of which is a <code>Hypotheses.Hypothesis</code>) are:</p>
<table class="pre"><tr><td><pre><code>Hypothesis 1 [MICROSOFT.FSHARP.COLLECTIONS.IENUMERATOR+MKSEQ@177[SYSTEM.COLLECTIONS.GENERIC.IENUMERABLE`1[SYSTEM.CHAR]]_MICROSOFT.FSHARP.COLLECTIONS.IENUMERATOR+MKSEQ@177[SYSTEM.COLLECTIONS.GENERIC.IENUMERABLE`1[SYSTEM.CHAR]]_MICROSOFT.FSHARP.COLLECTIONS.IENUMERATOR+MKSEQ@177[SYSTEM.COLLECTIONS.GENERIC.IENUMERABLE`1[SYSTEM.CHAR]]_MICROSOFT.FSHARP.COLLECTIONS.IENUMERATOR+MKSEQ@177[SYSTEM.COLLECTIONS.GENERIC.IENUMERABLE`1[SYSTEM.CHAR]]_MICROSOFT.FSHARP.COLLECTIONS.IENUMERATOR+MKSEQ@177[SYSTEM.COLLECTIONS.GENERIC.IENUMERABLE`1[SYSTEM.CHAR]]_MICROSOFT.FSHARP.COLLECTIONS.IENUMERATOR+MKSEQ@177[SYSTEM.COLLECTIONS.GENERIC.IENUMERABLE`1[SYSTEM.CHAR]]]: None + None + Saturating
Hypothesis 2 [MICROSOFT.FSHARP.COLLECTIONS.IENUMERATOR+MKSEQ@177[SYSTEM.COLLECTIONS.GENERIC.IENUMERABLE`1[SYSTEM.CHAR]]_MICROSOFT.FSHARP.COLLECTIONS.IENUMERATOR+MKSEQ@177[SYSTEM.COLLECTIONS.GENERIC.IENUMERABLE`1[SYSTEM.CHAR]]_MICROSOFT.FSHARP.COLLECTIONS.IENUMERATOR+MKSEQ@177[SYSTEM.COLLECTIONS.GENERIC.IENUMERABLE`1[SYSTEM.CHAR]]_MICROSOFT.FSHARP.COLLECTIONS.IENUMERATOR+MKSEQ@177[SYSTEM.COLLECTIONS.GENERIC.IENUMERABLE`1[SYSTEM.CHAR]]_MICROSOFT.FSHARP.COLLECTIONS.IENUMERATOR+MKSEQ@177[SYSTEM.COLLECTIONS.GENERIC.IENUMERABLE`1[SYSTEM.CHAR]]_MICROSOFT.FSHARP.COLLECTIONS.IENUMERATOR+MKSEQ@177[SYSTEM.COLLECTIONS.GENERIC.IENUMERABLE`1[SYSTEM.CHAR]]]: Chapman-Richards + None + Saturating
Hypothesis 3 [MICROSOFT.FSHARP.COLLECTIONS.IENUMERATOR+MKSEQ@177[SYSTEM.COLLECTIONS.GENERIC.IENUMERABLE`1[SYSTEM.CHAR]]_MICROSOFT.FSHARP.COLLECTIONS.IENUMERATOR+MKSEQ@177[SYSTEM.COLLECTIONS.GENERIC.IENUMERABLE`1[SYSTEM.CHAR]]_MICROSOFT.FSHARP.COLLECTIONS.IENUMERATOR+MKSEQ@177[SYSTEM.COLLECTIONS.GENERIC.IENUMERABLE`1[SYSTEM.CHAR]]_MICROSOFT.FSHARP.COLLECTIONS.IENUMERATOR+MKSEQ@177[SYSTEM.COLLECTIONS.GENERIC.IENUMERABLE`1[SYSTEM.CHAR]]_MICROSOFT.FSHARP.COLLECTIONS.IENUMERATOR+MKSEQ@177[SYSTEM.COLLECTIONS.GENERIC.IENUMERABLE`1[SYSTEM.CHAR]]_MICROSOFT.FSHARP.COLLECTIONS.IENUMERATOR+MKSEQ@177[SYSTEM.COLLECTIONS.GENERIC.IENUMERABLE`1[SYSTEM.CHAR]]]: None + Biomass Loss + Saturating
Hypothesis 4 [MICROSOFT.FSHARP.COLLECTIONS.IENUMERATOR+MKSEQ@177[SYSTEM.COLLECTIONS.GENERIC.IENUMERABLE`1[SYSTEM.CHAR]]_MICROSOFT.FSHARP.COLLECTIONS.IENUMERATOR+MKSEQ@177[SYSTEM.COLLECTIONS.GENERIC.IENUMERABLE`1[SYSTEM.CHAR]]_MICROSOFT.FSHARP.COLLECTIONS.IENUMERATOR+MKSEQ@177[SYSTEM.COLLECTIONS.GENERIC.IENUMERABLE`1[SYSTEM.CHAR]]_MICROSOFT.FSHARP.COLLECTIONS.IENUMERATOR+MKSEQ@177[SYSTEM.COLLECTIONS.GENERIC.IENUMERABLE`1[SYSTEM.CHAR]]_MICROSOFT.FSHARP.COLLECTIONS.IENUMERATOR+MKSEQ@177[SYSTEM.COLLECTIONS.GENERIC.IENUMERABLE`1[SYSTEM.CHAR]]_MICROSOFT.FSHARP.COLLECTIONS.IENUMERATOR+MKSEQ@177[SYSTEM.COLLECTIONS.GENERIC.IENUMERABLE`1[SYSTEM.CHAR]]]: Chapman-Richards + Biomass Loss + Saturating
Hypothesis 5 [MICROSOFT.FSHARP.COLLECTIONS.IENUMERATOR+MKSEQ@177[SYSTEM.COLLECTIONS.GENERIC.IENUMERABLE`1[SYSTEM.CHAR]]_MICROSOFT.FSHARP.COLLECTIONS.IENUMERATOR+MKSEQ@177[SYSTEM.COLLECTIONS.GENERIC.IENUMERABLE`1[SYSTEM.CHAR]]_MICROSOFT.FSHARP.COLLECTIONS.IENUMERATOR+MKSEQ@177[SYSTEM.COLLECTIONS.GENERIC.IENUMERABLE`1[SYSTEM.CHAR]]_MICROSOFT.FSHARP.COLLECTIONS.IENUMERATOR+MKSEQ@177[SYSTEM.COLLECTIONS.GENERIC.IENUMERABLE`1[SYSTEM.CHAR]]_MICROSOFT.FSHARP.COLLECTIONS.IENUMERATOR+MKSEQ@177[SYSTEM.COLLECTIONS.GENERIC.IENUMERABLE`1[SYSTEM.CHAR]]_MICROSOFT.FSHARP.COLLECTIONS.IENUMERATOR+MKSEQ@177[SYSTEM.COLLECTIONS.GENERIC.IENUMERABLE`1[SYSTEM.CHAR]]]: None + None + Linear
Hypothesis 6 [MICROSOFT.FSHARP.COLLECTIONS.IENUMERATOR+MKSEQ@177[SYSTEM.COLLECTIONS.GENERIC.IENUMERABLE`1[SYSTEM.CHAR]]_MICROSOFT.FSHARP.COLLECTIONS.IENUMERATOR+MKSEQ@177[SYSTEM.COLLECTIONS.GENERIC.IENUMERABLE`1[SYSTEM.CHAR]]_MICROSOFT.FSHARP.COLLECTIONS.IENUMERATOR+MKSEQ@177[SYSTEM.COLLECTIONS.GENERIC.IENUMERABLE`1[SYSTEM.CHAR]]_MICROSOFT.FSHARP.COLLECTIONS.IENUMERATOR+MKSEQ@177[SYSTEM.COLLECTIONS.GENERIC.IENUMERABLE`1[SYSTEM.CHAR]]_MICROSOFT.FSHARP.COLLECTIONS.IENUMERATOR+MKSEQ@177[SYSTEM.COLLECTIONS.GENERIC.IENUMERABLE`1[SYSTEM.CHAR]]_MICROSOFT.FSHARP.COLLECTIONS.IENUMERATOR+MKSEQ@177[SYSTEM.COLLECTIONS.GENERIC.IENUMERABLE`1[SYSTEM.CHAR]]]: Chapman-Richards + None + Linear
Hypothesis 7 [MICROSOFT.FSHARP.COLLECTIONS.IENUMERATOR+MKSEQ@177[SYSTEM.COLLECTIONS.GENERIC.IENUMERABLE`1[SYSTEM.CHAR]]_MICROSOFT.FSHARP.COLLECTIONS.IENUMERATOR+MKSEQ@177[SYSTEM.COLLECTIONS.GENERIC.IENUMERABLE`1[SYSTEM.CHAR]]_MICROSOFT.FSHARP.COLLECTIONS.IENUMERATOR+MKSEQ@177[SYSTEM.COLLECTIONS.GENERIC.IENUMERABLE`1[SYSTEM.CHAR]]_MICROSOFT.FSHARP.COLLECTIONS.IENUMERATOR+MKSEQ@177[SYSTEM.COLLECTIONS.GENERIC.IENUMERABLE`1[SYSTEM.CHAR]]_MICROSOFT.FSHARP.COLLECTIONS.IENUMERATOR+MKSEQ@177[SYSTEM.COLLECTIONS.GENERIC.IENUMERABLE`1[SYSTEM.CHAR]]_MICROSOFT.FSHARP.COLLECTIONS.IENUMERATOR+MKSEQ@177[SYSTEM.COLLECTIONS.GENERIC.IENUMERABLE`1[SYSTEM.CHAR]]]: None + Biomass Loss + Linear
Hypothesis 8 [MICROSOFT.FSHARP.COLLECTIONS.IENUMERATOR+MKSEQ@177[SYSTEM.COLLECTIONS.GENERIC.IENUMERABLE`1[SYSTEM.CHAR]]_MICROSOFT.FSHARP.COLLECTIONS.IENUMERATOR+MKSEQ@177[SYSTEM.COLLECTIONS.GENERIC.IENUMERABLE`1[SYSTEM.CHAR]]_MICROSOFT.FSHARP.COLLECTIONS.IENUMERATOR+MKSEQ@177[SYSTEM.COLLECTIONS.GENERIC.IENUMERABLE`1[SYSTEM.CHAR]]_MICROSOFT.FSHARP.COLLECTIONS.IENUMERATOR+MKSEQ@177[SYSTEM.COLLECTIONS.GENERIC.IENUMERABLE`1[SYSTEM.CHAR]]_MICROSOFT.FSHARP.COLLECTIONS.IENUMERATOR+MKSEQ@177[SYSTEM.COLLECTIONS.GENERIC.IENUMERABLE`1[SYSTEM.CHAR]]_MICROSOFT.FSHARP.COLLECTIONS.IENUMERATOR+MKSEQ@177[SYSTEM.COLLECTIONS.GENERIC.IENUMERABLE`1[SYSTEM.CHAR]]]: Chapman-Richards + Biomass Loss + Linear
Hypothesis 9 [MICROSOFT.FSHARP.COLLECTIONS.IENUMERATOR+MKSEQ@177[SYSTEM.COLLECTIONS.GENERIC.IENUMERABLE`1[SYSTEM.CHAR]]_MICROSOFT.FSHARP.COLLECTIONS.IENUMERATOR+MKSEQ@177[SYSTEM.COLLECTIONS.GENERIC.IENUMERABLE`1[SYSTEM.CHAR]]_MICROSOFT.FSHARP.COLLECTIONS.IENUMERATOR+MKSEQ@177[SYSTEM.COLLECTIONS.GENERIC.IENUMERABLE`1[SYSTEM.CHAR]]_MICROSOFT.FSHARP.COLLECTIONS.IENUMERATOR+MKSEQ@177[SYSTEM.COLLECTIONS.GENERIC.IENUMERABLE`1[SYSTEM.CHAR]]_MICROSOFT.FSHARP.COLLECTIONS.IENUMERATOR+MKSEQ@177[SYSTEM.COLLECTIONS.GENERIC.IENUMERABLE`1[SYSTEM.CHAR]]_MICROSOFT.FSHARP.COLLECTIONS.IENUMERATOR+MKSEQ@177[SYSTEM.COLLECTIONS.GENERIC.IENUMERABLE`1[SYSTEM.CHAR]]]: None + None + None
Hypothesis 10 [MICROSOFT.FSHARP.COLLECTIONS.IENUMERATOR+MKSEQ@177[SYSTEM.COLLECTIONS.GENERIC.IENUMERABLE`1[SYSTEM.CHAR]]_MICROSOFT.FSHARP.COLLECTIONS.IENUMERATOR+MKSEQ@177[SYSTEM.COLLECTIONS.GENERIC.IENUMERABLE`1[SYSTEM.CHAR]]_MICROSOFT.FSHARP.COLLECTIONS.IENUMERATOR+MKSEQ@177[SYSTEM.COLLECTIONS.GENERIC.IENUMERABLE`1[SYSTEM.CHAR]]_MICROSOFT.FSHARP.COLLECTIONS.IENUMERATOR+MKSEQ@177[SYSTEM.COLLECTIONS.GENERIC.IENUMERABLE`1[SYSTEM.CHAR]]_MICROSOFT.FSHARP.COLLECTIONS.IENUMERATOR+MKSEQ@177[SYSTEM.COLLECTIONS.GENERIC.IENUMERABLE`1[SYSTEM.CHAR]]_MICROSOFT.FSHARP.COLLECTIONS.IENUMERATOR+MKSEQ@177[SYSTEM.COLLECTIONS.GENERIC.IENUMERABLE`1[SYSTEM.CHAR]]]: Chapman-Richards + None + None
Hypothesis 11 [MICROSOFT.FSHARP.COLLECTIONS.IENUMERATOR+MKSEQ@177[SYSTEM.COLLECTIONS.GENERIC.IENUMERABLE`1[SYSTEM.CHAR]]_MICROSOFT.FSHARP.COLLECTIONS.IENUMERATOR+MKSEQ@177[SYSTEM.COLLECTIONS.GENERIC.IENUMERABLE`1[SYSTEM.CHAR]]_MICROSOFT.FSHARP.COLLECTIONS.IENUMERATOR+MKSEQ@177[SYSTEM.COLLECTIONS.GENERIC.IENUMERABLE`1[SYSTEM.CHAR]]_MICROSOFT.FSHARP.COLLECTIONS.IENUMERATOR+MKSEQ@177[SYSTEM.COLLECTIONS.GENERIC.IENUMERABLE`1[SYSTEM.CHAR]]_MICROSOFT.FSHARP.COLLECTIONS.IENUMERATOR+MKSEQ@177[SYSTEM.COLLECTIONS.GENERIC.IENUMERABLE`1[SYSTEM.CHAR]]_MICROSOFT.FSHARP.COLLECTIONS.IENUMERATOR+MKSEQ@177[SYSTEM.COLLECTIONS.GENERIC.IENUMERABLE`1[SYSTEM.CHAR]]]: None + Biomass Loss + None
Hypothesis 12 [MICROSOFT.FSHARP.COLLECTIONS.IENUMERATOR+MKSEQ@177[SYSTEM.COLLECTIONS.GENERIC.IENUMERABLE`1[SYSTEM.CHAR]]_MICROSOFT.FSHARP.COLLECTIONS.IENUMERATOR+MKSEQ@177[SYSTEM.COLLECTIONS.GENERIC.IENUMERABLE`1[SYSTEM.CHAR]]_MICROSOFT.FSHARP.COLLECTIONS.IENUMERATOR+MKSEQ@177[SYSTEM.COLLECTIONS.GENERIC.IENUMERABLE`1[SYSTEM.CHAR]]_MICROSOFT.FSHARP.COLLECTIONS.IENUMERATOR+MKSEQ@177[SYSTEM.COLLECTIONS.GENERIC.IENUMERABLE`1[SYSTEM.CHAR]]_MICROSOFT.FSHARP.COLLECTIONS.IENUMERATOR+MKSEQ@177[SYSTEM.COLLECTIONS.GENERIC.IENUMERABLE`1[SYSTEM.CHAR]]_MICROSOFT.FSHARP.COLLECTIONS.IENUMERATOR+MKSEQ@177[SYSTEM.COLLECTIONS.GENERIC.IENUMERABLE`1[SYSTEM.CHAR]]]: Chapman-Richards + Biomass Loss + None</code></pre></td></tr></table>
<h3><a name="Setting-up-a-Bristlecone-engine" class="anchor" href="#Setting-up-a-Bristlecone-engine">Setting up a <em>Bristlecone engine</em></a></h3>
<p>A bristlecone engine provides a fixed setup for estimating parameters from data.
We use the same engine for all model fits within a single study.</p>
<p>Here, we scaffold an engine from <code>Bristlecone.mkContinuous</code>, as we are working
with continuous-time models.</p>
<p><strong>Note.</strong> In a non-docs environment, we may choose to use a logger for this
example that outputs real-time traces in graphical format using <code>ggplot</code> in <code>R</code>.
To do this, we can call <code>withOutput</code> with <code>Logging.RealTimeTrace.graphWithConsole 60. 10000</code>
to use the graphics functions from the <code>Bristlecone.Charts.R</code> package.</p>
<pre class="fssnip highlighted"><code lang="fsharp"><span class="k">let</span> <span onmouseout="hideTip(event, 'fs141', 557)" onmouseover="showTip(event, 'fs141', 557)" class="fn">output</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs142', 558)" onmouseover="showTip(event, 'fs142', 558)" class="id">Logging</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs143', 559)" onmouseover="showTip(event, 'fs143', 559)" class="m">Console</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs144', 560)" onmouseover="showTip(event, 'fs144', 560)" class="id">logger</span> <span class="n">1000</span>

<span class="k">let</span> <span onmouseout="hideTip(event, 'fs145', 561)" onmouseover="showTip(event, 'fs145', 561)" class="id">engine</span> <span class="o">=</span>
    <span onmouseout="hideTip(event, 'fs2', 562)" onmouseover="showTip(event, 'fs2', 562)" class="m">Bristlecone</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs146', 563)" onmouseover="showTip(event, 'fs146', 563)" class="id">mkContinuous</span>
    <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs2', 564)" onmouseover="showTip(event, 'fs2', 564)" class="m">Bristlecone</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs147', 565)" onmouseover="showTip(event, 'fs147', 565)" class="id">withContinuousTime</span> <span onmouseout="hideTip(event, 'fs148', 566)" onmouseover="showTip(event, 'fs148', 566)" class="id">Integration</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs149', 567)" onmouseover="showTip(event, 'fs149', 567)" class="m">MathNet</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs150', 568)" onmouseover="showTip(event, 'fs150', 568)" class="id">integrate</span>
    <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs2', 569)" onmouseover="showTip(event, 'fs2', 569)" class="m">Bristlecone</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs151', 570)" onmouseover="showTip(event, 'fs151', 570)" class="id">withOutput</span> <span onmouseout="hideTip(event, 'fs141', 571)" onmouseover="showTip(event, 'fs141', 571)" class="fn">output</span>
    <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs2', 572)" onmouseover="showTip(event, 'fs2', 572)" class="m">Bristlecone</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs152', 573)" onmouseover="showTip(event, 'fs152', 573)" class="id">withConditioning</span> <span onmouseout="hideTip(event, 'fs153', 574)" onmouseover="showTip(event, 'fs153', 574)" class="m">Conditioning</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs154', 575)" onmouseover="showTip(event, 'fs154', 575)" class="id">RepeatFirstDataPoint</span>
    <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs2', 576)" onmouseover="showTip(event, 'fs2', 576)" class="m">Bristlecone</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs155', 577)" onmouseover="showTip(event, 'fs155', 577)" class="id">withCustomOptimisation</span> <span class="pn">(</span>
        <span onmouseout="hideTip(event, 'fs156', 578)" onmouseover="showTip(event, 'fs156', 578)" class="id">Optimisation</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs157', 579)" onmouseover="showTip(event, 'fs157', 579)" class="m">MonteCarlo</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs158', 580)" onmouseover="showTip(event, 'fs158', 580)" class="m">SimulatedAnnealing</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs159', 581)" onmouseover="showTip(event, 'fs159', 581)" class="id">fastSimulatedAnnealing</span>
            <span class="n">0.01</span>
            <span class="k">true</span>
            <span class="pn">{</span> <span onmouseout="hideTip(event, 'fs156', 582)" onmouseover="showTip(event, 'fs156', 582)" class="id">Optimisation</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs157', 583)" onmouseover="showTip(event, 'fs157', 583)" class="m">MonteCarlo</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs158', 584)" onmouseover="showTip(event, 'fs158', 584)" class="m">SimulatedAnnealing</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs160', 585)" onmouseover="showTip(event, 'fs160', 585)" class="id">AnnealSettings</span><span class="pn">&lt;</span><span onmouseout="hideTip(event, 'fs40', 586)" onmouseover="showTip(event, 'fs40', 586)" class="vt">float</span><span class="pn">&gt;</span><span class="pn">.</span><span class="id">Default</span> <span class="k">with</span>
                <span class="prop">InitialTemperature</span> <span class="o">=</span> <span class="n">100.</span>
                <span class="prop">TemperatureCeiling</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs161', 587)" onmouseover="showTip(event, 'fs161', 587)" class="uc">Some</span> <span class="n">100.</span>
                <span class="fn">HeatRamp</span> <span class="o">=</span> <span class="pn">(</span><span class="k">fun</span> <span onmouseout="hideTip(event, 'fs24', 588)" onmouseover="showTip(event, 'fs24', 588)" class="fn">t</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs24', 589)" onmouseover="showTip(event, 'fs24', 589)" class="fn">t</span> <span class="o">+</span> <span class="n">5.00</span><span class="pn">)</span>
                <span class="prop">BoilingAcceptanceRate</span> <span class="o">=</span> <span class="n">0.85</span>
                <span class="fn">HeatStepLength</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs156', 590)" onmouseover="showTip(event, 'fs156', 590)" class="id">Optimisation</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs162', 591)" onmouseover="showTip(event, 'fs162', 591)" class="m">EndConditions</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs163', 592)" onmouseover="showTip(event, 'fs163', 592)" class="id">afterIteration</span> <span class="n">1000</span>
                <span class="prop">TuneLength</span> <span class="o">=</span> <span class="n">1000</span>
                <span class="fn">AnnealStepLength</span> <span class="o">=</span>
                    <span class="pn">(</span><span class="k">fun</span> <span onmouseout="hideTip(event, 'fs164', 593)" onmouseover="showTip(event, 'fs164', 593)" class="fn">x</span> <span onmouseout="hideTip(event, 'fs165', 594)" onmouseover="showTip(event, 'fs165', 594)" class="fn">n</span> <span class="k">-&gt;</span>
                        <span onmouseout="hideTip(event, 'fs156', 595)" onmouseover="showTip(event, 'fs156', 595)" class="id">Optimisation</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs157', 596)" onmouseover="showTip(event, 'fs157', 596)" class="m">MonteCarlo</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs158', 597)" onmouseover="showTip(event, 'fs158', 597)" class="m">SimulatedAnnealing</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs166', 598)" onmouseover="showTip(event, 'fs166', 598)" class="m">EndConditions</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs167', 599)" onmouseover="showTip(event, 'fs167', 599)" class="id">improvementCount</span> <span class="n">5000</span> <span class="n">250</span> <span onmouseout="hideTip(event, 'fs164', 600)" onmouseover="showTip(event, 'fs164', 600)" class="fn">x</span> <span onmouseout="hideTip(event, 'fs165', 601)" onmouseover="showTip(event, 'fs165', 601)" class="fn">n</span>
                        <span class="o">||</span> <span onmouseout="hideTip(event, 'fs156', 602)" onmouseover="showTip(event, 'fs156', 602)" class="id">Optimisation</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs162', 603)" onmouseover="showTip(event, 'fs162', 603)" class="m">EndConditions</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs163', 604)" onmouseover="showTip(event, 'fs163', 604)" class="id">afterIteration</span> <span class="n">10000</span> <span onmouseout="hideTip(event, 'fs164', 605)" onmouseover="showTip(event, 'fs164', 605)" class="fn">x</span> <span onmouseout="hideTip(event, 'fs165', 606)" onmouseover="showTip(event, 'fs165', 606)" class="fn">n</span><span class="pn">)</span> <span class="pn">}</span>
    <span class="pn">)</span>
</code></pre>
<h3><a name="Testing-the-engine-and-model" class="anchor" href="#Testing-the-engine-and-model">Testing the engine and model</a></h3>
<p>Running a full test is strongly recommended. The test will demonstrate if the current
configuration can find known parameters for a model. If this step fails, there is an
issue with either your model, or the Bristlecone configuration.</p>
<pre class="fssnip highlighted"><code lang="fsharp"><span class="k">let</span> <span onmouseout="hideTip(event, 'fs168', 607)" onmouseover="showTip(event, 'fs168', 607)" class="id">testSettings</span> <span class="o">=</span>
    <span onmouseout="hideTip(event, 'fs169', 608)" onmouseover="showTip(event, 'fs169', 608)" class="m">Test</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs170', 609)" onmouseover="showTip(event, 'fs170', 609)" class="id">create</span>
    <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs169', 610)" onmouseover="showTip(event, 'fs169', 610)" class="m">Test</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs171', 611)" onmouseover="showTip(event, 'fs171', 611)" class="id">addNoise</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs169', 612)" onmouseover="showTip(event, 'fs169', 612)" class="m">Test</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs172', 613)" onmouseover="showTip(event, 'fs172', 613)" class="m">Noise</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs173', 614)" onmouseover="showTip(event, 'fs173', 614)" class="id">tryAddNormal</span> <span class="s">&quot;σ[y]&quot;</span> <span class="s">&quot;N&quot;</span><span class="pn">)</span>
    <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs169', 615)" onmouseover="showTip(event, 'fs169', 615)" class="m">Test</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs171', 616)" onmouseover="showTip(event, 'fs171', 616)" class="id">addNoise</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs169', 617)" onmouseover="showTip(event, 'fs169', 617)" class="m">Test</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs172', 618)" onmouseover="showTip(event, 'fs172', 618)" class="m">Noise</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs173', 619)" onmouseover="showTip(event, 'fs173', 619)" class="id">tryAddNormal</span> <span class="s">&quot;σ[x]&quot;</span> <span class="s">&quot;bs&quot;</span><span class="pn">)</span>
    <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs169', 620)" onmouseover="showTip(event, 'fs169', 620)" class="m">Test</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs174', 621)" onmouseover="showTip(event, 'fs174', 621)" class="id">addGenerationRules</span>
        <span class="pn">[</span> <span onmouseout="hideTip(event, 'fs169', 622)" onmouseover="showTip(event, 'fs169', 622)" class="m">Test</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs175', 623)" onmouseover="showTip(event, 'fs175', 623)" class="m">GenerationRules</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs176', 624)" onmouseover="showTip(event, 'fs176', 624)" class="id">alwaysMoreThan</span> <span class="o">-</span><span class="n">3.</span> <span class="s">&quot;N&quot;</span>
          <span onmouseout="hideTip(event, 'fs169', 625)" onmouseover="showTip(event, 'fs169', 625)" class="m">Test</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs175', 626)" onmouseover="showTip(event, 'fs175', 626)" class="m">GenerationRules</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs177', 627)" onmouseover="showTip(event, 'fs177', 627)" class="id">alwaysLessThan</span> <span class="n">20.</span> <span class="s">&quot;N&quot;</span>
          <span onmouseout="hideTip(event, 'fs169', 628)" onmouseover="showTip(event, 'fs169', 628)" class="m">Test</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs175', 629)" onmouseover="showTip(event, 'fs175', 629)" class="m">GenerationRules</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs176', 630)" onmouseover="showTip(event, 'fs176', 630)" class="id">alwaysMoreThan</span> <span class="n">0.</span> <span class="s">&quot;bs&quot;</span>
          <span onmouseout="hideTip(event, 'fs169', 631)" onmouseover="showTip(event, 'fs169', 631)" class="m">Test</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs175', 632)" onmouseover="showTip(event, 'fs175', 632)" class="m">GenerationRules</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs178', 633)" onmouseover="showTip(event, 'fs178', 633)" class="id">monotonicallyIncreasing</span> <span class="s">&quot;x&quot;</span> <span class="pn">]</span> <span class="c">// There must be at least 10mm of wood production</span>
    <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs169', 634)" onmouseover="showTip(event, 'fs169', 634)" class="m">Test</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs179', 635)" onmouseover="showTip(event, 'fs179', 635)" class="id">addStartValues</span> <span class="pn">[</span> <span class="s">&quot;x&quot;</span><span class="pn">,</span> <span class="n">5.0</span><span class="pn">;</span> <span class="s">&quot;bs&quot;</span><span class="pn">,</span> <span class="n">5.0</span><span class="pn">&lt;</span><span onmouseout="hideTip(event, 'fs42', 636)" onmouseover="showTip(event, 'fs42', 636)" class="id">Dendro</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs52', 637)" onmouseover="showTip(event, 'fs52', 637)" class="id">mm</span><span class="pn">&gt;</span> <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs1', 638)" onmouseover="showTip(event, 'fs1', 638)" class="m">Allometric</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs90', 639)" onmouseover="showTip(event, 'fs90', 639)" class="m">Proxies</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs180', 640)" onmouseover="showTip(event, 'fs180', 640)" class="id">toBiomassMM</span><span class="pn">;</span> <span class="s">&quot;N&quot;</span><span class="pn">,</span> <span class="n">3.64</span> <span class="pn">]</span>
    <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs169', 641)" onmouseover="showTip(event, 'fs169', 641)" class="m">Test</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs181', 642)" onmouseover="showTip(event, 'fs181', 642)" class="id">withTimeSeriesLength</span> <span class="n">30</span>
    <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs169', 643)" onmouseover="showTip(event, 'fs169', 643)" class="m">Test</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs182', 644)" onmouseover="showTip(event, 'fs182', 644)" class="id">endWhen</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs156', 645)" onmouseover="showTip(event, 'fs156', 645)" class="id">Optimisation</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs162', 646)" onmouseover="showTip(event, 'fs162', 646)" class="m">EndConditions</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs163', 647)" onmouseover="showTip(event, 'fs163', 647)" class="id">afterIteration</span> <span class="n">1000</span><span class="pn">)</span>
</code></pre>
<pre class="fssnip highlighted"><code lang="fsharp"><span class="k">let</span> <span onmouseout="hideTip(event, 'fs183', 648)" onmouseover="showTip(event, 'fs183', 648)" class="id">testResult</span> <span class="o">=</span>
    <span onmouseout="hideTip(event, 'fs122', 649)" onmouseover="showTip(event, 'fs122', 649)" class="id">hypotheses</span>
    <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs184', 650)" onmouseover="showTip(event, 'fs184', 650)" class="m">List</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs185', 651)" onmouseover="showTip(event, 'fs185', 651)" class="id">map</span> <span class="pn">(</span><span class="pn">(</span><span class="k">fun</span> <span onmouseout="hideTip(event, 'fs133', 652)" onmouseover="showTip(event, 'fs133', 652)" class="fn">h</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs133', 653)" onmouseover="showTip(event, 'fs133', 653)" class="fn">h</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs186', 654)" onmouseover="showTip(event, 'fs186', 654)" class="id">Model</span><span class="pn">)</span> <span class="o">&gt;</span><span class="pn">&gt;</span> <span onmouseout="hideTip(event, 'fs2', 655)" onmouseover="showTip(event, 'fs2', 655)" class="m">Bristlecone</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs187', 656)" onmouseover="showTip(event, 'fs187', 656)" class="id">testModel</span> <span onmouseout="hideTip(event, 'fs145', 657)" onmouseover="showTip(event, 'fs145', 657)" class="id">engine</span> <span onmouseout="hideTip(event, 'fs168', 658)" onmouseover="showTip(event, 'fs168', 658)" class="id">testSettings</span><span class="pn">)</span>
</code></pre>
<h3><a name="Load-in-the-real-dataset" class="anchor" href="#Load-in-the-real-dataset">Load in the real dataset</a></h3>
<p>Here, we are using the Bristlecone.Dendro package to
read in dendroecological data. For other problems, any
method to wrangle the data into a <code>TimeSeries</code> is acceptable.</p>
<pre class="fssnip highlighted"><code lang="fsharp"><span class="k">open</span> <span onmouseout="hideTip(event, 'fs2', 659)" onmouseover="showTip(event, 'fs2', 659)" class="m">Bristlecone</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs42', 660)" onmouseover="showTip(event, 'fs42', 660)" class="id">Dendro</span>

<span class="k">let</span> <span onmouseout="hideTip(event, 'fs188', 661)" onmouseover="showTip(event, 'fs188', 661)" class="id">dataset</span> <span class="o">=</span>
    <span class="k">let</span> <span onmouseout="hideTip(event, 'fs189', 662)" onmouseover="showTip(event, 'fs189', 662)" class="fn">plants</span> <span class="o">=</span>
        <span onmouseout="hideTip(event, 'fs190', 663)" onmouseover="showTip(event, 'fs190', 663)" class="id">Data</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs191', 664)" onmouseover="showTip(event, 'fs191', 664)" class="m">PlantIndividual</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs192', 665)" onmouseover="showTip(event, 'fs192', 665)" class="id">loadRingWidths</span> <span class="pn">(</span><span class="k">__SOURCE_DIRECTORY__</span> <span class="o">+</span> <span class="s">&quot;/../data/yamal-rw.csv&quot;</span><span class="pn">)</span>

    <span class="k">let</span> <span onmouseout="hideTip(event, 'fs193', 666)" onmouseover="showTip(event, 'fs193', 666)" class="fn">isotopeData</span> <span class="o">=</span>
        <span onmouseout="hideTip(event, 'fs190', 667)" onmouseover="showTip(event, 'fs190', 667)" class="id">Data</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs191', 668)" onmouseover="showTip(event, 'fs191', 668)" class="m">PlantIndividual</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs194', 669)" onmouseover="showTip(event, 'fs194', 669)" class="id">loadLocalEnvironmentVariable</span> <span class="pn">(</span><span class="k">__SOURCE_DIRECTORY__</span> <span class="o">+</span> <span class="s">&quot;/../data/yuribei-d15N-imputed.csv&quot;</span><span class="pn">)</span>

    <span onmouseout="hideTip(event, 'fs189', 670)" onmouseover="showTip(event, 'fs189', 670)" class="fn">plants</span> <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs195', 671)" onmouseover="showTip(event, 'fs195', 671)" class="m">PlantIndividual</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs196', 672)" onmouseover="showTip(event, 'fs196', 672)" class="id">zipEnvMany</span> <span class="s">&quot;N&quot;</span> <span onmouseout="hideTip(event, 'fs193', 673)" onmouseover="showTip(event, 'fs193', 673)" class="fn">isotopeData</span>
</code></pre>
<h3><a name="Model-fitting-to-real-data" class="anchor" href="#Model-fitting-to-real-data">Model-fitting to real data</a></h3>
<p>In this step, we will apply our <code>EstimationEngine</code> to the real
shrub data and model hypotheses.</p>
<p>Because there are so many hypotheses (x12) and individuals (x10),
and we want to run replicate analyses (x3), it makes sense to
run these 360 workloads in parallel. To do this, we can make use of
the workflow tools in the <code>Bristlecone.Workflow</code> namespace.</p>
<p>An orchestration agent is an agent that queues and runs work items
in parallel. Below, we demonstrate setting up an agent:</p>
<pre class="fssnip highlighted"><code lang="fsharp"><span class="k">open</span> <span onmouseout="hideTip(event, 'fs2', 674)" onmouseover="showTip(event, 'fs2', 674)" class="m">Bristlecone</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs197', 675)" onmouseover="showTip(event, 'fs197', 675)" class="id">Workflow</span>

<span class="k">let</span> <span onmouseout="hideTip(event, 'fs198', 676)" onmouseover="showTip(event, 'fs198', 676)" class="id">orchestrator</span> <span class="o">=</span>
    <span onmouseout="hideTip(event, 'fs199', 677)" onmouseover="showTip(event, 'fs199', 677)" class="m">Orchestration</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs200', 678)" onmouseover="showTip(event, 'fs200', 678)" class="id">OrchestrationAgent</span><span class="pn">(</span>
        <span class="fn">writeOut</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs141', 679)" onmouseover="showTip(event, 'fs141', 679)" class="fn">output</span><span class="pn">,</span>
        <span class="fn">maxSimultaneous</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs4', 680)" onmouseover="showTip(event, 'fs4', 680)" class="id">System</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs201', 681)" onmouseover="showTip(event, 'fs201', 681)" class="rt">Environment</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs202', 682)" onmouseover="showTip(event, 'fs202', 682)" class="id">ProcessorCount</span><span class="pn">,</span>
        <span class="fn">retainResults</span> <span class="o">=</span> <span class="k">false</span>
    <span class="pn">)</span>
</code></pre>
<p>Before we can run the models, there are some specific considerations
required for this problem.</p>
<h4><a name="Setting-the-start-values" class="anchor" href="#Setting-the-start-values">Setting the start values</a></h4>
<p>Given time-series data, a common modelling problem is the question of
what to set t = 0 as. One strategy is to repeat the first data point (t1)
as t0. In this instance, out isotope time-series are shorter than the
ring-width time-series, so we generally know the real value of one
time-series but not the other. Because of this, we use a custom start
point for each shrub individual.</p>
<pre class="fssnip highlighted"><code lang="fsharp"><span class="k">let</span> <span onmouseout="hideTip(event, 'fs203', 683)" onmouseover="showTip(event, 'fs203', 683)" class="fn">startValues</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs204', 684)" onmouseover="showTip(event, 'fs204', 684)" class="fn">startDate</span><span class="pn">:</span> <span onmouseout="hideTip(event, 'fs4', 685)" onmouseover="showTip(event, 'fs4', 685)" class="id">System</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs205', 686)" onmouseover="showTip(event, 'fs205', 686)" class="id">DateTime</span><span class="pn">)</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs206', 687)" onmouseover="showTip(event, 'fs206', 687)" class="fn">plant</span><span class="pn">:</span> <span onmouseout="hideTip(event, 'fs195', 688)" onmouseover="showTip(event, 'fs195', 688)" class="m">PlantIndividual</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs207', 689)" onmouseover="showTip(event, 'fs207', 689)" class="id">PlantIndividual</span><span class="pn">)</span> <span class="o">=</span>
    <span class="k">let</span> <span onmouseout="hideTip(event, 'fs208', 690)" onmouseover="showTip(event, 'fs208', 690)" class="fn">removeUnit</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs44', 691)" onmouseover="showTip(event, 'fs44', 691)" class="fn">x</span><span class="pn">:</span> <span onmouseout="hideTip(event, 'fs40', 692)" onmouseover="showTip(event, 'fs40', 692)" class="vt">float</span><span class="pn">&lt;</span><span class="id">_</span><span class="pn">&gt;</span><span class="pn">)</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs40', 693)" onmouseover="showTip(event, 'fs40', 693)" class="fn">float</span> <span onmouseout="hideTip(event, 'fs44', 694)" onmouseover="showTip(event, 'fs44', 694)" class="fn">x</span>

    <span class="k">let</span> <span onmouseout="hideTip(event, 'fs209', 695)" onmouseover="showTip(event, 'fs209', 695)" class="fn">initialRadius</span> <span class="o">=</span>
        <span class="k">match</span> <span onmouseout="hideTip(event, 'fs206', 696)" onmouseover="showTip(event, 'fs206', 696)" class="fn">plant</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs210', 697)" onmouseover="showTip(event, 'fs210', 697)" class="id">Growth</span> <span class="k">with</span>
        <span class="pn">|</span> <span onmouseout="hideTip(event, 'fs195', 698)" onmouseover="showTip(event, 'fs195', 698)" class="m">PlantIndividual</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs211', 699)" onmouseover="showTip(event, 'fs211', 699)" class="rt">PlantGrowth</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs212', 700)" onmouseover="showTip(event, 'fs212', 700)" class="id">RingWidth</span> <span onmouseout="hideTip(event, 'fs213', 701)" onmouseover="showTip(event, 'fs213', 701)" class="fn">s</span> <span class="k">-&gt;</span>
            <span class="k">match</span> <span onmouseout="hideTip(event, 'fs213', 702)" onmouseover="showTip(event, 'fs213', 702)" class="fn">s</span> <span class="k">with</span>
            <span class="pn">|</span> <span onmouseout="hideTip(event, 'fs214', 703)" onmouseover="showTip(event, 'fs214', 703)" class="m">GrowthSeries</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs215', 704)" onmouseover="showTip(event, 'fs215', 704)" class="id">Cumulative</span> <span onmouseout="hideTip(event, 'fs216', 705)" onmouseover="showTip(event, 'fs216', 705)" class="fn">c</span> <span class="k">-&gt;</span>
                <span class="k">let</span> <span onmouseout="hideTip(event, 'fs217', 706)" onmouseover="showTip(event, 'fs217', 706)" class="fn">trimmed</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs216', 707)" onmouseover="showTip(event, 'fs216', 707)" class="fn">c</span> <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs218', 708)" onmouseover="showTip(event, 'fs218', 708)" class="m">TimeSeries</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs219', 709)" onmouseover="showTip(event, 'fs219', 709)" class="id">trimStart</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs204', 710)" onmouseover="showTip(event, 'fs204', 710)" class="fn">startDate</span> <span class="o">-</span> <span onmouseout="hideTip(event, 'fs4', 711)" onmouseover="showTip(event, 'fs4', 711)" class="id">System</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs220', 712)" onmouseover="showTip(event, 'fs220', 712)" class="vt">TimeSpan</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs221', 713)" onmouseover="showTip(event, 'fs221', 713)" class="id">FromDays</span><span class="pn">(</span><span class="n">366.</span><span class="pn">)</span><span class="pn">)</span>

                <span class="k">match</span> <span onmouseout="hideTip(event, 'fs217', 714)" onmouseover="showTip(event, 'fs217', 714)" class="fn">trimmed</span> <span class="k">with</span>
                <span class="pn">|</span> <span onmouseout="hideTip(event, 'fs161', 715)" onmouseover="showTip(event, 'fs161', 715)" class="uc">Some</span> <span onmouseout="hideTip(event, 'fs222', 716)" onmouseover="showTip(event, 'fs222', 716)" class="fn">t</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs222', 717)" onmouseover="showTip(event, 'fs222', 717)" class="fn">t</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs223', 718)" onmouseover="showTip(event, 'fs223', 718)" class="id">Values</span> <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs130', 719)" onmouseover="showTip(event, 'fs130', 719)" class="m">Seq</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs224', 720)" onmouseover="showTip(event, 'fs224', 720)" class="id">head</span>
                <span class="pn">|</span> <span onmouseout="hideTip(event, 'fs225', 721)" onmouseover="showTip(event, 'fs225', 721)" class="uc">None</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs226', 722)" onmouseover="showTip(event, 'fs226', 722)" class="fn">failwith</span> <span class="s">&quot;Could not get t0 from ring-width series&quot;</span>
            <span class="pn">|</span> <span class="id">_</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs227', 723)" onmouseover="showTip(event, 'fs227', 723)" class="fn">invalidOp</span> <span class="s">&quot;Not applicable&quot;</span>
        <span class="pn">|</span> <span class="id">_</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs227', 724)" onmouseover="showTip(event, 'fs227', 724)" class="fn">invalidOp</span> <span class="s">&quot;Not applicable&quot;</span>

    <span class="k">let</span> <span onmouseout="hideTip(event, 'fs228', 725)" onmouseover="showTip(event, 'fs228', 725)" class="fn">initialMass</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs209', 726)" onmouseover="showTip(event, 'fs209', 726)" class="fn">initialRadius</span> <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs1', 727)" onmouseover="showTip(event, 'fs1', 727)" class="m">Allometric</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs90', 728)" onmouseover="showTip(event, 'fs90', 728)" class="m">Proxies</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs61', 729)" onmouseover="showTip(event, 'fs61', 729)" class="id">toBiomassMM</span>
    <span class="k">let</span> <span onmouseout="hideTip(event, 'fs229', 730)" onmouseover="showTip(event, 'fs229', 730)" class="fn">initialNitrogen</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs206', 731)" onmouseover="showTip(event, 'fs206', 731)" class="fn">plant</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs230', 732)" onmouseover="showTip(event, 'fs230', 732)" class="id">Environment</span><span class="pn">.</span><span class="pn">[</span><span class="prop">(</span><span onmouseout="hideTip(event, 'fs231', 733)" onmouseover="showTip(event, 'fs231', 733)" class="fn">code</span> <span class="s">&quot;N&quot;</span><span class="pn">)</span><span class="pn">.</span><span class="id">Value</span><span class="pn">]</span><span class="pn">.</span><span class="id">Head</span> <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs232', 734)" onmouseover="showTip(event, 'fs232', 734)" class="fn">fst</span>

    <span class="pn">[</span> <span class="pn">(</span><span class="prop">(</span><span onmouseout="hideTip(event, 'fs231', 735)" onmouseover="showTip(event, 'fs231', 735)" class="fn">code</span> <span class="s">&quot;x&quot;</span><span class="pn">)</span><span class="pn">.</span><span class="id">Value</span><span class="pn">,</span> <span onmouseout="hideTip(event, 'fs209', 736)" onmouseover="showTip(event, 'fs209', 736)" class="fn">initialRadius</span> <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs208', 737)" onmouseover="showTip(event, 'fs208', 737)" class="fn">removeUnit</span><span class="pn">)</span>
      <span class="pn">(</span><span class="prop">(</span><span onmouseout="hideTip(event, 'fs231', 738)" onmouseover="showTip(event, 'fs231', 738)" class="fn">code</span> <span class="s">&quot;N&quot;</span><span class="pn">)</span><span class="pn">.</span><span class="id">Value</span><span class="pn">,</span> <span onmouseout="hideTip(event, 'fs229', 739)" onmouseover="showTip(event, 'fs229', 739)" class="fn">initialNitrogen</span><span class="pn">)</span>
      <span class="pn">(</span><span class="prop">(</span><span onmouseout="hideTip(event, 'fs231', 740)" onmouseover="showTip(event, 'fs231', 740)" class="fn">code</span> <span class="s">&quot;bs&quot;</span><span class="pn">)</span><span class="pn">.</span><span class="id">Value</span><span class="pn">,</span> <span onmouseout="hideTip(event, 'fs228', 741)" onmouseover="showTip(event, 'fs228', 741)" class="fn">initialMass</span><span class="pn">)</span> <span class="pn">]</span>
    <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs233', 742)" onmouseover="showTip(event, 'fs233', 742)" class="m">Map</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs234', 743)" onmouseover="showTip(event, 'fs234', 743)" class="id">ofList</span>
</code></pre>
<p>Next, we set up some configuration settings, then wrap up our hypotheses and shrubs
as work packages for the orchestrator, where a work package is a <code>Async&lt;ModelSystem.EstimationResult&gt;</code>.</p>
<p>The function to make the work packages first sets up the common time period and custom
start values for each shrub, then creates per-hypothesis work packages for that shrub.</p>
<pre class="fssnip highlighted"><code lang="fsharp"><span class="k">module</span> <span class="m">Config</span> <span class="o">=</span>

    <span class="k">let</span> <span onmouseout="hideTip(event, 'fs235', 744)" onmouseover="showTip(event, 'fs235', 744)" class="id">numberOfReplicates</span> <span class="o">=</span> <span class="n">3</span>
    <span class="k">let</span> <span onmouseout="hideTip(event, 'fs236', 745)" onmouseover="showTip(event, 'fs236', 745)" class="id">resultsDirectory</span> <span class="o">=</span> <span class="s">&quot;results/test/&quot;</span>
    <span class="k">let</span> <span onmouseout="hideTip(event, 'fs237', 746)" onmouseover="showTip(event, 'fs237', 746)" class="id">thinTrace</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs161', 747)" onmouseover="showTip(event, 'fs161', 747)" class="uc">Some</span> <span class="n">100</span>
    <span class="k">let</span> <span onmouseout="hideTip(event, 'fs238', 748)" onmouseover="showTip(event, 'fs238', 748)" class="fn">endWhen</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs156', 749)" onmouseover="showTip(event, 'fs156', 749)" class="id">Optimisation</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs162', 750)" onmouseover="showTip(event, 'fs162', 750)" class="m">EndConditions</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs163', 751)" onmouseover="showTip(event, 'fs163', 751)" class="id">afterIteration</span> <span class="n">100000</span>


<span class="c">// Function to scaffold work packages</span>
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs239', 752)" onmouseover="showTip(event, 'fs239', 752)" class="fn">workPackages</span> <span onmouseout="hideTip(event, 'fs240', 753)" onmouseover="showTip(event, 'fs240', 753)" class="fn">shrubs</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs122', 754)" onmouseover="showTip(event, 'fs122', 754)" class="fn">hypotheses</span><span class="pn">:</span> <span onmouseout="hideTip(event, 'fs123', 755)" onmouseover="showTip(event, 'fs123', 755)" class="m">Hypotheses</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs241', 756)" onmouseover="showTip(event, 'fs241', 756)" class="id">Hypothesis</span> <span onmouseout="hideTip(event, 'fs242', 757)" onmouseover="showTip(event, 'fs242', 757)" class="rt">list</span><span class="pn">)</span> <span onmouseout="hideTip(event, 'fs145', 758)" onmouseover="showTip(event, 'fs145', 758)" class="fn">engine</span> <span onmouseout="hideTip(event, 'fs243', 759)" onmouseover="showTip(event, 'fs243', 759)" class="fn">saveDirectory</span> <span class="o">=</span>
    <span onmouseout="hideTip(event, 'fs244', 760)" onmouseover="showTip(event, 'fs244', 760)" class="fn">seq</span> <span class="pn">{</span>
        <span class="k">for</span> <span onmouseout="hideTip(event, 'fs245', 761)" onmouseover="showTip(event, 'fs245', 761)" class="fn">s</span> <span class="k">in</span> <span onmouseout="hideTip(event, 'fs240', 762)" onmouseover="showTip(event, 'fs240', 762)" class="fn">shrubs</span> <span class="k">do</span>

            <span class="c">// 1. Arrange the subject and settings</span>
            <span class="k">let</span> <span onmouseout="hideTip(event, 'fs246', 763)" onmouseover="showTip(event, 'fs246', 763)" class="fn">shrub</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs245', 764)" onmouseover="showTip(event, 'fs245', 764)" class="fn">s</span> <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs195', 765)" onmouseover="showTip(event, 'fs195', 765)" class="m">PlantIndividual</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs247', 766)" onmouseover="showTip(event, 'fs247', 766)" class="id">toCumulativeGrowth</span>
            <span class="k">let</span> <span onmouseout="hideTip(event, 'fs248', 767)" onmouseover="showTip(event, 'fs248', 767)" class="fn">common</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs246', 768)" onmouseover="showTip(event, 'fs246', 768)" class="fn">shrub</span> <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs195', 769)" onmouseover="showTip(event, 'fs195', 769)" class="m">PlantIndividual</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs249', 770)" onmouseover="showTip(event, 'fs249', 770)" class="id">keepCommonYears</span>
            <span class="k">let</span> <span onmouseout="hideTip(event, 'fs204', 771)" onmouseover="showTip(event, 'fs204', 771)" class="fn">startDate</span> <span class="o">=</span> <span class="prop">(</span><span onmouseout="hideTip(event, 'fs248', 772)" onmouseover="showTip(event, 'fs248', 772)" class="fn">common</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs230', 773)" onmouseover="showTip(event, 'fs230', 773)" class="id">Environment</span><span class="pn">.</span><span class="pn">[</span><span class="prop">(</span><span onmouseout="hideTip(event, 'fs231', 774)" onmouseover="showTip(event, 'fs231', 774)" class="fn">code</span> <span class="s">&quot;N&quot;</span><span class="pn">)</span><span class="pn">.</span><span class="id">Value</span><span class="pn">]</span><span class="pn">)</span><span class="pn">.</span><span class="id">StartDate</span> <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs53', 775)" onmouseover="showTip(event, 'fs53', 775)" class="fn">snd</span>
            <span class="k">let</span> <span onmouseout="hideTip(event, 'fs250', 776)" onmouseover="showTip(event, 'fs250', 776)" class="fn">startConditions</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs203', 777)" onmouseover="showTip(event, 'fs203', 777)" class="fn">startValues</span> <span onmouseout="hideTip(event, 'fs204', 778)" onmouseover="showTip(event, 'fs204', 778)" class="fn">startDate</span> <span onmouseout="hideTip(event, 'fs246', 779)" onmouseover="showTip(event, 'fs246', 779)" class="fn">shrub</span>
            <span class="k">let</span> <span onmouseout="hideTip(event, 'fs251', 780)" onmouseover="showTip(event, 'fs251', 780)" class="fn">e</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs145', 781)" onmouseover="showTip(event, 'fs145', 781)" class="fn">engine</span> <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs2', 782)" onmouseover="showTip(event, 'fs2', 782)" class="m">Bristlecone</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs152', 783)" onmouseover="showTip(event, 'fs152', 783)" class="id">withConditioning</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs153', 784)" onmouseover="showTip(event, 'fs153', 784)" class="m">Conditioning</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs252', 785)" onmouseover="showTip(event, 'fs252', 785)" class="id">Custom</span> <span onmouseout="hideTip(event, 'fs250', 786)" onmouseover="showTip(event, 'fs250', 786)" class="fn">startConditions</span><span class="pn">)</span>

            <span class="c">// 2. Setup batches of dependent analyses</span>
            <span class="k">for</span> <span onmouseout="hideTip(event, 'fs133', 787)" onmouseover="showTip(event, 'fs133', 787)" class="fn">h</span> <span class="k">in</span> <span onmouseout="hideTip(event, 'fs122', 788)" onmouseover="showTip(event, 'fs122', 788)" class="fn">hypotheses</span> <span class="k">do</span>
                <span class="k">for</span> <span class="id">_</span> <span class="k">in</span> <span class="pn">[</span> <span class="n">1</span> <span class="o">..</span> <span onmouseout="hideTip(event, 'fs253', 789)" onmouseover="showTip(event, 'fs253', 789)" class="m">Config</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs235', 790)" onmouseover="showTip(event, 'fs235', 790)" class="id">numberOfReplicates</span> <span class="pn">]</span> <span class="k">do</span>
                    <span class="k">yield</span>
                        <span onmouseout="hideTip(event, 'fs254', 791)" onmouseover="showTip(event, 'fs254', 791)" class="k">async</span> <span class="pn">{</span>
                            <span class="c">// A. Compute result</span>
                            <span class="k">let</span> <span onmouseout="hideTip(event, 'fs255', 792)" onmouseover="showTip(event, 'fs255', 792)" class="fn">result</span> <span class="o">=</span>
                                <span onmouseout="hideTip(event, 'fs2', 793)" onmouseover="showTip(event, 'fs2', 793)" class="m">Bristlecone</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs256', 794)" onmouseover="showTip(event, 'fs256', 794)" class="id">tryFit</span> <span onmouseout="hideTip(event, 'fs251', 795)" onmouseover="showTip(event, 'fs251', 795)" class="fn">e</span> <span onmouseout="hideTip(event, 'fs253', 796)" onmouseover="showTip(event, 'fs253', 796)" class="m">Config</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs238', 797)" onmouseover="showTip(event, 'fs238', 797)" class="id">endWhen</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs2', 798)" onmouseover="showTip(event, 'fs2', 798)" class="m">Bristlecone</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs257', 799)" onmouseover="showTip(event, 'fs257', 799)" class="id">fromDendro</span> <span onmouseout="hideTip(event, 'fs248', 800)" onmouseover="showTip(event, 'fs248', 800)" class="fn">common</span><span class="pn">)</span> <span onmouseout="hideTip(event, 'fs133', 801)" onmouseover="showTip(event, 'fs133', 801)" class="fn">h</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs186', 802)" onmouseover="showTip(event, 'fs186', 802)" class="id">Model</span>
                            <span class="c">// B. Save to file</span>
                            <span class="k">match</span> <span onmouseout="hideTip(event, 'fs255', 803)" onmouseover="showTip(event, 'fs255', 803)" class="fn">result</span> <span class="k">with</span>
                            <span class="pn">|</span> <span onmouseout="hideTip(event, 'fs258', 804)" onmouseover="showTip(event, 'fs258', 804)" class="uc">Ok</span> <span onmouseout="hideTip(event, 'fs259', 805)" onmouseover="showTip(event, 'fs259', 805)" class="fn">r</span> <span class="k">-&gt;</span>
                                <span onmouseout="hideTip(event, 'fs2', 806)" onmouseover="showTip(event, 'fs2', 806)" class="m">Bristlecone</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs260', 807)" onmouseover="showTip(event, 'fs260', 807)" class="id">Data</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs261', 808)" onmouseover="showTip(event, 'fs261', 808)" class="m">EstimationResult</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs262', 809)" onmouseover="showTip(event, 'fs262', 809)" class="id">saveAll</span>
                                    <span onmouseout="hideTip(event, 'fs243', 810)" onmouseover="showTip(event, 'fs243', 810)" class="fn">saveDirectory</span>
                                    <span onmouseout="hideTip(event, 'fs245', 811)" onmouseover="showTip(event, 'fs245', 811)" class="fn">s</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs263', 812)" onmouseover="showTip(event, 'fs263', 812)" class="prop">Identifier</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs264', 813)" onmouseover="showTip(event, 'fs264', 813)" class="id">Value</span>
                                    <span onmouseout="hideTip(event, 'fs133', 814)" onmouseover="showTip(event, 'fs133', 814)" class="fn">h</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs134', 815)" onmouseover="showTip(event, 'fs134', 815)" class="id">ReferenceCode</span>
                                    <span onmouseout="hideTip(event, 'fs253', 816)" onmouseover="showTip(event, 'fs253', 816)" class="m">Config</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs237', 817)" onmouseover="showTip(event, 'fs237', 817)" class="id">thinTrace</span>
                                    <span onmouseout="hideTip(event, 'fs259', 818)" onmouseover="showTip(event, 'fs259', 818)" class="fn">r</span>

                                <span class="k">return</span> <span onmouseout="hideTip(event, 'fs259', 819)" onmouseover="showTip(event, 'fs259', 819)" class="fn">r</span>
                            <span class="pn">|</span> <span onmouseout="hideTip(event, 'fs265', 820)" onmouseover="showTip(event, 'fs265', 820)" class="uc">Error</span> <span onmouseout="hideTip(event, 'fs266', 821)" onmouseover="showTip(event, 'fs266', 821)" class="fn">e</span> <span class="k">-&gt;</span> <span class="k">return</span> <span onmouseout="hideTip(event, 'fs267', 822)" onmouseover="showTip(event, 'fs267', 822)" class="fn">failwithf</span> <span class="s">&quot;Error in package: </span><span class="pf">%s</span><span class="s">&quot;</span> <span onmouseout="hideTip(event, 'fs266', 823)" onmouseover="showTip(event, 'fs266', 823)" class="fn">e</span>
                        <span class="pn">}</span>
    <span class="pn">}</span>

<span class="k">let</span> <span onmouseout="hideTip(event, 'fs268', 824)" onmouseover="showTip(event, 'fs268', 824)" class="id">work</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs239', 825)" onmouseover="showTip(event, 'fs239', 825)" class="fn">workPackages</span> <span onmouseout="hideTip(event, 'fs188', 826)" onmouseover="showTip(event, 'fs188', 826)" class="id">dataset</span> <span onmouseout="hideTip(event, 'fs122', 827)" onmouseover="showTip(event, 'fs122', 827)" class="id">hypotheses</span> <span onmouseout="hideTip(event, 'fs145', 828)" onmouseover="showTip(event, 'fs145', 828)" class="id">engine</span> <span onmouseout="hideTip(event, 'fs253', 829)" onmouseover="showTip(event, 'fs253', 829)" class="m">Config</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs236', 830)" onmouseover="showTip(event, 'fs236', 830)" class="id">resultsDirectory</span>

<span class="c">// Calling this function will run all of the analyses, but for this</span>
<span class="c">// example script we won&#39;t run them here.</span>
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs269', 831)" onmouseover="showTip(event, 'fs269', 831)" class="fn">run</span> <span class="pn">(</span><span class="pn">)</span> <span class="o">=</span>
    <span onmouseout="hideTip(event, 'fs268', 832)" onmouseover="showTip(event, 'fs268', 832)" class="id">work</span>
    <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs130', 833)" onmouseover="showTip(event, 'fs130', 833)" class="m">Seq</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs270', 834)" onmouseover="showTip(event, 'fs270', 834)" class="id">iter</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs199', 835)" onmouseover="showTip(event, 'fs199', 835)" class="m">Orchestration</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs271', 836)" onmouseover="showTip(event, 'fs271', 836)" class="rt">OrchestrationMessage</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs272', 837)" onmouseover="showTip(event, 'fs272', 837)" class="id">StartWorkPackage</span> <span class="o">&gt;</span><span class="pn">&gt;</span> <span onmouseout="hideTip(event, 'fs198', 838)" onmouseover="showTip(event, 'fs198', 838)" class="id">orchestrator</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs273', 839)" onmouseover="showTip(event, 'fs273', 839)" class="id">Post</span><span class="pn">)</span>
</code></pre>
<h3><a name="Model-selection" class="anchor" href="#Model-selection">Model selection</a></h3>
<p>After calling <code>run ()</code>, we should have a folder containing csv files, three
for each <code>EstimationResult</code>. We can load all of these in at once to
calculate model comparison statistics.</p>
<p>Functions for loading data are in the <code>Bristlecone.Data</code> namespace. You
may notice that in the work package definition above we used functions from
this namespace to save the results.</p>
<pre class="fssnip highlighted"><code lang="fsharp"><span class="k">let</span> <span onmouseout="hideTip(event, 'fs274', 840)" onmouseover="showTip(event, 'fs274', 840)" class="fn">saveDiagnostics</span> <span class="pn">(</span><span class="pn">)</span> <span class="o">=</span>

    <span class="c">// 1. Get all results sliced by plant and hypothesis</span>
    <span class="k">let</span> <span onmouseout="hideTip(event, 'fs275', 841)" onmouseover="showTip(event, 'fs275', 841)" class="fn">results</span> <span class="o">=</span>
        <span class="k">let</span> <span onmouseout="hideTip(event, 'fs276', 842)" onmouseover="showTip(event, 'fs276', 842)" class="fn">get</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs277', 843)" onmouseover="showTip(event, 'fs277', 843)" class="fn">subject</span><span class="pn">:</span> <span onmouseout="hideTip(event, 'fs195', 844)" onmouseover="showTip(event, 'fs195', 844)" class="m">PlantIndividual</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs207', 845)" onmouseover="showTip(event, 'fs207', 845)" class="id">PlantIndividual</span><span class="pn">)</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs278', 846)" onmouseover="showTip(event, 'fs278', 846)" class="fn">hypothesis</span><span class="pn">:</span> <span onmouseout="hideTip(event, 'fs123', 847)" onmouseover="showTip(event, 'fs123', 847)" class="m">Hypotheses</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs241', 848)" onmouseover="showTip(event, 'fs241', 848)" class="id">Hypothesis</span><span class="pn">)</span> <span class="o">=</span>
            <span onmouseout="hideTip(event, 'fs2', 849)" onmouseover="showTip(event, 'fs2', 849)" class="m">Bristlecone</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs260', 850)" onmouseover="showTip(event, 'fs260', 850)" class="id">Data</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs261', 851)" onmouseover="showTip(event, 'fs261', 851)" class="m">EstimationResult</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs279', 852)" onmouseover="showTip(event, 'fs279', 852)" class="id">loadAll</span>
                <span onmouseout="hideTip(event, 'fs253', 853)" onmouseover="showTip(event, 'fs253', 853)" class="m">Config</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs236', 854)" onmouseover="showTip(event, 'fs236', 854)" class="id">resultsDirectory</span>
                <span onmouseout="hideTip(event, 'fs277', 855)" onmouseover="showTip(event, 'fs277', 855)" class="fn">subject</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs263', 856)" onmouseover="showTip(event, 'fs263', 856)" class="prop">Identifier</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs264', 857)" onmouseover="showTip(event, 'fs264', 857)" class="id">Value</span>
                <span onmouseout="hideTip(event, 'fs278', 858)" onmouseover="showTip(event, 'fs278', 858)" class="fn">hypothesis</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs186', 859)" onmouseover="showTip(event, 'fs186', 859)" class="id">Model</span>
                <span onmouseout="hideTip(event, 'fs278', 860)" onmouseover="showTip(event, 'fs278', 860)" class="fn">hypothesis</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs134', 861)" onmouseover="showTip(event, 'fs134', 861)" class="id">ReferenceCode</span>

        <span onmouseout="hideTip(event, 'fs2', 862)" onmouseover="showTip(event, 'fs2', 862)" class="m">Bristlecone</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs280', 863)" onmouseover="showTip(event, 'fs280', 863)" class="m">ModelSelection</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs281', 864)" onmouseover="showTip(event, 'fs281', 864)" class="m">ResultSet</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs282', 865)" onmouseover="showTip(event, 'fs282', 865)" class="id">arrangeResultSets</span> <span onmouseout="hideTip(event, 'fs188', 866)" onmouseover="showTip(event, 'fs188', 866)" class="id">dataset</span> <span onmouseout="hideTip(event, 'fs122', 867)" onmouseover="showTip(event, 'fs122', 867)" class="id">hypotheses</span> <span onmouseout="hideTip(event, 'fs276', 868)" onmouseover="showTip(event, 'fs276', 868)" class="fn">get</span>

    <span class="c">// 2. Save convergence statistics to file</span>
    <span onmouseout="hideTip(event, 'fs275', 869)" onmouseover="showTip(event, 'fs275', 869)" class="fn">results</span>
    <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs283', 870)" onmouseover="showTip(event, 'fs283', 870)" class="m">Diagnostics</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs284', 871)" onmouseover="showTip(event, 'fs284', 871)" class="m">Convergence</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs285', 872)" onmouseover="showTip(event, 'fs285', 872)" class="id">gelmanRubinAll</span>
        <span class="n">10000</span>
        <span class="pn">(</span><span class="k">fun</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs245', 873)" onmouseover="showTip(event, 'fs245', 873)" class="fn">s</span><span class="pn">:</span> <span onmouseout="hideTip(event, 'fs195', 874)" onmouseover="showTip(event, 'fs195', 874)" class="m">PlantIndividual</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs207', 875)" onmouseover="showTip(event, 'fs207', 875)" class="id">PlantIndividual</span><span class="pn">)</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs245', 876)" onmouseover="showTip(event, 'fs245', 876)" class="fn">s</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs263', 877)" onmouseover="showTip(event, 'fs263', 877)" class="prop">Identifier</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs264', 878)" onmouseover="showTip(event, 'fs264', 878)" class="id">Value</span><span class="pn">)</span>
        <span class="pn">(</span><span class="k">fun</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs133', 879)" onmouseover="showTip(event, 'fs133', 879)" class="fn">h</span><span class="pn">:</span> <span onmouseout="hideTip(event, 'fs123', 880)" onmouseover="showTip(event, 'fs123', 880)" class="m">Hypotheses</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs241', 881)" onmouseover="showTip(event, 'fs241', 881)" class="id">Hypothesis</span><span class="pn">)</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs133', 882)" onmouseover="showTip(event, 'fs133', 882)" class="fn">h</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs134', 883)" onmouseover="showTip(event, 'fs134', 883)" class="id">ReferenceCode</span><span class="pn">)</span>
    <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs190', 884)" onmouseover="showTip(event, 'fs190', 884)" class="id">Data</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs286', 885)" onmouseover="showTip(event, 'fs286', 885)" class="m">Convergence</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs287', 886)" onmouseover="showTip(event, 'fs287', 886)" class="id">save</span> <span onmouseout="hideTip(event, 'fs253', 887)" onmouseover="showTip(event, 'fs253', 887)" class="m">Config</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs236', 888)" onmouseover="showTip(event, 'fs236', 888)" class="id">resultsDirectory</span>

    <span class="c">// 3. Save Akaike weights to file</span>
    <span onmouseout="hideTip(event, 'fs275', 889)" onmouseover="showTip(event, 'fs275', 889)" class="fn">results</span>
    <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs280', 890)" onmouseover="showTip(event, 'fs280', 890)" class="m">ModelSelection</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs288', 891)" onmouseover="showTip(event, 'fs288', 891)" class="m">Akaike</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs289', 892)" onmouseover="showTip(event, 'fs289', 892)" class="id">akaikeWeightsForSet</span> <span class="pn">(</span><span class="k">fun</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs133', 893)" onmouseover="showTip(event, 'fs133', 893)" class="fn">h</span><span class="pn">:</span> <span onmouseout="hideTip(event, 'fs123', 894)" onmouseover="showTip(event, 'fs123', 894)" class="m">Hypotheses</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs241', 895)" onmouseover="showTip(event, 'fs241', 895)" class="id">Hypothesis</span><span class="pn">)</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs133', 896)" onmouseover="showTip(event, 'fs133', 896)" class="fn">h</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs134', 897)" onmouseover="showTip(event, 'fs134', 897)" class="id">ReferenceCode</span><span class="pn">)</span>
    <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs130', 898)" onmouseover="showTip(event, 'fs130', 898)" class="m">Seq</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs136', 899)" onmouseover="showTip(event, 'fs136', 899)" class="id">map</span> <span class="pn">(</span><span class="k">fun</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs290', 900)" onmouseover="showTip(event, 'fs290', 900)" class="fn">x</span><span class="pn">,</span> <span onmouseout="hideTip(event, 'fs291', 901)" onmouseover="showTip(event, 'fs291', 901)" class="fn">a</span><span class="pn">,</span> <span onmouseout="hideTip(event, 'fs292', 902)" onmouseover="showTip(event, 'fs292', 902)" class="fn">b</span><span class="pn">,</span> <span onmouseout="hideTip(event, 'fs293', 903)" onmouseover="showTip(event, 'fs293', 903)" class="fn">c</span><span class="pn">)</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs290', 904)" onmouseover="showTip(event, 'fs290', 904)" class="fn">x</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs263', 905)" onmouseover="showTip(event, 'fs263', 905)" class="prop">Identifier</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs264', 906)" onmouseover="showTip(event, 'fs264', 906)" class="id">Value</span><span class="pn">,</span> <span onmouseout="hideTip(event, 'fs291', 907)" onmouseover="showTip(event, 'fs291', 907)" class="fn">a</span><span class="pn">,</span> <span onmouseout="hideTip(event, 'fs292', 908)" onmouseover="showTip(event, 'fs292', 908)" class="fn">b</span><span class="pn">,</span> <span onmouseout="hideTip(event, 'fs293', 909)" onmouseover="showTip(event, 'fs293', 909)" class="fn">c</span><span class="pn">)</span>
    <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs190', 910)" onmouseover="showTip(event, 'fs190', 910)" class="id">Data</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs294', 911)" onmouseover="showTip(event, 'fs294', 911)" class="m">ModelSelection</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs295', 912)" onmouseover="showTip(event, 'fs295', 912)" class="id">save</span> <span onmouseout="hideTip(event, 'fs253', 913)" onmouseover="showTip(event, 'fs253', 913)" class="m">Config</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs236', 914)" onmouseover="showTip(event, 'fs236', 914)" class="id">resultsDirectory</span>


    <span class="c">// // 4. Save out logged components</span>
    <span class="c">// results</span>
    <span class="c">// |&gt; Seq.map(fun r -&gt;</span>
    <span class="c">//    Diagnostics.ModelComponents.calculateComponents fit engine r)</span>

    <span class="c">// 5. One-step ahead predictions</span>

    <span class="k">let</span> <span onmouseout="hideTip(event, 'fs296', 915)" onmouseover="showTip(event, 'fs296', 915)" class="fn">bestFits</span> <span class="o">=</span>
        <span onmouseout="hideTip(event, 'fs130', 916)" onmouseover="showTip(event, 'fs130', 916)" class="m">Seq</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs297', 917)" onmouseover="showTip(event, 'fs297', 917)" class="id">allPairs</span> <span onmouseout="hideTip(event, 'fs188', 918)" onmouseover="showTip(event, 'fs188', 918)" class="id">dataset</span> <span onmouseout="hideTip(event, 'fs122', 919)" onmouseover="showTip(event, 'fs122', 919)" class="id">hypotheses</span>
        <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs130', 920)" onmouseover="showTip(event, 'fs130', 920)" class="m">Seq</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs136', 921)" onmouseover="showTip(event, 'fs136', 921)" class="id">map</span> <span class="pn">(</span><span class="k">fun</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs245', 922)" onmouseover="showTip(event, 'fs245', 922)" class="fn">s</span><span class="pn">,</span> <span onmouseout="hideTip(event, 'fs133', 923)" onmouseover="showTip(event, 'fs133', 923)" class="fn">h</span><span class="pn">)</span> <span class="k">-&gt;</span>
            <span onmouseout="hideTip(event, 'fs245', 924)" onmouseover="showTip(event, 'fs245', 924)" class="fn">s</span><span class="pn">,</span> <span onmouseout="hideTip(event, 'fs133', 925)" onmouseover="showTip(event, 'fs133', 925)" class="fn">h</span><span class="pn">,</span> <span onmouseout="hideTip(event, 'fs2', 926)" onmouseover="showTip(event, 'fs2', 926)" class="m">Bristlecone</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs260', 927)" onmouseover="showTip(event, 'fs260', 927)" class="id">Data</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs298', 928)" onmouseover="showTip(event, 'fs298', 928)" class="m">MLE</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs299', 929)" onmouseover="showTip(event, 'fs299', 929)" class="id">loadBest</span> <span onmouseout="hideTip(event, 'fs253', 930)" onmouseover="showTip(event, 'fs253', 930)" class="m">Config</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs236', 931)" onmouseover="showTip(event, 'fs236', 931)" class="id">resultsDirectory</span> <span onmouseout="hideTip(event, 'fs245', 932)" onmouseover="showTip(event, 'fs245', 932)" class="fn">s</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs263', 933)" onmouseover="showTip(event, 'fs263', 933)" class="prop">Identifier</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs264', 934)" onmouseover="showTip(event, 'fs264', 934)" class="id">Value</span> <span onmouseout="hideTip(event, 'fs133', 935)" onmouseover="showTip(event, 'fs133', 935)" class="fn">h</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs186', 936)" onmouseover="showTip(event, 'fs186', 936)" class="id">Model</span> <span onmouseout="hideTip(event, 'fs133', 937)" onmouseover="showTip(event, 'fs133', 937)" class="fn">h</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs134', 938)" onmouseover="showTip(event, 'fs134', 938)" class="id">ReferenceCode</span><span class="pn">)</span>

    <span class="k">let</span> <span onmouseout="hideTip(event, 'fs300', 939)" onmouseover="showTip(event, 'fs300', 939)" class="fn">oneStepPredictions</span> <span class="o">=</span>
        <span onmouseout="hideTip(event, 'fs296', 940)" onmouseover="showTip(event, 'fs296', 940)" class="fn">bestFits</span>
        <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs130', 941)" onmouseover="showTip(event, 'fs130', 941)" class="m">Seq</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs136', 942)" onmouseover="showTip(event, 'fs136', 942)" class="id">map</span> <span class="pn">(</span><span class="k">fun</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs245', 943)" onmouseover="showTip(event, 'fs245', 943)" class="fn">s</span><span class="pn">,</span> <span onmouseout="hideTip(event, 'fs133', 944)" onmouseover="showTip(event, 'fs133', 944)" class="fn">h</span><span class="pn">,</span> <span onmouseout="hideTip(event, 'fs301', 945)" onmouseover="showTip(event, 'fs301', 945)" class="fn">mle</span><span class="pn">)</span> <span class="k">-&gt;</span>

            <span class="c">// 0. Convert x into biomass</span>
            <span class="k">let</span> <span onmouseout="hideTip(event, 'fs302', 946)" onmouseover="showTip(event, 'fs302', 946)" class="fn">preTransform</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs303', 947)" onmouseover="showTip(event, 'fs303', 947)" class="fn">data</span><span class="pn">:</span> <span onmouseout="hideTip(event, 'fs304', 948)" onmouseover="showTip(event, 'fs304', 948)" class="rt">CodedMap</span><span class="pn">&lt;</span><span onmouseout="hideTip(event, 'fs218', 949)" onmouseover="showTip(event, 'fs218', 949)" class="rt">TimeSeries</span><span class="pn">&lt;</span><span onmouseout="hideTip(event, 'fs40', 950)" onmouseover="showTip(event, 'fs40', 950)" class="vt">float</span><span class="pn">&gt;</span><span class="pn">&gt;</span><span class="pn">)</span> <span class="o">=</span>
                <span onmouseout="hideTip(event, 'fs303', 951)" onmouseover="showTip(event, 'fs303', 951)" class="fn">data</span>
                <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs233', 952)" onmouseover="showTip(event, 'fs233', 952)" class="m">Map</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs305', 953)" onmouseover="showTip(event, 'fs305', 953)" class="id">toList</span>
                <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs184', 954)" onmouseover="showTip(event, 'fs184', 954)" class="m">List</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs306', 955)" onmouseover="showTip(event, 'fs306', 955)" class="id">collect</span> <span class="pn">(</span><span class="k">fun</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs307', 956)" onmouseover="showTip(event, 'fs307', 956)" class="fn">k</span><span class="pn">,</span> <span onmouseout="hideTip(event, 'fs308', 957)" onmouseover="showTip(event, 'fs308', 957)" class="fn">v</span><span class="pn">)</span> <span class="k">-&gt;</span>
                    <span class="k">if</span> <span onmouseout="hideTip(event, 'fs307', 958)" onmouseover="showTip(event, 'fs307', 958)" class="fn">k</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs264', 959)" onmouseover="showTip(event, 'fs264', 959)" class="id">Value</span> <span class="o">=</span> <span class="s">&quot;x&quot;</span> <span class="k">then</span>
                        <span class="pn">[</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs307', 960)" onmouseover="showTip(event, 'fs307', 960)" class="fn">k</span><span class="pn">,</span> <span onmouseout="hideTip(event, 'fs308', 961)" onmouseover="showTip(event, 'fs308', 961)" class="fn">v</span><span class="pn">)</span>
                          <span class="pn">(</span><span class="prop">(</span><span onmouseout="hideTip(event, 'fs231', 962)" onmouseover="showTip(event, 'fs231', 962)" class="fn">code</span> <span class="s">&quot;bs&quot;</span><span class="pn">)</span><span class="pn">.</span><span class="id">Value</span><span class="pn">,</span>
                           <span onmouseout="hideTip(event, 'fs308', 963)" onmouseover="showTip(event, 'fs308', 963)" class="fn">v</span> <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs218', 964)" onmouseover="showTip(event, 'fs218', 964)" class="m">TimeSeries</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs309', 965)" onmouseover="showTip(event, 'fs309', 965)" class="id">map</span> <span class="pn">(</span><span class="k">fun</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs20', 966)" onmouseover="showTip(event, 'fs20', 966)" class="fn">x</span><span class="pn">,</span> <span class="id">_</span><span class="pn">)</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs20', 967)" onmouseover="showTip(event, 'fs20', 967)" class="fn">x</span> <span class="o">*</span> <span class="n">1.</span><span class="pn">&lt;</span><span onmouseout="hideTip(event, 'fs52', 968)" onmouseover="showTip(event, 'fs52', 968)" class="rt">mm</span><span class="pn">&gt;</span> <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs1', 969)" onmouseover="showTip(event, 'fs1', 969)" class="m">Allometric</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs90', 970)" onmouseover="showTip(event, 'fs90', 970)" class="m">Proxies</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs61', 971)" onmouseover="showTip(event, 'fs61', 971)" class="id">toBiomassMM</span><span class="pn">)</span><span class="pn">)</span> <span class="pn">]</span>
                    <span class="k">else</span>
                        <span class="pn">[</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs307', 972)" onmouseover="showTip(event, 'fs307', 972)" class="fn">k</span><span class="pn">,</span> <span onmouseout="hideTip(event, 'fs308', 973)" onmouseover="showTip(event, 'fs308', 973)" class="fn">v</span><span class="pn">)</span> <span class="pn">]</span><span class="pn">)</span>
                <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs233', 974)" onmouseover="showTip(event, 'fs233', 974)" class="m">Map</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs234', 975)" onmouseover="showTip(event, 'fs234', 975)" class="id">ofList</span>

            <span class="c">// 1. Arrange the subject and settings (same as in model-fitting)</span>
            <span class="k">let</span> <span onmouseout="hideTip(event, 'fs246', 976)" onmouseover="showTip(event, 'fs246', 976)" class="fn">shrub</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs245', 977)" onmouseover="showTip(event, 'fs245', 977)" class="fn">s</span> <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs195', 978)" onmouseover="showTip(event, 'fs195', 978)" class="m">PlantIndividual</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs247', 979)" onmouseover="showTip(event, 'fs247', 979)" class="id">toCumulativeGrowth</span>
            <span class="k">let</span> <span onmouseout="hideTip(event, 'fs248', 980)" onmouseover="showTip(event, 'fs248', 980)" class="fn">common</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs246', 981)" onmouseover="showTip(event, 'fs246', 981)" class="fn">shrub</span> <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs195', 982)" onmouseover="showTip(event, 'fs195', 982)" class="m">PlantIndividual</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs249', 983)" onmouseover="showTip(event, 'fs249', 983)" class="id">keepCommonYears</span>
            <span class="k">let</span> <span onmouseout="hideTip(event, 'fs204', 984)" onmouseover="showTip(event, 'fs204', 984)" class="fn">startDate</span> <span class="o">=</span> <span class="prop">(</span><span onmouseout="hideTip(event, 'fs248', 985)" onmouseover="showTip(event, 'fs248', 985)" class="fn">common</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs230', 986)" onmouseover="showTip(event, 'fs230', 986)" class="id">Environment</span><span class="pn">.</span><span class="pn">[</span><span class="prop">(</span><span onmouseout="hideTip(event, 'fs231', 987)" onmouseover="showTip(event, 'fs231', 987)" class="fn">code</span> <span class="s">&quot;N&quot;</span><span class="pn">)</span><span class="pn">.</span><span class="id">Value</span><span class="pn">]</span><span class="pn">)</span><span class="pn">.</span><span class="id">StartDate</span> <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs53', 988)" onmouseover="showTip(event, 'fs53', 988)" class="fn">snd</span>
            <span class="k">let</span> <span onmouseout="hideTip(event, 'fs250', 989)" onmouseover="showTip(event, 'fs250', 989)" class="fn">startConditions</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs203', 990)" onmouseover="showTip(event, 'fs203', 990)" class="fn">startValues</span> <span onmouseout="hideTip(event, 'fs204', 991)" onmouseover="showTip(event, 'fs204', 991)" class="fn">startDate</span> <span onmouseout="hideTip(event, 'fs246', 992)" onmouseover="showTip(event, 'fs246', 992)" class="fn">shrub</span>

            <span class="k">let</span> <span onmouseout="hideTip(event, 'fs251', 993)" onmouseover="showTip(event, 'fs251', 993)" class="fn">e</span> <span class="o">=</span>
                <span onmouseout="hideTip(event, 'fs145', 994)" onmouseover="showTip(event, 'fs145', 994)" class="id">engine</span>
                <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs2', 995)" onmouseover="showTip(event, 'fs2', 995)" class="m">Bristlecone</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs152', 996)" onmouseover="showTip(event, 'fs152', 996)" class="id">withConditioning</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs2', 997)" onmouseover="showTip(event, 'fs2', 997)" class="m">Bristlecone</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs153', 998)" onmouseover="showTip(event, 'fs153', 998)" class="m">Conditioning</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs252', 999)" onmouseover="showTip(event, 'fs252', 999)" class="id">Custom</span> <span onmouseout="hideTip(event, 'fs250', 1000)" onmouseover="showTip(event, 'fs250', 1000)" class="fn">startConditions</span><span class="pn">)</span>

            <span class="k">let</span> <span onmouseout="hideTip(event, 'fs310', 1001)" onmouseover="showTip(event, 'fs310', 1001)" class="fn">result</span> <span class="o">=</span>
                <span onmouseout="hideTip(event, 'fs2', 1002)" onmouseover="showTip(event, 'fs2', 1002)" class="m">Bristlecone</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs311', 1003)" onmouseover="showTip(event, 'fs311', 1003)" class="id">oneStepAhead</span> <span onmouseout="hideTip(event, 'fs251', 1004)" onmouseover="showTip(event, 'fs251', 1004)" class="fn">e</span> <span onmouseout="hideTip(event, 'fs133', 1005)" onmouseover="showTip(event, 'fs133', 1005)" class="fn">h</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs186', 1006)" onmouseover="showTip(event, 'fs186', 1006)" class="id">Model</span> <span onmouseout="hideTip(event, 'fs302', 1007)" onmouseover="showTip(event, 'fs302', 1007)" class="fn">preTransform</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs2', 1008)" onmouseover="showTip(event, 'fs2', 1008)" class="m">Bristlecone</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs257', 1009)" onmouseover="showTip(event, 'fs257', 1009)" class="id">fromDendro</span> <span onmouseout="hideTip(event, 'fs248', 1010)" onmouseover="showTip(event, 'fs248', 1010)" class="fn">common</span><span class="pn">)</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs301', 1011)" onmouseover="showTip(event, 'fs301', 1011)" class="fn">mle</span> <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs53', 1012)" onmouseover="showTip(event, 'fs53', 1012)" class="fn">snd</span> <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs53', 1013)" onmouseover="showTip(event, 'fs53', 1013)" class="fn">snd</span><span class="pn">)</span>

            <span class="c">// Save each n-step ahead result to a csv file</span>
            <span onmouseout="hideTip(event, 'fs2', 1014)" onmouseover="showTip(event, 'fs2', 1014)" class="m">Bristlecone</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs260', 1015)" onmouseover="showTip(event, 'fs260', 1015)" class="id">Data</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs312', 1016)" onmouseover="showTip(event, 'fs312', 1016)" class="m">NStepAhead</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs313', 1017)" onmouseover="showTip(event, 'fs313', 1017)" class="id">save</span>
                <span onmouseout="hideTip(event, 'fs253', 1018)" onmouseover="showTip(event, 'fs253', 1018)" class="m">Config</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs236', 1019)" onmouseover="showTip(event, 'fs236', 1019)" class="id">resultsDirectory</span>
                <span onmouseout="hideTip(event, 'fs245', 1020)" onmouseover="showTip(event, 'fs245', 1020)" class="fn">s</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs263', 1021)" onmouseover="showTip(event, 'fs263', 1021)" class="prop">Identifier</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs264', 1022)" onmouseover="showTip(event, 'fs264', 1022)" class="id">Value</span>
                <span onmouseout="hideTip(event, 'fs133', 1023)" onmouseover="showTip(event, 'fs133', 1023)" class="fn">h</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs134', 1024)" onmouseover="showTip(event, 'fs134', 1024)" class="id">ReferenceCode</span>
                <span class="pn">(</span><span onmouseout="hideTip(event, 'fs301', 1025)" onmouseover="showTip(event, 'fs301', 1025)" class="fn">mle</span> <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs232', 1026)" onmouseover="showTip(event, 'fs232', 1026)" class="fn">fst</span><span class="pn">)</span>
                <span class="n">1</span>
                <span onmouseout="hideTip(event, 'fs310', 1027)" onmouseover="showTip(event, 'fs310', 1027)" class="fn">result</span>

            <span onmouseout="hideTip(event, 'fs245', 1028)" onmouseover="showTip(event, 'fs245', 1028)" class="fn">s</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs263', 1029)" onmouseover="showTip(event, 'fs263', 1029)" class="prop">Identifier</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs264', 1030)" onmouseover="showTip(event, 'fs264', 1030)" class="id">Value</span><span class="pn">,</span> <span onmouseout="hideTip(event, 'fs133', 1031)" onmouseover="showTip(event, 'fs133', 1031)" class="fn">h</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs134', 1032)" onmouseover="showTip(event, 'fs134', 1032)" class="id">ReferenceCode</span><span class="pn">,</span> <span onmouseout="hideTip(event, 'fs310', 1033)" onmouseover="showTip(event, 'fs310', 1033)" class="fn">result</span><span class="pn">)</span>

    <span onmouseout="hideTip(event, 'fs2', 1034)" onmouseover="showTip(event, 'fs2', 1034)" class="m">Bristlecone</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs260', 1035)" onmouseover="showTip(event, 'fs260', 1035)" class="id">Data</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs312', 1036)" onmouseover="showTip(event, 'fs312', 1036)" class="m">NStepAhead</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs314', 1037)" onmouseover="showTip(event, 'fs314', 1037)" class="id">saveAllRMSE</span> <span onmouseout="hideTip(event, 'fs253', 1038)" onmouseover="showTip(event, 'fs253', 1038)" class="m">Config</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs236', 1039)" onmouseover="showTip(event, 'fs236', 1039)" class="id">resultsDirectory</span> <span onmouseout="hideTip(event, 'fs300', 1040)" onmouseover="showTip(event, 'fs300', 1040)" class="fn">oneStepPredictions</span>

    <span class="pn">(</span><span class="pn">)</span>
</code></pre>

        <div class="fsdocs-tip" id="fs1">module Allometric

from Shrub-resource</div>
<div class="fsdocs-tip" id="fs2">Multiple items<br />module Bristlecone

from Bristlecone<br /><br />--------------------<br />namespace Bristlecone</div>
<div class="fsdocs-tip" id="fs3">val pi: float</div>
<div class="fsdocs-tip" id="fs4">namespace System</div>
<div class="fsdocs-tip" id="fs5">type Math =
  static member Abs: value: decimal -&gt; decimal + 7 overloads
  static member Acos: d: float -&gt; float
  static member Acosh: d: float -&gt; float
  static member Asin: d: float -&gt; float
  static member Asinh: d: float -&gt; float
  static member Atan: d: float -&gt; float
  static member Atan2: y: float * x: float -&gt; float
  static member Atanh: d: float -&gt; float
  static member BigMul: a: int * b: int -&gt; int64 + 2 overloads
  static member BitDecrement: x: float -&gt; float
  ...<br /><em>&lt;summary&gt;Provides constants and static methods for trigonometric, logarithmic, and other common mathematical functions.&lt;/summary&gt;</em></div>
<div class="fsdocs-tip" id="fs6">field System.Math.PI: float = 3.14159265359<br /><em>&lt;summary&gt;Represents the ratio of the circumference of a circle to its diameter, specified by the constant, π.&lt;/summary&gt;</em></div>
<div class="fsdocs-tip" id="fs7">val k5: float</div>
<div class="fsdocs-tip" id="fs8">val k6: float</div>
<div class="fsdocs-tip" id="fs9">val a: float</div>
<div class="fsdocs-tip" id="fs10">val p: float</div>
<div class="fsdocs-tip" id="fs11">val lmin: float</div>
<div class="fsdocs-tip" id="fs12">val rtip: float</div>
<div class="fsdocs-tip" id="fs13">val b: float</div>
<div class="fsdocs-tip" id="fs14">val salixWoodDensity: float</div>
<div class="fsdocs-tip" id="fs15">val numberOfStems: float</div>
<div class="fsdocs-tip" id="fs16">val nthroot: n: float -&gt; A: float -&gt; float</div>
<div class="fsdocs-tip" id="fs17">val n: float</div>
<div class="fsdocs-tip" id="fs18">val A: float</div>
<div class="fsdocs-tip" id="fs19">val f: x: float -&gt; float</div>
<div class="fsdocs-tip" id="fs20">val x: float</div>
<div class="fsdocs-tip" id="fs21">val m: float</div>
<div class="fsdocs-tip" id="fs22">val x&#39;: float</div>
<div class="fsdocs-tip" id="fs23">val abs: value: &#39;T -&gt; &#39;T (requires member Abs)</div>
<div class="fsdocs-tip" id="fs24">val t: float</div>
<div class="fsdocs-tip" id="fs25">Multiple items<br />val double: value: &#39;T -&gt; double (requires member op_Explicit)<br /><br />--------------------<br />type double = System.Double<br /><br />--------------------<br />type double&lt;&#39;Measure&gt; = float&lt;&#39;Measure&gt;</div>
<div class="fsdocs-tip" id="fs26">val basalRadius: k5: float -&gt; k6: float -&gt; stemLength: float -&gt; float<br /><em>&#160;Gives the basal radius in centimetres of a stem/branch given its length in centimetres. Function from Niklas and Spatz (2004).<br />&#160;The basal radius is always positive.</em></div>
<div class="fsdocs-tip" id="fs27">val stemLength: float</div>
<div class="fsdocs-tip" id="fs28">val max: e1: &#39;T -&gt; e2: &#39;T -&gt; &#39;T (requires comparison)</div>
<div class="fsdocs-tip" id="fs29">val stemLength: k5: float -&gt; k6: float -&gt; radius: float -&gt; float<br /><em>&#160;Inverse equation of basalRadius.</em></div>
<div class="fsdocs-tip" id="fs30">val radius: float</div>
<div class="fsdocs-tip" id="fs31">val shrubVolume: b: float -&gt; a: float -&gt; rtip: float -&gt; p: float -&gt; lmin: float -&gt; k5: float -&gt; k6: float -&gt; n: float -&gt; h: float -&gt; float * float<br /><em>&#160;Total shrub volume given height and number of stems</em></div>
<div class="fsdocs-tip" id="fs32">val h: float</div>
<div class="fsdocs-tip" id="fs33">val radius: (float -&gt; float)</div>
<div class="fsdocs-tip" id="fs34">module NiklasAndSpatz_Allometry

from Shrub-resource.Allometric</div>
<div class="fsdocs-tip" id="fs35">val mainStemVolume: float</div>
<div class="fsdocs-tip" id="fs36">val r: float</div>
<div class="fsdocs-tip" id="fs37">val mutable volume: float</div>
<div class="fsdocs-tip" id="fs38">val mutable k: float</div>
<div class="fsdocs-tip" id="fs39">val volToAdd: float</div>
<div class="fsdocs-tip" id="fs40">Multiple items<br />val float: value: &#39;T -&gt; float (requires member op_Explicit)<br /><br />--------------------<br />type float = System.Double<br /><br />--------------------<br />type float&lt;&#39;Measure&gt; =
  float</div>
<div class="fsdocs-tip" id="fs41">module G&#246;tmark2016_ShrubModel

from Shrub-resource.Allometric</div>
<div class="fsdocs-tip" id="fs42">namespace Bristlecone.Dendro</div>
<div class="fsdocs-tip" id="fs43">val private removeUnit: x: float&lt;&#39;u&gt; -&gt; float</div>
<div class="fsdocs-tip" id="fs44">val x: float&lt;&#39;u&gt;</div>
<div class="fsdocs-tip" id="fs45">val mass: woodDensity: float -&gt; volume: float -&gt; float</div>
<div class="fsdocs-tip" id="fs46">val woodDensity: float</div>
<div class="fsdocs-tip" id="fs47">val volume: float</div>
<div class="fsdocs-tip" id="fs48">val massToVolume: woodDensity: float -&gt; mass: float -&gt; float</div>
<div class="fsdocs-tip" id="fs49">val mass: float</div>
<div class="fsdocs-tip" id="fs50">val shrubBiomass: b: float -&gt; a: float -&gt; rtip: float -&gt; p: float -&gt; lmin: float -&gt; k5: float -&gt; k6: float -&gt; n: float -&gt; woodDensity: float -&gt; radius: float&lt;mm&gt; -&gt; float</div>
<div class="fsdocs-tip" id="fs51">val radius: float&lt;mm&gt;</div>
<div class="fsdocs-tip" id="fs52">[&lt;Measure&gt;]
type mm</div>
<div class="fsdocs-tip" id="fs53">val snd: tuple: (&#39;T1 * &#39;T2) -&gt; &#39;T2</div>
<div class="fsdocs-tip" id="fs54">val shrubRadius: b: float -&gt; a: float -&gt; rtip: float -&gt; p: float -&gt; lmin: float -&gt; k5: float -&gt; k6: float -&gt; n: float -&gt; woodDensity: float -&gt; mass: float -&gt; float</div>
<div class="fsdocs-tip" id="fs55">val findRadius: volume: float -&gt; float</div>
<div class="fsdocs-tip" id="fs56">val v: x: float -&gt; float</div>
<div class="fsdocs-tip" id="fs57">namespace Bristlecone.Statistics</div>
<div class="fsdocs-tip" id="fs58">module RootFinding

from Bristlecone.Statistics<br /><em>&lt;summary&gt;
 Statistics for determining the root of non-linear equations.
&lt;/summary&gt;</em></div>
<div class="fsdocs-tip" id="fs59">val bisect: n: int -&gt; N: int -&gt; f: (float -&gt; float) -&gt; a: float -&gt; b: float -&gt; t: float -&gt; float<br /><em>&lt;summary&gt;
 Bisect method for finding root of non-linear equations.
&lt;/summary&gt;</em></div>
<div class="fsdocs-tip" id="fs60">val shrubHeight: k5: float -&gt; k6: float -&gt; radius: float -&gt; float</div>
<div class="fsdocs-tip" id="fs61">val toBiomassMM: radius: float&lt;mm&gt; -&gt; float<br /><em>&#160;Radius in millimetres</em></div>
<div class="fsdocs-tip" id="fs62">module Allometrics

from Shrub-resource.Allometric</div>
<div class="fsdocs-tip" id="fs63">module Constants

from Shrub-resource.Allometric</div>
<div class="fsdocs-tip" id="fs64">val toRadiusMM: biomassGrams: float -&gt; float<br /><em>&#160;Biomass in grams.</em></div>
<div class="fsdocs-tip" id="fs65">val biomassGrams: float</div>
<div class="fsdocs-tip" id="fs66">[&lt;Struct&gt;]
type Double =
  member CompareTo: value: float -&gt; int + 1 overload
  member Equals: obj: float -&gt; bool + 1 overload
  member GetHashCode: unit -&gt; int
  member GetTypeCode: unit -&gt; TypeCode
  member ToString: unit -&gt; string + 3 overloads
  member TryFormat: destination: Span&lt;char&gt; * charsWritten: byref&lt;int&gt; * ?format: ReadOnlySpan&lt;char&gt; * ?provider: IFormatProvider -&gt; bool
  static member (&lt;) : left: float * right: float -&gt; bool
  static member (&lt;=) : left: float * right: float -&gt; bool
  static member (&lt;&gt;) : left: float * right: float -&gt; bool
  static member (=) : left: float * right: float -&gt; bool
  ...<br /><em>&lt;summary&gt;Represents a double-precision floating-point number.&lt;/summary&gt;</em></div>
<div class="fsdocs-tip" id="fs67">System.Double.IsNaN(d: float) : bool</div>
<div class="fsdocs-tip" id="fs68">System.Double.IsInfinity(d: float) : bool</div>
<div class="fsdocs-tip" id="fs69">System.Double.IsNegativeInfinity(d: float) : bool</div>
<div class="fsdocs-tip" id="fs70">val nan: float</div>
<div class="fsdocs-tip" id="fs71">val radiusCm: float</div>
<div class="fsdocs-tip" id="fs72">namespace Bristlecone</div>
<div class="fsdocs-tip" id="fs73">module Language

from Bristlecone<br /><em>&lt;summary&gt;
 An F# Domain Specific Language (DSL) for scripting with
 Bristlecone.
&lt;/summary&gt;</em></div>
<div class="fsdocs-tip" id="fs74">module Time

from Bristlecone</div>
<div class="fsdocs-tip" id="fs75">union case ModelExpression.Constant: float -&gt; ModelExpression</div>
<div class="fsdocs-tip" id="fs76">union case ModelExpression.Environment: string -&gt; ModelExpression</div>
<div class="fsdocs-tip" id="fs77">val geom: (ModelExpression -&gt; ModelExpression)</div>
<div class="fsdocs-tip" id="fs78">val nLimitation: (ModelExpression -&gt; ModelExpression)</div>
<div class="fsdocs-tip" id="fs79">Multiple items<br />union case ModelExpression.Parameter: string -&gt; ModelExpression<br /><br />--------------------<br />module Parameter

from Bristlecone</div>
<div class="fsdocs-tip" id="fs80">union case ModelExpression.This: ModelExpression</div>
<div class="fsdocs-tip" id="fs81">val feedback: (ModelExpression -&gt; ModelExpression)</div>
<div class="fsdocs-tip" id="fs82">val limitationName: string</div>
<div class="fsdocs-tip" id="fs83">val stemRadius: lastRadius: float -&gt; lastEnv: CodedMap&lt;float&gt; -&gt; env: CodedMap&lt;float&gt; -&gt; float</div>
<div class="fsdocs-tip" id="fs84">val lastRadius: float</div>
<div class="fsdocs-tip" id="fs85">val lastEnv: CodedMap&lt;float&gt;</div>
<div class="fsdocs-tip" id="fs86">val env: CodedMap&lt;float&gt;</div>
<div class="fsdocs-tip" id="fs87">val oldCumulativeMass: float</div>
<div class="fsdocs-tip" id="fs88">val lookup: name: string -&gt; map: CodedMap&lt;float&gt; -&gt; float</div>
<div class="fsdocs-tip" id="fs89">val newCumulativeMass: float</div>
<div class="fsdocs-tip" id="fs90">module Proxies

from Shrub-resource.Allometric</div>
<div class="fsdocs-tip" id="fs91">val geometricConstraint: (ModelExpression -&gt; ModelExpression)</div>
<div class="fsdocs-tip" id="fs92">val plantSoilFeedback: (ModelExpression -&gt; ModelExpression)</div>
<div class="fsdocs-tip" id="fs93">val nLimitMode: string</div>
<div class="fsdocs-tip" id="fs94">module Model

from Bristlecone.Language<br /><em>&lt;summary&gt;
 Terms for scaffolding a model system for use with Bristlecone.
&lt;/summary&gt;</em></div>
<div class="fsdocs-tip" id="fs95">val empty: ModelBuilder.ModelBuilder</div>
<div class="fsdocs-tip" id="fs96">val addEquation: name: string -&gt; eq: ModelExpression -&gt; builder: ModelBuilder.ModelBuilder -&gt; ModelBuilder.ModelBuilder</div>
<div class="fsdocs-tip" id="fs97">val includeMeasure: name: string -&gt; measure: ModelSystem.MeasureEquation -&gt; builder: ModelBuilder.ModelBuilder -&gt; ModelBuilder.ModelBuilder</div>
<div class="fsdocs-tip" id="fs98">val estimateParameter: name: string -&gt; constraintMode: Parameter.Constraint -&gt; lower: float -&gt; upper: float -&gt; builder: ModelBuilder.ModelBuilder -&gt; ModelBuilder.ModelBuilder</div>
<div class="fsdocs-tip" id="fs99">val notNegative: Parameter.Constraint</div>
<div class="fsdocs-tip" id="fs100">val useLikelihoodFunction: likelihoodFn: ModelSystem.LikelihoodFn -&gt; builder: ModelBuilder.ModelBuilder -&gt; ModelBuilder.ModelBuilder</div>
<div class="fsdocs-tip" id="fs101">namespace Bristlecone.ModelLibrary</div>
<div class="fsdocs-tip" id="fs102">module Likelihood

from Bristlecone.ModelLibrary<br /><em>&lt;summary&gt;Likelihood functions to represent a variety of distributions and data types.&lt;/summary&gt;<br />&lt;namespacedoc&gt;&lt;summary&gt;Pre-built model parts for use in Bristlecone&lt;/summary&gt;&lt;/namespacedoc&gt;</em></div>
<div class="fsdocs-tip" id="fs103">val bivariateGaussian: key1: string -&gt; key2: string -&gt; paramAccessor: ModelSystem.ParameterValueAccessor -&gt; data: CodedMap&lt;ModelSystem.PredictedSeries&gt; -&gt; float<br /><em>&lt;summary&gt;
 Log likelihood function for dual simultaneous system, assuming Gaussian error for both x and y.
 Requires parameters &#39;σ[x]&#39;, &#39;σ[y]&#39; and &#39;ρ&#39; to be included in any `ModelSystem` that uses it.
 &lt;/summary&gt;</em></div>
<div class="fsdocs-tip" id="fs104">val noConstraints: Parameter.Constraint</div>
<div class="fsdocs-tip" id="fs105">val modelComponent: name: &#39;a -&gt; list: &#39;b -&gt; &#39;a * &#39;b</div>
<div class="fsdocs-tip" id="fs106">val subComponent: name: &#39;a -&gt; expression: (&#39;b -&gt; ModelExpression) -&gt; &#39;a * PluggableComponent&lt;&#39;b&gt;<br /><em>&lt;summary&gt;
 Creates a nested component that can be inserted into a base model.
&lt;/summary&gt;</em></div>
<div class="fsdocs-tip" id="fs107">val mass: ModelExpression</div>
<div class="fsdocs-tip" id="fs108">val estimateParameter: name: string -&gt; constraintMode: Parameter.Constraint -&gt; lower: float -&gt; upper: float -&gt; &#39;a * PluggableComponent&lt;&#39;b&gt; -&gt; &#39;a * PluggableComponent&lt;&#39;b&gt;</div>
<div class="fsdocs-tip" id="fs109">val biomassLoss: biomass: ModelExpression -&gt; ModelExpression</div>
<div class="fsdocs-tip" id="fs110">val biomass: ModelExpression</div>
<div class="fsdocs-tip" id="fs111">val saturating: minimumNutrient: ModelExpression -&gt; nutrient: ModelExpression -&gt; ModelExpression</div>
<div class="fsdocs-tip" id="fs112">val minimumNutrient: ModelExpression</div>
<div class="fsdocs-tip" id="fs113">val nutrient: ModelExpression</div>
<div class="fsdocs-tip" id="fs114">val hollingModel: n: ModelExpression -&gt; ModelExpression</div>
<div class="fsdocs-tip" id="fs115">val n: ModelExpression</div>
<div class="fsdocs-tip" id="fs116">union case ModelExpression.Conditional: ((ModelExpression -&gt; float) -&gt; ModelExpression) -&gt; ModelExpression</div>
<div class="fsdocs-tip" id="fs117">val compute: (ModelExpression -&gt; float)</div>
<div class="fsdocs-tip" id="fs118">union case ModelExpression.Invalid: ModelExpression</div>
<div class="fsdocs-tip" id="fs119">val linear: min: ModelExpression -&gt; resource: ModelExpression -&gt; ModelExpression</div>
<div class="fsdocs-tip" id="fs120">val min: ModelExpression</div>
<div class="fsdocs-tip" id="fs121">val resource: ModelExpression</div>
<div class="fsdocs-tip" id="fs122">val hypotheses: Hypotheses.Hypothesis list</div>
<div class="fsdocs-tip" id="fs123">module Hypotheses

from Bristlecone.Language<br /><em>&lt;summary&gt;Types to represent a hypothesis, given that a hypothesis
 is a model system that contains some alternate formulations of certain
 components.&lt;/summary&gt;</em></div>
<div class="fsdocs-tip" id="fs124">val createFromComponent: string * (string * PluggableComponent&lt;&#39;a&gt;) list -&gt; builder: ((&#39;a -&gt; ModelExpression) -&gt; &#39;b) -&gt; Writer.Writer&lt;&#39;b,(Hypotheses.ComponentName * CodedMap&lt;Parameter.Parameter&gt;)&gt; list<br /><em>&lt;summary&gt;Implement a component where a model system requires one. A component is a part of a model that may be varied, for example between competing hypotheses.&lt;/summary&gt;<br />&lt;param name=&quot;comp&quot;&gt;A tuple representing a component scaffolded with the `modelComponent` and `subComponent` functions.&lt;/param&gt;<br />&lt;param name=&quot;builder&quot;&gt;A builder started with `createFromComponent`&lt;/param&gt;<br />&lt;typeparam name=&quot;&#39;a&quot;&gt;&lt;/typeparam&gt;<br />&lt;typeparam name=&quot;&#39;b&quot;&gt;&lt;/typeparam&gt;<br />&lt;returns&gt;A builder to add further components or compile with `Hypothesis.compile`&lt;/returns&gt;</em></div>
<div class="fsdocs-tip" id="fs125">val useAnother: string * (string * PluggableComponent&lt;&#39;a&gt;) list -&gt; builder: Writer.Writer&lt;((&#39;a -&gt; ModelExpression) -&gt; &#39;b),(Hypotheses.ComponentName * CodedMap&lt;Parameter.Parameter&gt;)&gt; list -&gt; Writer.Writer&lt;&#39;b,(Hypotheses.ComponentName * CodedMap&lt;Parameter.Parameter&gt;)&gt; list<br /><em>&lt;summary&gt;Add a second or further component to a model system where one is still required.&lt;/summary&gt;<br />&lt;param name=&quot;comp&quot;&gt;A tuple representing a component scaffolded with the `modelComponent` and `subComponent` functions.&lt;/param&gt;<br />&lt;param name=&quot;builder&quot;&gt;A builder started with `createFromComponent`&lt;/param&gt;<br />&lt;typeparam name=&quot;&#39;a&quot;&gt;&lt;/typeparam&gt;<br />&lt;typeparam name=&quot;&#39;b&quot;&gt;&lt;/typeparam&gt;<br />&lt;returns&gt;A builder to add further components or compile with `Hypothesis.compile`&lt;/returns&gt;</em></div>
<div class="fsdocs-tip" id="fs126">val useAnotherWithName: string * (string * PluggableComponent&lt;&#39;a&gt;) list -&gt; builder: Writer.Writer&lt;(string * (&#39;a -&gt; ModelExpression) -&gt; &#39;b),(Hypotheses.ComponentName * CodedMap&lt;Parameter.Parameter&gt;)&gt; list -&gt; Writer.Writer&lt;&#39;b,(Hypotheses.ComponentName * CodedMap&lt;Parameter.Parameter&gt;)&gt; list<br /><em>&lt;summary&gt;Add a second or further component to a model system where one is still required.&lt;/summary&gt;<br />&lt;param name=&quot;comp&quot;&gt;A tuple representing a component scaffolded with the `modelComponent` and `subComponent` functions.&lt;/param&gt;<br />&lt;param name=&quot;builder&quot;&gt;A builder started with `createFromComponent`&lt;/param&gt;<br />&lt;typeparam name=&quot;&#39;a&quot;&gt;&lt;/typeparam&gt;<br />&lt;typeparam name=&quot;&#39;b&quot;&gt;&lt;/typeparam&gt;<br />&lt;returns&gt;A builder to add further components or compile with `Hypothesis.compile`&lt;/returns&gt;</em></div>
<div class="fsdocs-tip" id="fs127">val compile: builder: Writer.Writer&lt;ModelBuilder.ModelBuilder,(Hypotheses.ComponentName * CodedMap&lt;Parameter.Parameter&gt;)&gt; list -&gt; Hypotheses.Hypothesis list<br /><em>&lt;summary&gt;Compiles a suite of competing model hypotheses based on the given components.
 The compilation includes only the required parameters in each model hypothesis,
 and combines all labels into a single model identifier.&lt;/summary&gt;<br />&lt;param name=&quot;builder&quot;&gt;A builder started with `createFromComponent`&lt;/param&gt;<br />&lt;returns&gt;A list of compiled hypotheses for this model system and specified components.&lt;/returns&gt;</em></div>
<div class="fsdocs-tip" id="fs128">val printfn: format: Printf.TextWriterFormat&lt;&#39;T&gt; -&gt; &#39;T</div>
<div class="fsdocs-tip" id="fs129">property List.Length: int with get</div>
<div class="fsdocs-tip" id="fs130">Multiple items<br />module Seq

from Bristlecone<br /><br />--------------------<br />module Seq

from Microsoft.FSharp.Collections</div>
<div class="fsdocs-tip" id="fs131">val iteri: action: (int -&gt; &#39;T -&gt; unit) -&gt; source: &#39;T seq -&gt; unit</div>
<div class="fsdocs-tip" id="fs132">val i: int</div>
<div class="fsdocs-tip" id="fs133">val h: Hypotheses.Hypothesis</div>
<div class="fsdocs-tip" id="fs134">property Hypotheses.Hypothesis.ReferenceCode: string with get<br /><em>&lt;summary&gt;Compiles a reference code that may be used to identify (although not necessarily uniquely) this hypothesis&lt;/summary&gt;<br />&lt;returns&gt;A string in the format XX_XXX_YY_YYY... where XX_XXX is a singe component with XX the component and XXX the implementation.&lt;/returns&gt;</em></div>
<div class="fsdocs-tip" id="fs135">property Hypotheses.Hypothesis.Components: Hypotheses.ComponentName list with get</div>
<div class="fsdocs-tip" id="fs136">val map: mapping: (&#39;T -&gt; &#39;U) -&gt; source: &#39;T seq -&gt; &#39;U seq</div>
<div class="fsdocs-tip" id="fs137">val x: Hypotheses.ComponentName</div>
<div class="fsdocs-tip" id="fs138">Hypotheses.ComponentName.Implementation: string</div>
<div class="fsdocs-tip" id="fs139">module String

from Microsoft.FSharp.Core</div>
<div class="fsdocs-tip" id="fs140">val concat: sep: string -&gt; strings: string seq -&gt; string</div>
<div class="fsdocs-tip" id="fs141">val output: (Logging.LogEvent -&gt; unit)</div>
<div class="fsdocs-tip" id="fs142">namespace Bristlecone.Logging</div>
<div class="fsdocs-tip" id="fs143">module Console

from Bristlecone.Logging<br /><em>&lt;summary&gt;
 Simple logger to console that prints line-by-line progress and events.
&lt;/summary&gt;</em></div>
<div class="fsdocs-tip" id="fs144">val logger: nIteration: int -&gt; (Logging.LogEvent -&gt; unit)<br /><em>&lt;summary&gt;
 A simple console logger.
 `nIteration` specifies the number of iterations after which to log
 the current likelihood and parameter values.
&lt;/summary&gt;</em></div>
<div class="fsdocs-tip" id="fs145">val engine: EstimationEngine.EstimationEngine&lt;float,float&gt;</div>
<div class="fsdocs-tip" id="fs146">val mkContinuous: EstimationEngine.EstimationEngine&lt;float,float&gt;<br /><em>&lt;summary&gt;A basic estimation engine for ordinary differential equations, using a Nelder-Mead optimiser.&lt;/summary&gt;</em></div>
<div class="fsdocs-tip" id="fs147">val withContinuousTime: t: EstimationEngine.Integrate&lt;&#39;a,&#39;b&gt; -&gt; engine: EstimationEngine.EstimationEngine&lt;&#39;a,&#39;b&gt; -&gt; EstimationEngine.EstimationEngine&lt;&#39;a,&#39;b&gt;<br /><em>&lt;summary&gt;
 Use a custom integration method
&lt;/summary&gt;</em></div>
<div class="fsdocs-tip" id="fs148">namespace Bristlecone.Integration</div>
<div class="fsdocs-tip" id="fs149">module MathNet

from Bristlecone.Integration</div>
<div class="fsdocs-tip" id="fs150">val integrate: log: (Logging.LogEvent -&gt; unit) -&gt; tInitial: float -&gt; tEnd: float -&gt; tStep: float -&gt; initialConditions: Map&lt;&#39;a,float&gt; -&gt; externalEnvironment: Map&lt;&#39;a,TimeIndex.TimeIndex&lt;float&gt;&gt; -&gt; modelMap: Map&lt;&#39;a,(float -&gt; float -&gt; Map&lt;&#39;a,float&gt; -&gt; float)&gt; -&gt; Map&lt;&#39;a,float array&gt; (requires comparison)</div>
<div class="fsdocs-tip" id="fs151">val withOutput: out: EstimationEngine.WriteOut -&gt; engine: EstimationEngine.EstimationEngine&lt;&#39;a,&#39;b&gt; -&gt; EstimationEngine.EstimationEngine&lt;&#39;a,&#39;b&gt;<br /><em>&lt;summary&gt;Substitute a specific logger into&lt;/summary&gt;<br />&lt;param name=&quot;out&quot;&gt;&lt;/param&gt;<br />&lt;param name=&quot;engine&quot;&gt;&lt;/param&gt;<br />&lt;typeparam name=&quot;&#39;a&quot;&gt;&lt;/typeparam&gt;<br />&lt;typeparam name=&quot;&#39;b&quot;&gt;&lt;/typeparam&gt;<br />&lt;returns&gt;&lt;/returns&gt;</em></div>
<div class="fsdocs-tip" id="fs152">val withConditioning: c: Conditioning.Conditioning&lt;&#39;a&gt; -&gt; engine: EstimationEngine.EstimationEngine&lt;&#39;a,&#39;b&gt; -&gt; EstimationEngine.EstimationEngine&lt;&#39;a,&#39;b&gt;<br /><em>&lt;summary&gt;
 Choose how the start point is chosen when solving the model system
&lt;/summary&gt;</em></div>
<div class="fsdocs-tip" id="fs153">module Conditioning

from Bristlecone</div>
<div class="fsdocs-tip" id="fs154">union case Conditioning.Conditioning.RepeatFirstDataPoint: Conditioning.Conditioning&lt;&#39;a&gt;</div>
<div class="fsdocs-tip" id="fs155">val withCustomOptimisation: optim: EstimationEngine.Optimiser&lt;&#39;a&gt; -&gt; engine: EstimationEngine.EstimationEngine&lt;&#39;a,&#39;b&gt; -&gt; EstimationEngine.EstimationEngine&lt;&#39;a,&#39;b&gt;</div>
<div class="fsdocs-tip" id="fs156">namespace Bristlecone.Optimisation</div>
<div class="fsdocs-tip" id="fs157">module MonteCarlo

from Bristlecone.Optimisation<br /><em>&lt;summary&gt;
 A module containing Monte Carlo Markov Chain (MCMC) methods for optimisation.
 An introduction to MCMC approaches is provided by
 [Reali, Priami, and Marchetti (2017)](https://doi.org/10.3389/fams.2017.00006)
&lt;/summary&gt;</em></div>
<div class="fsdocs-tip" id="fs158">module SimulatedAnnealing

from Bristlecone.Optimisation.MonteCarlo<br /><em>&lt;summary&gt;
 A meta-heuristic that approximates a global optimium by
 simulating slow cooling as a slow decrease in the probability
 of temporarily accepting worse solutions.
&lt;/summary&gt;</em></div>
<div class="fsdocs-tip" id="fs159">val fastSimulatedAnnealing: scale: float -&gt; tDependentProposal: bool -&gt; settings: Optimisation.MonteCarlo.SimulatedAnnealing.AnnealSettings&lt;float&gt; -&gt; EstimationEngine.Optimiser&lt;float&gt;<br /><em>&lt;summary&gt;
 Candidate distribution: Cauchy univariate []
 Probability: Bottzmann Machine
&lt;/summary&gt;</em></div>
<div class="fsdocs-tip" id="fs160">type AnnealSettings&lt;&#39;a&gt; =
  {
    HeatStepLength: EndCondition&lt;&#39;a&gt;
    HeatRamp: (float -&gt; float)
    TemperatureCeiling: float option
    BoilingAcceptanceRate: float
    InitialTemperature: float
    PreTuneLength: int
    TuneLength: int
    TuneN: int
    AnnealStepLength: EndCondition&lt;&#39;a&gt;
  }
  static member Default: AnnealSettings&lt;float&gt;<br /><em>&lt;summary&gt;
 Represents configurable settings of an annealing procedure
 that supports (a) heating, followed by (b) annealing.
&lt;/summary&gt;</em></div>
<div class="fsdocs-tip" id="fs161">union case Option.Some: Value: &#39;T -&gt; Option&lt;&#39;T&gt;</div>
<div class="fsdocs-tip" id="fs162">module EndConditions

from Bristlecone.Optimisation</div>
<div class="fsdocs-tip" id="fs163">val afterIteration: iteration: int -&gt; EstimationEngine.Solution&lt;float&gt; list -&gt; currentIteration: int -&gt; bool<br /><em>&lt;summary&gt;
 End the optimisation procedure when a minimum number of iterations is exceeded.
&lt;/summary&gt;</em></div>
<div class="fsdocs-tip" id="fs164">val x: EstimationEngine.Solution&lt;float&gt; list</div>
<div class="fsdocs-tip" id="fs165">val n: int</div>
<div class="fsdocs-tip" id="fs166">module EndConditions

from Bristlecone.Optimisation.MonteCarlo.SimulatedAnnealing</div>
<div class="fsdocs-tip" id="fs167">val improvementCount: count: int -&gt; interval: int -&gt; results: EstimationEngine.Solution&lt;float&gt; list -&gt; iteration: int -&gt; bool</div>
<div class="fsdocs-tip" id="fs168">val testSettings: Test.TestSettings&lt;float&gt;</div>
<div class="fsdocs-tip" id="fs169">Multiple items<br />module Test

from Bristlecone.Language<br /><em>&lt;summary&gt;
 Terms for designing tests for model systems.
&lt;/summary&gt;</em><br /><br />--------------------<br />module Test

from Bristlecone</div>
<div class="fsdocs-tip" id="fs170">val create: Test.TestSettings&lt;float&gt;</div>
<div class="fsdocs-tip" id="fs171">val addNoise: noiseFn: (System.Random -&gt; Parameter.Pool -&gt; CodedMap&lt;TimeSeries&lt;&#39;a&gt;&gt; -&gt; Result&lt;CodedMap&lt;TimeSeries&lt;&#39;a&gt;&gt;,string&gt;) -&gt; settings: Test.TestSettings&lt;&#39;a&gt; -&gt; Test.TestSettings&lt;&#39;a&gt;<br /><em>&lt;summary&gt;
 Add noise to a particular time-series when generating fake time-series.
 Built-in noise functions are in the `Noise` module.
&lt;/summary&gt;</em></div>
<div class="fsdocs-tip" id="fs172">module Noise

from Bristlecone.Test<br /><em>&lt;summary&gt;
 Functions for adding background variability into
 test problems.
&lt;/summary&gt;</em></div>
<div class="fsdocs-tip" id="fs173">val tryAddNormal: sdParamCode: string -&gt; seriesName: string -&gt; rnd: System.Random -&gt; pool: Parameter.Pool.ParameterPool -&gt; data: CodedMap&lt;TimeSeries.TimeSeries&lt;float&gt;&gt; -&gt; Result&lt;Map&lt;ShortCode.ShortCode,TimeSeries.TimeSeries&lt;float&gt;&gt;,string&gt;<br /><em>&lt;summary&gt;
 Adds normally-distributed noise around each data point in the selected
 time-series.
 Returns `None` if the series or parameter does not exist.
&lt;/summary&gt;</em></div>
<div class="fsdocs-tip" id="fs174">val addGenerationRules: rules: Test.GenerationRule list -&gt; settings: Test.TestSettings&lt;&#39;a&gt; -&gt; Test.TestSettings&lt;&#39;a&gt;</div>
<div class="fsdocs-tip" id="fs175">module GenerationRules

from Bristlecone.Test</div>
<div class="fsdocs-tip" id="fs176">val alwaysMoreThan: i: float -&gt; variable: string -&gt; Test.GenerationRule<br /><em>&lt;summary&gt;
 Ensures that all generated values are greater than i
&lt;/summary&gt;</em></div>
<div class="fsdocs-tip" id="fs177">val alwaysLessThan: i: float -&gt; variable: string -&gt; Test.GenerationRule<br /><em>&lt;summary&gt;
 Ensures that all generated values are less than i
&lt;/summary&gt;</em></div>
<div class="fsdocs-tip" id="fs178">val monotonicallyIncreasing: variable: string -&gt; Test.GenerationRule<br /><em>&lt;summary&gt;
 Ensures that there is always a positive change in values of a variable
&lt;/summary&gt;</em></div>
<div class="fsdocs-tip" id="fs179">val addStartValues: values: (string * &#39;a) seq -&gt; settings: Test.TestSettings&lt;&#39;a&gt; -&gt; Test.TestSettings&lt;&#39;a&gt;<br /><em>&lt;summary&gt;
 Adds start values to the test settings. Overwrites any existing
 start values that may already exist.
&lt;/summary&gt;</em></div>
<div class="fsdocs-tip" id="fs180">val toBiomassMM: radius: float&lt;Dendro.mm&gt; -&gt; float<br /><em>&#160;Radius in millimetres</em></div>
<div class="fsdocs-tip" id="fs181">val withTimeSeriesLength: n: int -&gt; settings: Test.TestSettings&lt;&#39;a&gt; -&gt; Test.TestSettings&lt;&#39;a&gt;</div>
<div class="fsdocs-tip" id="fs182">val endWhen: goal: EstimationEngine.EndCondition&lt;&#39;a&gt; -&gt; settings: Test.TestSettings&lt;&#39;a&gt; -&gt; Test.TestSettings&lt;&#39;a&gt;</div>
<div class="fsdocs-tip" id="fs183">val testResult: Test.TestResult list</div>
<div class="fsdocs-tip" id="fs184">Multiple items<br />module List

from Bristlecone<br /><br />--------------------<br />module List

from Microsoft.FSharp.Collections<br /><br />--------------------<br />type List&lt;&#39;T&gt; =
  | op_Nil
  | op_ColonColon of Head: &#39;T * Tail: &#39;T list
  interface IReadOnlyList&lt;&#39;T&gt;
  interface IReadOnlyCollection&lt;&#39;T&gt;
  interface IEnumerable
  interface IEnumerable&lt;&#39;T&gt;
  member GetReverseIndex: rank: int * offset: int -&gt; int
  member GetSlice: startIndex: int option * endIndex: int option -&gt; &#39;T list
  static member Cons: head: &#39;T * tail: &#39;T list -&gt; &#39;T list
  member Head: &#39;T
  member IsEmpty: bool
  member Item: index: int -&gt; &#39;T with get
  ...</div>
<div class="fsdocs-tip" id="fs185">val map: mapping: (&#39;T -&gt; &#39;U) -&gt; list: &#39;T list -&gt; &#39;U list</div>
<div class="fsdocs-tip" id="fs186">property Hypotheses.Hypothesis.Model: ModelSystem.ModelSystem with get</div>
<div class="fsdocs-tip" id="fs187">val testModel: engine: EstimationEngine.EstimationEngine&lt;float,float&gt; -&gt; settings: Test.TestSettings&lt;float&gt; -&gt; model: ModelSystem.ModelSystem -&gt; Test.TestResult<br /><em>&lt;summary&gt;Test that the specified estimation engine can correctly
 estimate known parameters. Random parameter sets are generated
 from the given model system.&lt;/summary&gt;<br />&lt;param name=&quot;engine&quot;&gt;An estimation engine containing the method used for model-fitting.&lt;/param&gt;<br />&lt;param name=&quot;settings&quot;&gt;Test settings that define how the test will be conducted.&lt;/param&gt;<br />&lt;param name=&quot;model&quot;&gt;The model system to test against the estimation engine.&lt;/param&gt;<br />&lt;returns&gt;A test result that indicates differences between the expected and actual fit.&lt;/returns&gt;</em></div>
<div class="fsdocs-tip" id="fs188">val dataset: PlantIndividual.PlantIndividual seq</div>
<div class="fsdocs-tip" id="fs189">val plants: PlantIndividual.PlantIndividual list</div>
<div class="fsdocs-tip" id="fs190">Multiple items<br />namespace Bristlecone.Data<br /><br />--------------------<br />namespace Microsoft.FSharp.Data</div>
<div class="fsdocs-tip" id="fs191">module PlantIndividual

from Bristlecone.Data</div>
<div class="fsdocs-tip" id="fs192">val loadRingWidths: fileName: string -&gt; PlantIndividual.PlantIndividual list</div>
<div class="fsdocs-tip" id="fs193">val isotopeData: (string * TimeSeries.TimeSeries&lt;float&gt;) list</div>
<div class="fsdocs-tip" id="fs194">val loadLocalEnvironmentVariable: fileName: string -&gt; (string * TimeSeries.TimeSeries&lt;float&gt;) list</div>
<div class="fsdocs-tip" id="fs195">module PlantIndividual

from Bristlecone.Dendro</div>
<div class="fsdocs-tip" id="fs196">val zipEnvMany: envName: string -&gt; env: (string * TimeSeries.TimeSeries&lt;float&gt;) seq -&gt; plants: PlantIndividual.PlantIndividual seq -&gt; PlantIndividual.PlantIndividual seq<br /><em>&lt;summary&gt;
 Assigns local environmental conditions to each plant in a sequence,
 given a sequence of environmental time-series where each time-series
 has the code of the plant associated with it.
&lt;/summary&gt;</em></div>
<div class="fsdocs-tip" id="fs197">namespace Bristlecone.Workflow</div>
<div class="fsdocs-tip" id="fs198">val orchestrator: Orchestration.OrchestrationAgent</div>
<div class="fsdocs-tip" id="fs199">module Orchestration

from Bristlecone.Workflow<br /><em>&lt;summary&gt;
 Queue functions to manage many work packages in parallel.
 [ Inspired by Tom Petricek: http://fssnip.net/nX ]
&lt;/summary&gt;</em></div>
<div class="fsdocs-tip" id="fs200">Multiple items<br />type OrchestrationAgent =
  new: writeOut: (LogEvent -&gt; unit) * maxSimultaneous: int * retainResults: bool -&gt; OrchestrationAgent
  member Post: msg: OrchestrationMessage -&gt; unit
  member TryGetResult: unit -&gt; EstimationResult option<br /><em>&lt;summary&gt;
 The `OrchestrationAgent` queues work items of the type `Async&amp;lt;EstimationResult&amp;gt;`, which
 are run in parallel up to a total of `maxSimultaneous` at one time.
&lt;/summary&gt;</em><br /><br />--------------------<br />new: writeOut: (Logging.LogEvent -&gt; unit) * maxSimultaneous: int * retainResults: bool -&gt; Orchestration.OrchestrationAgent</div>
<div class="fsdocs-tip" id="fs201">type Environment =
  static member Exit: exitCode: int -&gt; unit
  static member ExpandEnvironmentVariables: name: string -&gt; string
  static member FailFast: message: string -&gt; unit + 1 overload
  static member GetCommandLineArgs: unit -&gt; string array
  static member GetEnvironmentVariable: variable: string -&gt; string + 1 overload
  static member GetEnvironmentVariables: unit -&gt; IDictionary + 1 overload
  static member GetFolderPath: folder: SpecialFolder -&gt; string + 1 overload
  static member GetLogicalDrives: unit -&gt; string array
  static member SetEnvironmentVariable: variable: string * value: string -&gt; unit + 1 overload
  static member CommandLine: string
  ...<br /><em>&lt;summary&gt;Provides information about, and means to manipulate, the current environment and platform. This class cannot be inherited.&lt;/summary&gt;</em></div>
<div class="fsdocs-tip" id="fs202">property System.Environment.ProcessorCount: int with get<br /><em>&lt;summary&gt;Gets the number of processors available to the current process.&lt;/summary&gt;<br />&lt;returns&gt;The 32-bit signed integer that specifies the number of processors that are available.&lt;/returns&gt;</em></div>
<div class="fsdocs-tip" id="fs203">val startValues: startDate: System.DateTime -&gt; plant: PlantIndividual.PlantIndividual -&gt; Map&lt;ShortCode.ShortCode,float&gt;</div>
<div class="fsdocs-tip" id="fs204">val startDate: System.DateTime</div>
<div class="fsdocs-tip" id="fs205">Multiple items<br />[&lt;Struct&gt;]
type DateTime =
  new: year: int * month: int * day: int -&gt; unit + 10 overloads
  member Add: value: TimeSpan -&gt; DateTime
  member AddDays: value: float -&gt; DateTime
  member AddHours: value: float -&gt; DateTime
  member AddMilliseconds: value: float -&gt; DateTime
  member AddMinutes: value: float -&gt; DateTime
  member AddMonths: months: int -&gt; DateTime
  member AddSeconds: value: float -&gt; DateTime
  member AddTicks: value: int64 -&gt; DateTime
  member AddYears: value: int -&gt; DateTime
  ...<br /><em>&lt;summary&gt;Represents an instant in time, typically expressed as a date and time of day.&lt;/summary&gt;</em><br /><br />--------------------<br />System.DateTime ()<br />&#160;&#160;&#160;<em>(+0 other overloads)</em><br />System.DateTime(ticks: int64) : System.DateTime<br />&#160;&#160;&#160;<em>(+0 other overloads)</em><br />System.DateTime(ticks: int64, kind: System.DateTimeKind) : System.DateTime<br />&#160;&#160;&#160;<em>(+0 other overloads)</em><br />System.DateTime(year: int, month: int, day: int) : System.DateTime<br />&#160;&#160;&#160;<em>(+0 other overloads)</em><br />System.DateTime(year: int, month: int, day: int, calendar: System.Globalization.Calendar) : System.DateTime<br />&#160;&#160;&#160;<em>(+0 other overloads)</em><br />System.DateTime(year: int, month: int, day: int, hour: int, minute: int, second: int) : System.DateTime<br />&#160;&#160;&#160;<em>(+0 other overloads)</em><br />System.DateTime(year: int, month: int, day: int, hour: int, minute: int, second: int, kind: System.DateTimeKind) : System.DateTime<br />&#160;&#160;&#160;<em>(+0 other overloads)</em><br />System.DateTime(year: int, month: int, day: int, hour: int, minute: int, second: int, calendar: System.Globalization.Calendar) : System.DateTime<br />&#160;&#160;&#160;<em>(+0 other overloads)</em><br />System.DateTime(year: int, month: int, day: int, hour: int, minute: int, second: int, millisecond: int) : System.DateTime<br />&#160;&#160;&#160;<em>(+0 other overloads)</em><br />System.DateTime(year: int, month: int, day: int, hour: int, minute: int, second: int, millisecond: int, kind: System.DateTimeKind) : System.DateTime<br />&#160;&#160;&#160;<em>(+0 other overloads)</em></div>
<div class="fsdocs-tip" id="fs206">val plant: PlantIndividual.PlantIndividual</div>
<div class="fsdocs-tip" id="fs207">type PlantIndividual =
  {
    Identifier: ShortCode
    Growth: PlantGrowth
    InternalControls: Map&lt;ShortCode,Trait&gt;
    Environment: LocalEnvironment
  }</div>
<div class="fsdocs-tip" id="fs208">val removeUnit: x: float&lt;&#39;u&gt; -&gt; float</div>
<div class="fsdocs-tip" id="fs209">val initialRadius: float&lt;mm&gt;</div>
<div class="fsdocs-tip" id="fs210">PlantIndividual.PlantIndividual.Growth: PlantIndividual.PlantGrowth</div>
<div class="fsdocs-tip" id="fs211">type PlantGrowth =
  | RingWidth of GrowthSeries&lt;mm&gt;
  | BasalArea of GrowthSeries&lt;mm ^ 2&gt;
  | StemVolume of GrowthSeries&lt;mm ^ 3&gt;</div>
<div class="fsdocs-tip" id="fs212">union case PlantIndividual.PlantGrowth.RingWidth: GrowthSeries.GrowthSeries&lt;mm&gt; -&gt; PlantIndividual.PlantGrowth</div>
<div class="fsdocs-tip" id="fs213">val s: GrowthSeries.GrowthSeries&lt;mm&gt;</div>
<div class="fsdocs-tip" id="fs214">module GrowthSeries

from Bristlecone.Time</div>
<div class="fsdocs-tip" id="fs215">union case GrowthSeries.GrowthSeries.Cumulative: TimeSeries&lt;float&lt;&#39;u&gt;&gt; -&gt; GrowthSeries.GrowthSeries&lt;&#39;u&gt;</div>
<div class="fsdocs-tip" id="fs216">val c: TimeSeries&lt;float&lt;mm&gt;&gt;</div>
<div class="fsdocs-tip" id="fs217">val trimmed: TimeSeries.TimeSeries&lt;float&lt;mm&gt;&gt; option</div>
<div class="fsdocs-tip" id="fs218">Multiple items<br />module TimeSeries

from Bristlecone.Time<br /><br />--------------------<br />type TimeSeries&lt;&#39;T&gt; = TimeSeries.TimeSeries&lt;&#39;T&gt;</div>
<div class="fsdocs-tip" id="fs219">val trimStart: startDate: System.DateTime -&gt; series: TimeSeries.TimeSeries&lt;&#39;a&gt; -&gt; TimeSeries.TimeSeries&lt;&#39;a&gt; option<br /><em>&lt;summary&gt;
 Remove all time points that occur before the desired start date.
&lt;/summary&gt;</em></div>
<div class="fsdocs-tip" id="fs220">Multiple items<br />[&lt;Struct&gt;]
type TimeSpan =
  new: hours: int * minutes: int * seconds: int -&gt; unit + 3 overloads
  member Add: ts: TimeSpan -&gt; TimeSpan
  member CompareTo: value: obj -&gt; int + 1 overload
  member Divide: divisor: float -&gt; TimeSpan + 1 overload
  member Duration: unit -&gt; TimeSpan
  member Equals: value: obj -&gt; bool + 2 overloads
  member GetHashCode: unit -&gt; int
  member Multiply: factor: float -&gt; TimeSpan
  member Negate: unit -&gt; TimeSpan
  member Subtract: ts: TimeSpan -&gt; TimeSpan
  ...<br /><em>&lt;summary&gt;Represents a time interval.&lt;/summary&gt;</em><br /><br />--------------------<br />System.TimeSpan ()<br />System.TimeSpan(ticks: int64) : System.TimeSpan<br />System.TimeSpan(hours: int, minutes: int, seconds: int) : System.TimeSpan<br />System.TimeSpan(days: int, hours: int, minutes: int, seconds: int) : System.TimeSpan<br />System.TimeSpan(days: int, hours: int, minutes: int, seconds: int, milliseconds: int) : System.TimeSpan</div>
<div class="fsdocs-tip" id="fs221">System.TimeSpan.FromDays(value: float) : System.TimeSpan</div>
<div class="fsdocs-tip" id="fs222">val t: TimeSeries.TimeSeries&lt;float&lt;mm&gt;&gt;</div>
<div class="fsdocs-tip" id="fs223">property TimeSeries.TimeSeries.Values: float&lt;mm&gt; seq with get</div>
<div class="fsdocs-tip" id="fs224">val head: source: &#39;T seq -&gt; &#39;T</div>
<div class="fsdocs-tip" id="fs225">union case Option.None: Option&lt;&#39;T&gt;</div>
<div class="fsdocs-tip" id="fs226">val failwith: message: string -&gt; &#39;T</div>
<div class="fsdocs-tip" id="fs227">val invalidOp: message: string -&gt; &#39;T</div>
<div class="fsdocs-tip" id="fs228">val initialMass: float</div>
<div class="fsdocs-tip" id="fs229">val initialNitrogen: float</div>
<div class="fsdocs-tip" id="fs230">PlantIndividual.PlantIndividual.Environment: EnvironmentalVariables.LocalEnvironment</div>
<div class="fsdocs-tip" id="fs231">val code: (string -&gt; ShortCode.ShortCode option)<br /><em>&lt;summary&gt;
 A short code representation of an identifier for a parameter,
 model equation, or other model component.
&lt;/summary&gt;</em></div>
<div class="fsdocs-tip" id="fs232">val fst: tuple: (&#39;T1 * &#39;T2) -&gt; &#39;T1</div>
<div class="fsdocs-tip" id="fs233">Multiple items<br />module Map

from Bristlecone<br /><br />--------------------<br />module Map

from Microsoft.FSharp.Collections<br /><br />--------------------<br />type Map&lt;&#39;Key,&#39;Value (requires comparison)&gt; =
  interface IReadOnlyDictionary&lt;&#39;Key,&#39;Value&gt;
  interface IReadOnlyCollection&lt;KeyValuePair&lt;&#39;Key,&#39;Value&gt;&gt;
  interface IEnumerable
  interface IStructuralEquatable
  interface IComparable
  interface IEnumerable&lt;KeyValuePair&lt;&#39;Key,&#39;Value&gt;&gt;
  interface ICollection&lt;KeyValuePair&lt;&#39;Key,&#39;Value&gt;&gt;
  interface IDictionary&lt;&#39;Key,&#39;Value&gt;
  new: elements: (&#39;Key * &#39;Value) seq -&gt; Map&lt;&#39;Key,&#39;Value&gt;
  member Add: key: &#39;Key * value: &#39;Value -&gt; Map&lt;&#39;Key,&#39;Value&gt;
  ...<br /><br />--------------------<br />new: elements: (&#39;Key * &#39;Value) seq -&gt; Map&lt;&#39;Key,&#39;Value&gt;</div>
<div class="fsdocs-tip" id="fs234">val ofList: elements: (&#39;Key * &#39;T) list -&gt; Map&lt;&#39;Key,&#39;T&gt; (requires comparison)</div>
<div class="fsdocs-tip" id="fs235">val numberOfReplicates: int</div>
<div class="fsdocs-tip" id="fs236">val resultsDirectory: string</div>
<div class="fsdocs-tip" id="fs237">val thinTrace: int option</div>
<div class="fsdocs-tip" id="fs238">val endWhen: EstimationEngine.EndCondition&lt;float&gt;</div>
<div class="fsdocs-tip" id="fs239">val workPackages: shrubs: PlantIndividual.PlantIndividual seq -&gt; hypotheses: Hypotheses.Hypothesis list -&gt; engine: EstimationEngine.EstimationEngine&lt;float,float&gt; -&gt; saveDirectory: string -&gt; Async&lt;ModelSystem.EstimationResult&gt; seq</div>
<div class="fsdocs-tip" id="fs240">val shrubs: PlantIndividual.PlantIndividual seq</div>
<div class="fsdocs-tip" id="fs241">Multiple items<br />union case Hypotheses.Hypothesis.Hypothesis: ModelSystem.ModelSystem * Hypotheses.ComponentName list -&gt; Hypotheses.Hypothesis<br /><br />--------------------<br />type Hypothesis =
  | Hypothesis of ModelSystem * ComponentName list
  member Components: ComponentName list
  member Model: ModelSystem
  member ReferenceCode: string<br /><em>&lt;summary&gt;A hypothesis consists of a model system and the names of the
 swappable components within it, alongside the name of their current implementation.&lt;/summary&gt;</em></div>
<div class="fsdocs-tip" id="fs242">type &#39;T list = List&lt;&#39;T&gt;</div>
<div class="fsdocs-tip" id="fs243">val saveDirectory: string</div>
<div class="fsdocs-tip" id="fs244">Multiple items<br />val seq: sequence: &#39;T seq -&gt; &#39;T seq<br /><br />--------------------<br />type &#39;T seq = System.Collections.Generic.IEnumerable&lt;&#39;T&gt;</div>
<div class="fsdocs-tip" id="fs245">val s: PlantIndividual.PlantIndividual</div>
<div class="fsdocs-tip" id="fs246">val shrub: PlantIndividual.PlantIndividual</div>
<div class="fsdocs-tip" id="fs247">val toCumulativeGrowth: plant: PlantIndividual.PlantIndividual -&gt; PlantIndividual.PlantIndividual</div>
<div class="fsdocs-tip" id="fs248">val common: PlantIndividual.PlantIndividual</div>
<div class="fsdocs-tip" id="fs249">val keepCommonYears: plant: PlantIndividual.PlantIndividual -&gt; PlantIndividual.PlantIndividual<br /><em>&lt;summary&gt;
 Where a plant has associated environmental data, discard the beginning
 or end of the growth and environment time-series where not all data
 are present.
&lt;/summary&gt;</em></div>
<div class="fsdocs-tip" id="fs250">val startConditions: Map&lt;ShortCode.ShortCode,float&gt;</div>
<div class="fsdocs-tip" id="fs251">val e: EstimationEngine.EstimationEngine&lt;float,float&gt;</div>
<div class="fsdocs-tip" id="fs252">union case Conditioning.Conditioning.Custom: CodedMap&lt;&#39;a&gt; -&gt; Conditioning.Conditioning&lt;&#39;a&gt;</div>
<div class="fsdocs-tip" id="fs253">module Config

from Shrub-resource</div>
<div class="fsdocs-tip" id="fs254">val async: AsyncBuilder</div>
<div class="fsdocs-tip" id="fs255">val result: Result&lt;ModelSystem.EstimationResult,string&gt;</div>
<div class="fsdocs-tip" id="fs256">val tryFit: engine: EstimationEngine.EstimationEngine&lt;float,float&gt; -&gt; endCondition: EstimationEngine.EndCondition&lt;float&gt; -&gt; timeSeriesData: CodedMap&lt;TimeSeries&lt;float&gt;&gt; -&gt; model: ModelSystem.ModelSystem -&gt; Result&lt;ModelSystem.EstimationResult,string&gt;<br /><em>&lt;summary&gt;
 Fit a time-series model to data.

 Please note: it is strongly recommended that you test that the given `EstimationEngine`
 can correctly identify known parameters for your model. Refer to the `Bristlecone.testModel`
 function, which can be used to generate known data and complete this process.
 &lt;/summary&gt;<br />&lt;param name=&quot;engine&quot;&gt;The engine encapsulates all settings that form part of the estimation
 method. Importantly, this includes the random number generator used for all stages
 of the analysis; if this is set using a fixed seed, the result will be reproducable.&lt;/param&gt;<br />&lt;param name=&quot;endCondition&quot;&gt;You must specify a stopping condition, after which
 the optimisation process will cease. Bristlecone includes built-in end conditions
 in the `Bristlecone.Optimisation.EndConditions` module.&lt;/param&gt;<br />&lt;param name=&quot;timeSeriesData&quot;&gt;&lt;/param&gt;<br />&lt;param name=&quot;model&quot;&gt;&lt;/param&gt;<br />&lt;returns&gt;&lt;/returns&gt;</em></div>
<div class="fsdocs-tip" id="fs257">val fromDendro: plant: PlantIndividual.PlantIndividual -&gt; Map&lt;ShortCode.ShortCode,TimeSeries&lt;float&gt;&gt;<br /><em>&lt;summary&gt;Lower time-series data from a plant individual type into
 basic time-series that may be used for model-fitting&lt;/summary&gt;<br />&lt;param name=&quot;plant&quot;&gt;A plant individual&lt;/param&gt;<br />&lt;returns&gt;A coded map of time-series data for model-fitting&lt;/returns&gt;</em></div>
<div class="fsdocs-tip" id="fs258">union case Result.Ok: ResultValue: &#39;T -&gt; Result&lt;&#39;T,&#39;TError&gt;</div>
<div class="fsdocs-tip" id="fs259">val r: ModelSystem.EstimationResult</div>
<div class="fsdocs-tip" id="fs260">namespace Bristlecone.Data</div>
<div class="fsdocs-tip" id="fs261">module EstimationResult

from Bristlecone.Data</div>
<div class="fsdocs-tip" id="fs262">val saveAll: directory: string -&gt; subject: string -&gt; modelId: string -&gt; thinTraceBy: int option -&gt; result: ModelSystem.EstimationResult -&gt; unit<br /><em>&lt;summary&gt;Save the Maximum Likelihood Estimate, trace of the optimisation
 procedure, and time-series.&lt;/summary&gt;<br />&lt;param name=&quot;directory&quot;&gt;Relative or absolute directory to save files to&lt;/param&gt;<br />&lt;param name=&quot;subject&quot;&gt;An identifier for the subject of the test&lt;/param&gt;<br />&lt;param name=&quot;modelId&quot;&gt;An identifier for the model used&lt;/param&gt;<br />&lt;param name=&quot;thinTraceBy&quot;&gt;If Some, an integer representing the nth traces to keep from the optimisation trace.
 If None, does not thin the trace.&lt;/param&gt;<br />&lt;param name=&quot;result&quot;&gt;The estimation result to save&lt;/param&gt;</em></div>
<div class="fsdocs-tip" id="fs263">PlantIndividual.PlantIndividual.Identifier: ShortCode.ShortCode</div>
<div class="fsdocs-tip" id="fs264">property ShortCode.ShortCode.Value: string with get</div>
<div class="fsdocs-tip" id="fs265">union case Result.Error: ErrorValue: &#39;TError -&gt; Result&lt;&#39;T,&#39;TError&gt;</div>
<div class="fsdocs-tip" id="fs266">val e: string</div>
<div class="fsdocs-tip" id="fs267">val failwithf: format: Printf.StringFormat&lt;&#39;T,&#39;Result&gt; -&gt; &#39;T</div>
<div class="fsdocs-tip" id="fs268">val work: Async&lt;ModelSystem.EstimationResult&gt; seq</div>
<div class="fsdocs-tip" id="fs269">val run: unit -&gt; unit</div>
<div class="fsdocs-tip" id="fs270">val iter: action: (&#39;T -&gt; unit) -&gt; source: &#39;T seq -&gt; unit</div>
<div class="fsdocs-tip" id="fs271">type OrchestrationMessage =
  | StartWorkPackage of Async&lt;EstimationResult&gt;
  | StartDependentWorkPackages of Async&lt;EstimationResult&gt;
  | Finished of EstimationResult
  | WorkFailed of exn
  | WorkCancelled</div>
<div class="fsdocs-tip" id="fs272">union case Orchestration.OrchestrationMessage.StartWorkPackage: Async&lt;ModelSystem.EstimationResult&gt; -&gt; Orchestration.OrchestrationMessage</div>
<div class="fsdocs-tip" id="fs273">member Orchestration.OrchestrationAgent.Post: msg: Orchestration.OrchestrationMessage -&gt; unit</div>
<div class="fsdocs-tip" id="fs274">val saveDiagnostics: unit -&gt; unit</div>
<div class="fsdocs-tip" id="fs275">val results: ModelSelection.ResultSet.ResultSet&lt;PlantIndividual.PlantIndividual,Hypotheses.Hypothesis&gt; seq</div>
<div class="fsdocs-tip" id="fs276">val get: subject: PlantIndividual.PlantIndividual -&gt; hypothesis: Hypotheses.Hypothesis -&gt; ModelSystem.EstimationResult seq</div>
<div class="fsdocs-tip" id="fs277">val subject: PlantIndividual.PlantIndividual</div>
<div class="fsdocs-tip" id="fs278">val hypothesis: Hypotheses.Hypothesis</div>
<div class="fsdocs-tip" id="fs279">val loadAll: directory: string -&gt; subject: string -&gt; modelSystem: ModelSystem.ModelSystem -&gt; modelId: string -&gt; ModelSystem.EstimationResult seq<br /><em>&lt;summary&gt;
 Load an `EstimationResult` that has previously been saved as
 three seperate dataframes. Results will only be reconstructed
 when file names and formats are in original Bristlecone format.
&lt;/summary&gt;</em></div>
<div class="fsdocs-tip" id="fs280">module ModelSelection

from Bristlecone<br /><em>&lt;summary&gt;Contains tools for conducting Model Selection across
 individual subjects and hypotheses.&lt;/summary&gt;</em></div>
<div class="fsdocs-tip" id="fs281">module ResultSet

from Bristlecone.ModelSelection<br /><em>&lt;summary&gt;Organises multiple hypotheses and multiple subjects into distinct analysis groups.&lt;/summary&gt;</em></div>
<div class="fsdocs-tip" id="fs282">val arrangeResultSets: subjects: &#39;subject seq -&gt; hypotheses: &#39;hypothesis seq -&gt; getResults: (&#39;subject -&gt; &#39;hypothesis -&gt; ModelSystem.EstimationResult seq) -&gt; ModelSelection.ResultSet.ResultSet&lt;&#39;subject,&#39;hypothesis&gt; seq<br /><em>&lt;summary&gt;Arrange estimation results into subject and hypothesis groups.&lt;/summary&gt;<br />&lt;param name=&quot;subjects&quot;&gt;&lt;/param&gt;<br />&lt;param name=&quot;hypotheses&quot;&gt;&lt;/param&gt;<br />&lt;param name=&quot;getResults&quot;&gt;&lt;/param&gt;<br />&lt;typeparam name=&quot;&#39;subject&quot;&gt;&lt;/typeparam&gt;<br />&lt;typeparam name=&quot;&#39;hypothesis&quot;&gt;&lt;/typeparam&gt;<br />&lt;typeparam name=&quot;&#39;a&quot;&gt;An estimation result&lt;/typeparam&gt;<br />&lt;returns&gt;&lt;/returns&gt;</em></div>
<div class="fsdocs-tip" id="fs283">module Diagnostics

from Bristlecone<br /><em>&lt;summary&gt;Diagnostic techniques for determining the suitability of
 results obtained with Bristlecone.&lt;/summary&gt;</em></div>
<div class="fsdocs-tip" id="fs284">module Convergence

from Bristlecone.Diagnostics<br /><em>&lt;summary&gt;Convergence diagnostics for monte-carlo markov chain (MCMC) analyses.&lt;/summary&gt;</em></div>
<div class="fsdocs-tip" id="fs285">val gelmanRubinAll: nMostRecent: int -&gt; subject: (&#39;subject -&gt; string) -&gt; hypothesis: (&#39;hypothesis -&gt; string) -&gt; results: ModelSelection.ResultSet.ResultSet&lt;&#39;subject,&#39;hypothesis&gt; seq -&gt; Diagnostics.Convergence.ConvergenceStatistic seq<br /><em>&lt;summary&gt;Calculate the Gelman-Rubin statistic for each parameter in all of the given
 `ResultSet`. The statistic tends downwards to one, with one indicating
 perfect convergence between all chains.&lt;/summary&gt;<br />&lt;param name=&quot;nMostRecent&quot;&gt;How many recent iterations to use from the trace.&lt;/param&gt;<br />&lt;param name=&quot;subject&quot;&gt;A function to retrieve a subject ID from a subject&lt;/param&gt;<br />&lt;param name=&quot;hypothesis&quot;&gt;A function to retrieve a hypothesis ID from a hypothesis&lt;/param&gt;<br />&lt;param name=&quot;result&quot;&gt;A result set (of 1 .. many results) for a particular subject and hypothesis&lt;/param&gt;<br />&lt;returns&gt;If more than one replicate, the R-hat convergence statistic across replicates&lt;/returns&gt;</em></div>
<div class="fsdocs-tip" id="fs286">module Convergence

from Bristlecone.Data</div>
<div class="fsdocs-tip" id="fs287">val save: directory: string -&gt; result: Diagnostics.Convergence.ConvergenceStatistic seq -&gt; unit</div>
<div class="fsdocs-tip" id="fs288">module Akaike

from Bristlecone.ModelSelection<br /><em>&lt;summary&gt;Functions for conducting Akaike Information Criterion (AIC).&lt;/summary&gt;</em></div>
<div class="fsdocs-tip" id="fs289">val akaikeWeightsForSet: getRefCode: (&#39;a -&gt; &#39;b) -&gt; set: ModelSelection.ResultSet.ResultSet&lt;&#39;c,&#39;a&gt; seq -&gt; (&#39;c * &#39;b * ModelSystem.EstimationResult * ModelSelection.Akaike.AkaikeWeight) list (requires equality)<br /><em>&lt;summary&gt;Akaike weights for a result set.&lt;/summary&gt;<br />&lt;param name=&quot;getRefCode&quot;&gt;A function that gets a short reference code from a hypothesis.&lt;/param&gt;<br />&lt;param name=&quot;set&quot;&gt;A sequence of `ResultSet`s, within each the 1 .. many results of a particular subject * hypothesis combination.&lt;/param&gt;<br />&lt;returns&gt;An `(EstimationResult * float) seq` of estimation results paired to their Akaike weights.&lt;/returns&gt;<br />&lt;exception cref=&quot;ArgumentException&quot;&gt;Occurs when there are no observations within an estimation result.&lt;/exception&gt;</em></div>
<div class="fsdocs-tip" id="fs290">val x: PlantIndividual.PlantIndividual</div>
<div class="fsdocs-tip" id="fs291">val a: string</div>
<div class="fsdocs-tip" id="fs292">val b: ModelSystem.EstimationResult</div>
<div class="fsdocs-tip" id="fs293">val c: ModelSelection.Akaike.AkaikeWeight</div>
<div class="fsdocs-tip" id="fs294">module ModelSelection

from Bristlecone.Data</div>
<div class="fsdocs-tip" id="fs295">val save: directory: string -&gt; result: (string * string * ModelSystem.EstimationResult * ModelSelection.Akaike.AkaikeWeight) seq -&gt; unit</div>
<div class="fsdocs-tip" id="fs296">val bestFits: (PlantIndividual.PlantIndividual * Hypotheses.Hypothesis * (System.Guid * (float * Parameter.Pool.ParameterPool))) seq</div>
<div class="fsdocs-tip" id="fs297">val allPairs: source1: &#39;T1 seq -&gt; source2: &#39;T2 seq -&gt; (&#39;T1 * &#39;T2) seq</div>
<div class="fsdocs-tip" id="fs298">module MLE

from Bristlecone.Data<br /><em>&lt;summary&gt;Functions of loading and saving Maximum Likelihood Estimates from model fits&lt;/summary&gt;</em></div>
<div class="fsdocs-tip" id="fs299">val loadBest: directory: string -&gt; subject: string -&gt; modelSystem: ModelSystem.ModelSystem -&gt; modelId: string -&gt; System.Guid * (float * Parameter.Pool.ParameterPool)<br /><em>&lt;summary&gt;Load the Maximum Likelihood Estimate (with the lowest -log Liklihood)
 from the given directory for a given subject and model combination.&lt;/summary&gt;<br />&lt;param name=&quot;directory&quot;&gt;The results folder where files are saved&lt;/param&gt;<br />&lt;param name=&quot;subject&quot;&gt;An identifier for the subject of the fit&lt;/param&gt;<br />&lt;param name=&quot;modelId&quot;&gt;An identifier for the model that was fit&lt;/param&gt;<br />&lt;returns&gt;A tuple containing the analysis ID followed by another tuple
 that contains the likelihood and theta (parameter set)&lt;/returns&gt;</em></div>
<div class="fsdocs-tip" id="fs300">val oneStepPredictions: (string * string * CodedMap&lt;ModelSystem.FitSeries * Statistics.NStepStatistics&gt;) seq</div>
<div class="fsdocs-tip" id="fs301">val mle: System.Guid * (float * Parameter.Pool.ParameterPool)</div>
<div class="fsdocs-tip" id="fs302">val preTransform: data: CodedMap&lt;TimeSeries&lt;float&gt;&gt; -&gt; Map&lt;ShortCode.ShortCode,TimeSeries&lt;float&gt;&gt;</div>
<div class="fsdocs-tip" id="fs303">val data: CodedMap&lt;TimeSeries&lt;float&gt;&gt;</div>
<div class="fsdocs-tip" id="fs304">type CodedMap&lt;&#39;T&gt; = Map&lt;ShortCode.ShortCode,&#39;T&gt;</div>
<div class="fsdocs-tip" id="fs305">val toList: table: Map&lt;&#39;Key,&#39;T&gt; -&gt; (&#39;Key * &#39;T) list (requires comparison)</div>
<div class="fsdocs-tip" id="fs306">val collect: mapping: (&#39;T -&gt; &#39;U list) -&gt; list: &#39;T list -&gt; &#39;U list</div>
<div class="fsdocs-tip" id="fs307">val k: ShortCode.ShortCode</div>
<div class="fsdocs-tip" id="fs308">val v: TimeSeries&lt;float&gt;</div>
<div class="fsdocs-tip" id="fs309">val map: f: (&#39;a * System.TimeSpan -&gt; &#39;b) -&gt; series: TimeSeries.TimeSeries&lt;&#39;a&gt; -&gt; TimeSeries.TimeSeries&lt;&#39;b&gt;<br /><em>&lt;summary&gt;
 Map a function to each value in the time series.
&lt;/summary&gt;</em></div>
<div class="fsdocs-tip" id="fs310">val result: CodedMap&lt;ModelSystem.FitSeries * Statistics.NStepStatistics&gt;</div>
<div class="fsdocs-tip" id="fs311">val oneStepAhead: engine: EstimationEngine.EstimationEngine&lt;float,float&gt; -&gt; hypothesis: ModelSystem.ModelSystem -&gt; preTransform: (CodedMap&lt;TimeSeries&lt;&#39;a&gt;&gt; -&gt; CodedMap&lt;TimeSeries&lt;float&gt;&gt;) -&gt; timeSeries: Map&lt;ShortCode.ShortCode,TimeSeries.TimeSeries&lt;&#39;a&gt;&gt; -&gt; estimatedTheta: Parameter.Pool -&gt; CodedMap&lt;ModelSystem.FitSeries * Statistics.NStepStatistics&gt;<br /><em>&lt;summary&gt;Addresses the question: &quot;How good am I at predicting the next data point?. Given fitted parameters,
 assesses how well the model predicts the next data point from each point in the time-series data.
 This approach can provide another indication of model performance.&lt;/summary&gt;<br />&lt;param name=&quot;engine&quot;&gt;The exact estimation engine used for the existing model fit&lt;/param&gt;<br />&lt;param name=&quot;hypothesis&quot;&gt;The exact model system / hypothesis from which parameters have been already estimated&lt;/param&gt;<br />&lt;param name=&quot;preTransform&quot;&gt;A function that may transform each shorter time-series before prediction. This may be needed,
 for example, if there are custom start values that need to be configured in a complex way (e.g. for derived mesaurement
 variables).&lt;/param&gt;<br />&lt;param name=&quot;timeSeries&quot;&gt;The observed data to predict against.&lt;/param&gt;<br />&lt;param name=&quot;estimatedTheta&quot;&gt;A parameter pool containing already estimated parameters from model fitting step&lt;/param&gt;<br />&lt;returns&gt;A time-series for each variable containing a step-ahead prediction&lt;/returns&gt;</em></div>
<div class="fsdocs-tip" id="fs312">module NStepAhead

from Bristlecone.Data<br /><em>&lt;summary&gt;Loads and saves one-step-ahead and n-step-ahead prediction
 results into and out of simple CSV files&lt;/summary&gt;</em></div>
<div class="fsdocs-tip" id="fs313">val save: directory: string -&gt; subjectId: string -&gt; modelId: string -&gt; analysisId: System.Guid -&gt; stepsAhead: int -&gt; result: CodedMap&lt;ModelSystem.FitSeries * Statistics.NStepStatistics&gt; -&gt; unit<br /><em>&lt;summary&gt;Save an individual n-step prediction (excluding statistics) for an
 individual subject and hypothesis / model.&lt;/summary&gt;<br />&lt;param name=&quot;directory&quot;&gt;The file directory to save to&lt;/param&gt;<br />&lt;param name=&quot;subjectId&quot;&gt;Subject ID&lt;/param&gt;<br />&lt;param name=&quot;modelId&quot;&gt;Model ID or Hypothesis ID&lt;/param&gt;<br />&lt;param name=&quot;analysisId&quot;&gt;The unique reference of the estimation result used to generate n-step predictions&lt;/param&gt;<br />&lt;param name=&quot;stepsAhead&quot;&gt;The number of time-steps ahead predicted&lt;/param&gt;<br />&lt;param name=&quot;result&quot;&gt;The n-step prediction from Bristlecone.oneStepAhead or similar&lt;/param&gt;</em></div>
<div class="fsdocs-tip" id="fs314">val saveAllRMSE: directory: string -&gt; results: (string * string * CodedMap&lt;ModelSystem.FitSeries * Statistics.NStepStatistics&gt;) seq -&gt; unit<br /><em>&lt;summary&gt;Saves a full ensemble overview of the root mean squared error
 of n-step ahead predictions.&lt;/summary&gt;<br />&lt;param name=&quot;directory&quot;&gt;The file directory to save to&lt;/param&gt;<br />&lt;param name=&quot;results&quot;&gt;A sequence of subjectID * hypothesisID * n-step result&lt;/param&gt;</em></div>

    </div>
</main>
<aside id="fsdocs-page-menu">
    <p id="on-this-page">On this page</p>
    <ul>
  <li class="level-2">
    <a href="#A-fully-worked-example-soil-nutrients-and-plant-growth">
      A fully-worked example: soil nutrients and plant growth
    </a>
  </li>
  <li class="level-3">
    <a href="#Defining-a-base-model">
      Defining a 'base model'
    </a>
  </li>
  <li class="level-3">
    <a href="#Defining-the-competing-hypotheses">
      Defining the competing hypotheses
    </a>
  </li>
  <li class="level-4">
    <a href="#Geometric-constraint">
      Geometric constraint
    </a>
  </li>
  <li class="level-4">
    <a href="#Plant-soil-feedback">
      Plant-soil feedback
    </a>
  </li>
  <li class="level-4">
    <a href="#Nitrogen-limitation">
      Nitrogen limitation
    </a>
  </li>
  <li class="level-4">
    <a href="#Putting-the-hypotheses-together">
      Putting the hypotheses together
    </a>
  </li>
  <li class="level-3">
    <a href="#Testing-the-engine-and-model">
      Testing the engine and model
    </a>
  </li>
  <li class="level-3">
    <a href="#Load-in-the-real-dataset">
      Load in the real dataset
    </a>
  </li>
  <li class="level-3">
    <a href="#Model-fitting-to-real-data">
      Model-fitting to real data
    </a>
  </li>
  <li class="level-4">
    <a href="#Setting-the-start-values">
      Setting the start values
    </a>
  </li>
  <li class="level-3">
    <a href="#Model-selection">
      Model selection
    </a>
  </li>
</ul>
</aside>
<dialog>
    <input type="search" placeholder="Search docs" />
    <div class="results">
        <ul></ul>
        <p class="empty">Type something to start searching.</p>
    </div>
</dialog>
<script type="module" src="https://acm.im/bristlecone/content/fsdocs-tips.js"></script>
<script type="module" src="https://acm.im/bristlecone/content/fsdocs-theme-toggle.js"></script>
<script type="module" src="https://acm.im/bristlecone/content/fsdocs-theme.js"></script>
<script type="module" src="https://acm.im/bristlecone/content/fsdocs-search.js"></script>

</body>
</html>