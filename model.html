<!DOCTYPE html>
<html lang="en" data-root="https://acm.im/bristlecone/">
<head>
    <meta charset="UTF-8">
    <meta content="IE=edge" http-equiv="X-UA-Compatible">
    <meta content="width=device-width, initial-scale=1.0" name="viewport">
    <meta content="Andrew Martin" name="author">
    <!-- Opengraph properties (https://ogp.me/) -->
    <meta property="og:site_name" content="bristlecone">
    <meta property="og:title" content="Defining a Hypothesis (or Model System)" />
    <meta property="og:url" content="https://acm.im/bristlecone/model.html">
    <meta property="og:type" content="website" />
    <!-- Twitter cards (https://developer.twitter.com/en/docs/twitter-for-websites/cards/overview/summary-card-with-large-image) -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:site" content="https://acm.im/bristlecone/">
    <meta name="twitter:title" content="Defining a Hypothesis (or Model System)">
    
    <title>Defining a Hypothesis (or Model System) | bristlecone</title>
    <link href="https://fonts.googleapis.com" rel="preconnect">
    <link crossorigin href="https://fonts.gstatic.com" rel="preconnect">
    <link href="https://fonts.googleapis.com/css2?family=Fira+Code&display=swap" rel="stylesheet">
    <script src="https://code.iconify.design/iconify-icon/1.0.7/iconify-icon.min.js"></script>
    <link href="https://acm.im/bristlecone/img/favicon.ico" rel="icon" sizes="32x32" type="image/png"/>
    <script type="application/javascript" src="https://acm.im/bristlecone/content/fsdocs-theme-set-dark.js"></script>
    <script type="application/javascript" src="https://acm.im/bristlecone/content/fsdocs-details-set-expanded.js"></script>
    <link href="https://acm.im/bristlecone/content/fsdocs-default.css" rel="stylesheet" type="text/css"/>
    <link href="https://acm.im/bristlecone/content/fsdocs-theme.css" rel="stylesheet" type="text/css"/>
    <script src="https://cdn.plot.ly/plotly-2.21.0.min.js"></script>
    
</head>
<body class="content">
<header>
    <div class="start">
        <div id="menu-toggle">
            <iconify-icon class="icon closed" height="22" icon="eva:menu-fill" width="22"></iconify-icon>
            <iconify-icon class="icon open" height="22" icon="mi:close" width="22"></iconify-icon>
            <input type="checkbox" name="mobile-menu" />
            <ul class="menu">
                <li class="nav-header">Links</li>
                <li class="license-menu-item builtin-menu-item nav-item"><a class="nav-link" href="https://github.com/AndrewIOM/bristlecone/blob/master/LICENSE">License</a>
                </li>
                <li class="release-notes-menu-item builtin-menu-item nav-item"><a class="nav-link"
                                        href="https://github.com/AndrewIOM/bristlecone/blob/master/RELEASE_NOTES.MD">Release
                    Notes</a></li>
                <li class="repository-menu-item builtin-menu-item nav-item"><a class="nav-link" href="https://github.com/AndrewIOM/bristlecone/">Source
                    Repository</a></li>
                <li class="nav-header active">
  The Bristlecone Language
</li>             
<li class="nav-item ">
  <a class="nav-link" href="https://acm.im/bristlecone/language.html">
    Writing Models
  </a>
</li>             
<li class="nav-item active">
  <a class="nav-link" href="https://acm.im/bristlecone/model.html">
    Defining a Hypothesis (or Model System)
  </a>
</li>             
<li class="nav-item ">
  <a class="nav-link" href="https://acm.im/bristlecone/estimation-engine.html">
    Defining a Model-Fitting Method (Estimation Engine)
  </a>
</li>             
<li class="nav-item ">
  <a class="nav-link" href="https://acm.im/bristlecone/composing-models.html">
    Composing models into many hypotheses
  </a>
</li>             
<li class="nav-header ">
  Techniques
</li>             
<li class="nav-item ">
  <a class="nav-link" href="https://acm.im/bristlecone/model-fitting.html">
    Model Fitting
  </a>
</li>             
<li class="nav-item ">
  <a class="nav-link" href="https://acm.im/bristlecone/model-selection.html">
    Model Selection
  </a>
</li>             
<li class="nav-item ">
  <a class="nav-link" href="https://acm.im/bristlecone/workflow.html">
    Ensembles and Parallel Processing
  </a>
</li>             
<li class="nav-item ">
  <a class="nav-link" href="https://acm.im/bristlecone/confidence-intervals.html">
    Calculating Confidence Intervals
  </a>
</li>             
<li class="nav-item ">
  <a class="nav-link" href="https://acm.im/bristlecone/diagnostics.html">
    Diagnostics
  </a>
</li>             
<li class="nav-item ">
  <a class="nav-link" href="https://acm.im/bristlecone/data.html">
    Loading and Saving Data
  </a>
</li>             
<li class="nav-header ">
  Bristlecone.Dendro
</li>             
<li class="nav-item ">
  <a class="nav-link" href="https://acm.im/bristlecone/dendro.html">
    Dendroecology
  </a>
</li>             
<li class="nav-header ">
  Examples
</li>             
<li class="nav-item ">
  <a class="nav-link" href="https://acm.im/bristlecone/examples/predator-prey.html">
    Predator-Prey Dynamics
  </a>
</li>             
<li class="nav-item ">
  <a class="nav-link" href="https://acm.im/bristlecone/examples/sedimentary.html">
    The long-term ecological detective: Holocene ecosystem functioning
  </a>
</li>             
<li class="nav-item ">
  <a class="nav-link" href="https://acm.im/bristlecone/examples/dendroecology.html">
    Wood rings: investigating plant-environment interactions
  </a>
</li>             
<li class="nav-header ">
  Components
</li>             
<li class="nav-item ">
  <a class="nav-link" href="https://acm.im/bristlecone/optimisation.html">
    Optimisation
  </a>
</li>             
<li class="nav-item ">
  <a class="nav-link" href="https://acm.im/bristlecone/time-series.html">
    Time-Series and Time-Frames
  </a>
</li>             
<li class="nav-item ">
  <a class="nav-link" href="https://acm.im/bristlecone/integration.html">
    Integration
  </a>
</li>             
<li class="nav-header ">
  Other
</li>             
<li class="nav-item ">
  <a class="nav-link" href="https://acm.im/bristlecone/examples/data/dendro/readme.html">
    readme
  </a>
</li>
                <li class="nav-header">
  API Reference
</li>             
<li class="nav-item">
  <a class="nav-link" href="https://acm.im/bristlecone/reference/index.html">
    All Namespaces
  </a>
</li>
            </ul>
        </div>
        <a href="https://acm.im/bristlecone/">
            <img alt="Header menu logo" src="https://acm.im/bristlecone//img/logo.png">
            <strong>bristlecone</strong>
        </a>
    </div>
    <div class="end">
        <a href="https://github.com/AndrewIOM/bristlecone/" target="_blank">
            <iconify-icon icon="uil:github" width="26" height="26"></iconify-icon>
        </a>
        <iconify-icon id="search-btn" icon="carbon:search" class="search" width="24" height="24"></iconify-icon>
        <fsdocs-theme-toggle></fsdocs-theme-toggle>
    </div>
</header>
<aside id="fsdocs-main-menu">
    <ul class="menu">
        <li class="nav-header">Links</li>
        <li class="license-menu-item builtin-menu-item nav-item"><a class="nav-link" href="https://github.com/AndrewIOM/bristlecone/blob/master/LICENSE">License</a>
        </li>
        <li class="release-notes-menu-item builtin-menu-item nav-item"><a class="nav-link"
                                href="https://github.com/AndrewIOM/bristlecone/blob/master/RELEASE_NOTES.MD">Release
            Notes</a></li>
        <li class="repository-menu-item builtin-menu-item nav-item"><a class="nav-link" href="https://github.com/AndrewIOM/bristlecone/">Source
            Repository</a></li>
        <li class="nav-header active">
  The Bristlecone Language
</li>             
<li class="nav-item ">
  <a class="nav-link" href="https://acm.im/bristlecone/language.html">
    Writing Models
  </a>
</li>             
<li class="nav-item active">
  <a class="nav-link" href="https://acm.im/bristlecone/model.html">
    Defining a Hypothesis (or Model System)
  </a>
</li>             
<li class="nav-item ">
  <a class="nav-link" href="https://acm.im/bristlecone/estimation-engine.html">
    Defining a Model-Fitting Method (Estimation Engine)
  </a>
</li>             
<li class="nav-item ">
  <a class="nav-link" href="https://acm.im/bristlecone/composing-models.html">
    Composing models into many hypotheses
  </a>
</li>             
<li class="nav-header ">
  Techniques
</li>             
<li class="nav-item ">
  <a class="nav-link" href="https://acm.im/bristlecone/model-fitting.html">
    Model Fitting
  </a>
</li>             
<li class="nav-item ">
  <a class="nav-link" href="https://acm.im/bristlecone/model-selection.html">
    Model Selection
  </a>
</li>             
<li class="nav-item ">
  <a class="nav-link" href="https://acm.im/bristlecone/workflow.html">
    Ensembles and Parallel Processing
  </a>
</li>             
<li class="nav-item ">
  <a class="nav-link" href="https://acm.im/bristlecone/confidence-intervals.html">
    Calculating Confidence Intervals
  </a>
</li>             
<li class="nav-item ">
  <a class="nav-link" href="https://acm.im/bristlecone/diagnostics.html">
    Diagnostics
  </a>
</li>             
<li class="nav-item ">
  <a class="nav-link" href="https://acm.im/bristlecone/data.html">
    Loading and Saving Data
  </a>
</li>             
<li class="nav-header ">
  Bristlecone.Dendro
</li>             
<li class="nav-item ">
  <a class="nav-link" href="https://acm.im/bristlecone/dendro.html">
    Dendroecology
  </a>
</li>             
<li class="nav-header ">
  Examples
</li>             
<li class="nav-item ">
  <a class="nav-link" href="https://acm.im/bristlecone/examples/predator-prey.html">
    Predator-Prey Dynamics
  </a>
</li>             
<li class="nav-item ">
  <a class="nav-link" href="https://acm.im/bristlecone/examples/sedimentary.html">
    The long-term ecological detective: Holocene ecosystem functioning
  </a>
</li>             
<li class="nav-item ">
  <a class="nav-link" href="https://acm.im/bristlecone/examples/dendroecology.html">
    Wood rings: investigating plant-environment interactions
  </a>
</li>             
<li class="nav-header ">
  Components
</li>             
<li class="nav-item ">
  <a class="nav-link" href="https://acm.im/bristlecone/optimisation.html">
    Optimisation
  </a>
</li>             
<li class="nav-item ">
  <a class="nav-link" href="https://acm.im/bristlecone/time-series.html">
    Time-Series and Time-Frames
  </a>
</li>             
<li class="nav-item ">
  <a class="nav-link" href="https://acm.im/bristlecone/integration.html">
    Integration
  </a>
</li>             
<li class="nav-header ">
  Other
</li>             
<li class="nav-item ">
  <a class="nav-link" href="https://acm.im/bristlecone/examples/data/dendro/readme.html">
    readme
  </a>
</li>
        <li class="nav-header">
  API Reference
</li>             
<li class="nav-item">
  <a class="nav-link" href="https://acm.im/bristlecone/reference/index.html">
    All Namespaces
  </a>
</li>
    </ul>
</aside>
<main>
    <div id="content">
        
<p><a href="https://acm.im/bristlecone//model.fsx"><img src="https://acm.im/bristlecone//img/badge-script.svg" alt="Script" /></a>&emsp;
<a href="https://acm.im/bristlecone//model.ipynb"><img src="https://acm.im/bristlecone//img/badge-notebook.svg" alt="Notebook" /></a></p>
<h1><a name="Defining-a-Hypothesis-or-Model-System" class="anchor" href="#Defining-a-Hypothesis-or-Model-System">Defining a Hypothesis (or Model System)</a></h1>
<p>In Bristlecone, a <code>ModelSystem</code> represents combination
of mathematical models and their estimatable parameters
that can be used within model-fitting and model-selection.
A <code>ModelSystem</code> is defined by:</p>
<ul>
<li>at least one equation;</li>
<li>at least one parameter to estimate;</li>
<li>a likelihood function; and</li>
<li>optionally, measurement equations.</li>
</ul>
<p>To build a <code>ModelSystem</code>, first open the Bristlecone language:</p>
<pre class="fssnip highlighted"><code lang="fsharp"><span class="k">open</span> <span onmouseout="hideTip(event, 'fs1', 1)" onmouseover="showTip(event, 'fs1', 1)" class="id">Bristlecone</span> <span class="c">// Opens Bristlecone core library and estimation engine</span>
<span class="k">open</span> <span onmouseout="hideTip(event, 'fs1', 2)" onmouseover="showTip(event, 'fs1', 2)" class="m">Bristlecone</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs2', 3)" onmouseover="showTip(event, 'fs2', 3)" class="m">Language</span> <span class="c">// Open the language for writing Bristlecone models</span>
<span class="k">open</span> <span onmouseout="hideTip(event, 'fs3', 4)" onmouseover="showTip(event, 'fs3', 4)" class="id">FSharp</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs4', 5)" onmouseover="showTip(event, 'fs4', 5)" class="id">Data</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs5', 6)" onmouseover="showTip(event, 'fs5', 6)" class="id">UnitSystems</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs6', 7)" onmouseover="showTip(event, 'fs6', 7)" class="id">SI</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs7', 8)" onmouseover="showTip(event, 'fs7', 8)" class="id">UnitSymbols</span> <span class="c">// Opens SI units for use in models</span>
</code></pre>
<p>Second, define the parts of your hypothesis. In this example,
we will define a simple model of population growth:</p>
<p><em>Note: refer to the section on <a href="language.html">writing models</a> for help writing
Bristlecone expressions.</em></p>
<pre class="fssnip highlighted"><code lang="fsharp"><span class="pn">[&lt;</span><span onmouseout="hideTip(event, 'fs8', 9)" onmouseover="showTip(event, 'fs8', 9)" class="rt">Measure</span><span class="pn">&gt;]</span>
<span class="k">type</span> <span onmouseout="hideTip(event, 'fs9', 10)" onmouseover="showTip(event, 'fs9', 10)" class="rt">individuals</span>

<span class="k">let</span> <span onmouseout="hideTip(event, 'fs10', 11)" onmouseover="showTip(event, 'fs10', 11)" class="id">r</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs11', 12)" onmouseover="showTip(event, 'fs11', 12)" class="fn">parameter</span> <span class="s">&quot;r&quot;</span> <span onmouseout="hideTip(event, 'fs12', 13)" onmouseover="showTip(event, 'fs12', 13)" class="id">notNegative</span> <span class="n">0.01</span><span class="pn">&lt;</span> <span class="o">/</span> <span onmouseout="hideTip(event, 'fs13', 14)" onmouseover="showTip(event, 'fs13', 14)" class="m">Time</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs14', 15)" onmouseover="showTip(event, 'fs14', 15)" class="id">day</span><span class="pn">&gt;</span> <span class="n">0.50</span><span class="pn">&lt;</span> <span class="o">/</span> <span onmouseout="hideTip(event, 'fs13', 16)" onmouseover="showTip(event, 'fs13', 16)" class="m">Time</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs14', 17)" onmouseover="showTip(event, 'fs14', 17)" class="id">day</span><span class="pn">&gt;</span>
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs15', 18)" onmouseover="showTip(event, 'fs15', 18)" class="id">K</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs11', 19)" onmouseover="showTip(event, 'fs11', 19)" class="fn">parameter</span> <span class="s">&quot;K&quot;</span> <span onmouseout="hideTip(event, 'fs12', 20)" onmouseover="showTip(event, 'fs12', 20)" class="id">notNegative</span> <span class="n">20.</span><span class="pn">&lt;</span><span onmouseout="hideTip(event, 'fs9', 21)" onmouseover="showTip(event, 'fs9', 21)" class="rt">individuals</span><span class="pn">&gt;</span> <span class="n">50.</span><span class="pn">&lt;</span><span onmouseout="hideTip(event, 'fs9', 22)" onmouseover="showTip(event, 'fs9', 22)" class="rt">individuals</span><span class="pn">&gt;</span>
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs16', 23)" onmouseover="showTip(event, 'fs16', 23)" class="id">N</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs17', 24)" onmouseover="showTip(event, 'fs17', 24)" class="fn">state</span><span class="pn">&lt;</span><span onmouseout="hideTip(event, 'fs9', 25)" onmouseover="showTip(event, 'fs9', 25)" class="rt">individuals</span><span class="pn">&gt;</span> <span class="s">&quot;N&quot;</span>
</code></pre>
<p>When making parameters, first pass an identifiable short code that
you will see in output files.
Next, you must pass the constraint mode. In Bristlecone, although
the optimisation algorithms are <em>unconstrained</em>, it is possible
to constrain parameters to specific values using transformations. These
are applied automatically within the model-fitting process. Two available
options are <code>noConstaints</code>, which is unconstrained, and <code>positiveOnly</code>, which
prevents the value of that parameter dropping below zero. The last
arguments are two numbers representing a lower and upper bound
from which to draw an initial starting value for the parameter.
The starting value is drawn from a continuous uniform distribution,
using a <code>Random</code> that you define in the <code>EstimationEngine</code> (see <a href="estimation-engine.html">estimating</a>).</p>
<pre class="fssnip highlighted"><code lang="fsharp"><span class="k">let</span> <span class="id">``dN/dt``</span><span class="pn">:</span> <span onmouseout="hideTip(event, 'fs18', 26)" onmouseover="showTip(event, 'fs18', 26)" class="rt">ModelExpression</span><span class="pn">&lt;</span><span onmouseout="hideTip(event, 'fs9', 27)" onmouseover="showTip(event, 'fs9', 27)" class="rt">individuals</span> <span class="o">/</span> <span onmouseout="hideTip(event, 'fs13', 28)" onmouseover="showTip(event, 'fs13', 28)" class="m">Time</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs14', 29)" onmouseover="showTip(event, 'fs14', 29)" class="id">day</span><span class="pn">&gt;</span> <span class="o">=</span>
    <span onmouseout="hideTip(event, 'fs19', 30)" onmouseover="showTip(event, 'fs19', 30)" class="fn">P</span> <span onmouseout="hideTip(event, 'fs10', 31)" onmouseover="showTip(event, 'fs10', 31)" class="id">r</span> <span class="o">*</span> <span onmouseout="hideTip(event, 'fs20', 32)" onmouseover="showTip(event, 'fs20', 32)" class="id">This</span> <span class="o">*</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs21', 33)" onmouseover="showTip(event, 'fs21', 33)" class="fn">Constant</span> <span class="n">1.</span> <span class="o">-</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs20', 34)" onmouseover="showTip(event, 'fs20', 34)" class="id">This</span> <span class="o">/</span> <span onmouseout="hideTip(event, 'fs19', 35)" onmouseover="showTip(event, 'fs19', 35)" class="fn">P</span> <span onmouseout="hideTip(event, 'fs15', 36)" onmouseover="showTip(event, 'fs15', 36)" class="id">K</span><span class="pn">)</span><span class="pn">)</span>
</code></pre>
<p>From the above code, our model is compiled into the following internal representation:</p>
<table class="pre"><tr><td><pre><code>ME
  (Multiply
     [Multiply [Parameter "r"; This];
      Subtract (Constant 1.0, Divide (This, Parameter "K"))])</code></pre></td></tr></table>
<p>Our model of the change in <em>N</em> (population count) over time has two estimatable parameters
defined using the <code>Parameter</code> term,
which are <em>r</em> (the intrinsic growth rate of the population)
and <em>K</em> (the carrying capacity of the population).
The type system verifies that all required parameters are in place, and conducts
unit arithmetic to ensure that specified units make sense at compile-time.</p>
<p>Next, we need to create our <code>ModelSystem</code> by using the helper functions
that can be found under <code>Model.*</code>.</p>
<p>In this example, we will use a sum-of-squares measure to determine
the goodness-of-fit rather than a likelihood function. A selection of
likelihood functions, including sum-of-squares functions, are included
in Bristlecone within the <code>ModelLibrary</code> module.</p>
<p>The <code>ModelSystem</code> can be created with forward pipes (<code>|&gt;</code>) as follows:</p>
<pre class="fssnip highlighted"><code lang="fsharp"><span class="k">let</span> <span onmouseout="hideTip(event, 'fs22', 37)" onmouseover="showTip(event, 'fs22', 37)" class="id">hypothesis</span> <span class="o">=</span>
    <span onmouseout="hideTip(event, 'fs23', 38)" onmouseover="showTip(event, 'fs23', 38)" class="m">Model</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs24', 39)" onmouseover="showTip(event, 'fs24', 39)" class="id">empty</span>
    <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs23', 40)" onmouseover="showTip(event, 'fs23', 40)" class="m">Model</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs25', 41)" onmouseover="showTip(event, 'fs25', 41)" class="id">addRateEquation</span> <span onmouseout="hideTip(event, 'fs16', 42)" onmouseover="showTip(event, 'fs16', 42)" class="id">N</span> <span class="id">``dN/dt``</span>
    <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs23', 43)" onmouseover="showTip(event, 'fs23', 43)" class="m">Model</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs26', 44)" onmouseover="showTip(event, 'fs26', 44)" class="id">estimateParameter</span> <span onmouseout="hideTip(event, 'fs10', 45)" onmouseover="showTip(event, 'fs10', 45)" class="id">r</span>
    <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs23', 46)" onmouseover="showTip(event, 'fs23', 46)" class="m">Model</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs26', 47)" onmouseover="showTip(event, 'fs26', 47)" class="id">estimateParameter</span> <span onmouseout="hideTip(event, 'fs15', 48)" onmouseover="showTip(event, 'fs15', 48)" class="id">K</span>
    <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs23', 49)" onmouseover="showTip(event, 'fs23', 49)" class="m">Model</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs27', 50)" onmouseover="showTip(event, 'fs27', 50)" class="id">useLikelihoodFunction</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs28', 51)" onmouseover="showTip(event, 'fs28', 51)" class="id">ModelLibrary</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs29', 52)" onmouseover="showTip(event, 'fs29', 52)" class="m">Likelihood</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs30', 53)" onmouseover="showTip(event, 'fs30', 53)" class="id">sumOfSquares</span> <span class="pn">[</span> <span onmouseout="hideTip(event, 'fs31', 54)" onmouseover="showTip(event, 'fs31', 54)" class="m">Require</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs32', 55)" onmouseover="showTip(event, 'fs32', 55)" class="id">state</span> <span onmouseout="hideTip(event, 'fs16', 56)" onmouseover="showTip(event, 'fs16', 56)" class="id">N</span> <span class="pn">]</span><span class="pn">)</span>
    <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs23', 57)" onmouseover="showTip(event, 'fs23', 57)" class="m">Model</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs33', 58)" onmouseover="showTip(event, 'fs33', 58)" class="id">compile</span>
</code></pre>
<p>In the above code, we first start with an empty model system,
<code>Model.empty</code>. We then add each component with a short code to
represent it, and finally call <code>Model.compile</code>. The <code>Model.compile</code>
function checks the validity of the model in terms of duplicate short codes,
making sure all parameters are set to be estimated, and that all the
required parts are in place.</p>

        <div class="fsdocs-tip" id="fs1">Multiple items<br />module Bristlecone

from Bristlecone<br /><em>&lt;namespacedoc&gt;&lt;summary&gt;The core library of Bristlecone, containing model-fitting functions.&lt;/summary&gt;&lt;/namespacedoc&gt;<br />

 Main functionality of Bristlecone, including functions to scaffold
 `ModelSystem`s and for model-fitting (tests and real fits).
</em><br /><br />--------------------<br />namespace Bristlecone</div>
<div class="fsdocs-tip" id="fs2">module Language

from Bristlecone<br /><em>&lt;summary&gt;
 An F# Domain Specific Language (DSL) for scripting with
 Bristlecone.
&lt;/summary&gt;</em></div>
<div class="fsdocs-tip" id="fs3">namespace Microsoft.FSharp</div>
<div class="fsdocs-tip" id="fs4">namespace Microsoft.FSharp.Data</div>
<div class="fsdocs-tip" id="fs5">namespace Microsoft.FSharp.Data.UnitSystems</div>
<div class="fsdocs-tip" id="fs6">namespace Microsoft.FSharp.Data.UnitSystems.SI</div>
<div class="fsdocs-tip" id="fs7">namespace Microsoft.FSharp.Data.UnitSystems.SI.UnitSymbols</div>
<div class="fsdocs-tip" id="fs8">Multiple items<br />val Measure: sId: MeasureId&lt;&#39;u&gt; -&gt; ModelExpression&lt;&#39;u&gt;<br /><br />--------------------<br />type MeasureAttribute =
  inherit Attribute
  new: unit -&gt; MeasureAttribute<br /><br />--------------------<br />new: unit -&gt; MeasureAttribute</div>
<div class="fsdocs-tip" id="fs9">[&lt;Measure&gt;]
type individuals</div>
<div class="fsdocs-tip" id="fs10">val r: IncludedParameter&lt;/Time.day&gt;</div>
<div class="fsdocs-tip" id="fs11">Multiple items<br />val parameter: code: string -&gt; con: Parameter.Constraint -&gt; lower: float&lt;&#39;u&gt; -&gt; upper: float&lt;&#39;u&gt; -&gt; IncludedParameter&lt;&#39;u&gt;<br /><em>&lt;summary&gt;
 Define an estimatable parameter for a Bristlecone model.
&lt;/summary&gt;</em><br /><br />--------------------<br />[&lt;Measure&gt;]
type parameter</div>
<div class="fsdocs-tip" id="fs12">val notNegative: Parameter.Constraint</div>
<div class="fsdocs-tip" id="fs13">Multiple items<br />val Time&lt;&#39;t&gt; : ModelExpression&lt;&#39;t&gt;<br /><br />--------------------<br />module Time

from Bristlecone</div>
<div class="fsdocs-tip" id="fs14">[&lt;Measure&gt;]
type day</div>
<div class="fsdocs-tip" id="fs15">val K: IncludedParameter&lt;individuals&gt;</div>
<div class="fsdocs-tip" id="fs16">val N: StateId&lt;individuals&gt;</div>
<div class="fsdocs-tip" id="fs17">val state: name: string -&gt; StateId&lt;&#39;u&gt;</div>
<div class="fsdocs-tip" id="fs18">type ModelExpression&lt;&#39;u&gt; =
  private | ME of ModelExpressionUntyped
  static member (%) : ModelExpression&lt;&#39;u&gt; * ModelExpression&lt;&#39;u&gt; -&gt; ModelExpression&lt;&#39;u&gt;
  static member ( * ) : ModelExpression&lt;&#39;u1&gt; * ModelExpression&lt;&#39;u2&gt; -&gt; ModelExpression&lt;&#39;u1 &#39;u2&gt;
  static member (+) : ModelExpression&lt;&#39;u&gt; * ModelExpression&lt;&#39;u&gt; -&gt; ModelExpression&lt;&#39;u&gt;
  static member (-) : ModelExpression&lt;&#39;u&gt; * ModelExpression&lt;&#39;u&gt; -&gt; ModelExpression&lt;&#39;u&gt;
  static member (.&lt;) : ModelExpression&lt;&#39;u&gt; * ModelExpression&lt;&#39;u&gt; -&gt; BoolExpression
  static member (.&gt;) : ModelExpression&lt;&#39;u&gt; * ModelExpression&lt;&#39;u&gt; -&gt; BoolExpression
  static member (/) : ModelExpression&lt;&#39;u1&gt; * ModelExpression&lt;&#39;u2&gt; -&gt; ModelExpression&lt;&#39;u1/&#39;u2&gt;
  static member (=.) : ModelExpression&lt;&#39;u&gt; * ModelExpression&lt;&#39;u&gt; -&gt; BoolExpression
  static member Environment: sid: StateId&lt;&#39;u&gt; -&gt; ModelExpression&lt;&#39;u&gt;
  static member Exp: ModelExpression&lt;1&gt; -&gt; ModelExpression&lt;1&gt;
  ...</div>
<div class="fsdocs-tip" id="fs19">val P: name: IncludedParameter&lt;&#39;u&gt; -&gt; ModelExpression&lt;&#39;u&gt;</div>
<div class="fsdocs-tip" id="fs20">val This&lt;&#39;u&gt; : ModelExpression&lt;&#39;u&gt;</div>
<div class="fsdocs-tip" id="fs21">val Constant: x: float&lt;&#39;u&gt; -&gt; ModelExpression&lt;&#39;u&gt;</div>
<div class="fsdocs-tip" id="fs22">val hypothesis: ModelSystem.ModelSystem&lt;Time.day&gt;</div>
<div class="fsdocs-tip" id="fs23">module Model

from Bristlecone.Language<br /><em>&lt;summary&gt;
 Terms for scaffolding a model system for use with Bristlecone.
&lt;/summary&gt;</em></div>
<div class="fsdocs-tip" id="fs24">val empty&lt;&#39;time&gt; : ModelBuilder.ModelBuilder&lt;&#39;time&gt;</div>
<div class="fsdocs-tip" id="fs25">val addRateEquation: name: StateId&lt;&#39;state&gt; -&gt; expr: ModelExpression&lt;&#39;state/&#39;time&gt; -&gt; mb: ModelBuilder.ModelBuilder&lt;&#39;time&gt; -&gt; ModelBuilder.ModelBuilder&lt;&#39;time&gt;</div>
<div class="fsdocs-tip" id="fs26">val estimateParameter: p: IncludedParameter&lt;&#39;u&gt; -&gt; builder: ModelBuilder.ModelBuilder&lt;&#39;time&gt; -&gt; ModelBuilder.ModelBuilder&lt;&#39;time&gt;</div>
<div class="fsdocs-tip" id="fs27">val useLikelihoodFunction: likelihoodFn: ModelSystem.Likelihood&lt;ModelSystem.state&gt; -&gt; builder: ModelBuilder.ModelBuilder&lt;&#39;u&gt; -&gt; ModelBuilder.ModelBuilder&lt;&#39;u&gt;</div>
<div class="fsdocs-tip" id="fs28">namespace Bristlecone.ModelLibrary</div>
<div class="fsdocs-tip" id="fs29">module Likelihood

from Bristlecone.ModelLibrary<br /><em>&lt;summary&gt;Likelihood functions to represent a variety of distributions and data types.&lt;/summary&gt;<br />&lt;namespacedoc&gt;&lt;summary&gt;Pre-built model parts for use in Bristlecone&lt;/summary&gt;&lt;/namespacedoc&gt;</em></div>
<div class="fsdocs-tip" id="fs30">val sumOfSquares: keys: ModelSystem.LikelihoodRequirement list -&gt; ModelSystem.Likelihood&lt;&#39;u&gt;<br /><em>&lt;summary&gt;
 Residual sum of squares. Provides a simple metric of distance between
 observed data and model predictions.
&lt;/summary&gt;</em></div>
<div class="fsdocs-tip" id="fs31">module Require

from Bristlecone.Language</div>
<div class="fsdocs-tip" id="fs32">val state: s: StateId&lt;&#39;u&gt; -&gt; ModelSystem.LikelihoodRequirement</div>
<div class="fsdocs-tip" id="fs33">val compile: (ModelBuilder.ModelBuilder&lt;&#39;u&gt; -&gt; ModelSystem.ModelSystem&lt;&#39;u&gt;)</div>

    </div>
</main>
<aside id="fsdocs-page-menu">
    <p id="on-this-page">On this page</p>
    <ul>
  <li class="level-1">
    <a href="#Defining-a-Hypothesis-or-Model-System">
      Defining a Hypothesis (or Model System)
    </a>
  </li>
</ul>
</aside>
<dialog>
    <input type="search" placeholder="Search docs" />
    <div class="results">
        <ul></ul>
        <p class="empty">Type something to start searching.</p>
    </div>
</dialog>
<script type="module" src="https://acm.im/bristlecone/content/fsdocs-tips.js"></script>
<script type="module" src="https://acm.im/bristlecone/content/fsdocs-theme-toggle.js"></script>
<script type="module" src="https://acm.im/bristlecone/content/fsdocs-details-toggle.js"></script>
<script type="module" src="https://acm.im/bristlecone/content/fsdocs-theme.js"></script>
<script type="module" src="https://acm.im/bristlecone/content/fsdocs-search.js"></script>

</body>
</html>